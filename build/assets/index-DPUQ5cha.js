function rw(n,e){for(var t=0;t<e.length;t++){const s=e[t];if(typeof s!="string"&&!Array.isArray(s)){for(const i in s)if(i!=="default"&&!(i in n)){const o=Object.getOwnPropertyDescriptor(s,i);o&&Object.defineProperty(n,i,o.get?o:{enumerable:!0,get:()=>s[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();var zM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Qx(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function W_(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var e=n.default;if(typeof e=="function"){var t=function s(){return this instanceof s?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(s){var i=Object.getOwnPropertyDescriptor(n,s);Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:function(){return n[s]}})}),t}var pg={exports:{}},yh={},mg={exports:{}},gr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sy;function G_(){if(sy)return gr;sy=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.iterator;function w(H){return H===null||typeof H!="object"?null:(H=g&&H[g]||H["@@iterator"],typeof H=="function"?H:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,_={};function k(H,O,V){this.props=H,this.context=O,this.refs=_,this.updater=V||x}k.prototype.isReactComponent={},k.prototype.setState=function(H,O){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,O,"setState")},k.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function b(){}b.prototype=k.prototype;function R(H,O,V){this.props=H,this.context=O,this.refs=_,this.updater=V||x}var P=R.prototype=new b;P.constructor=R,S(P,k.prototype),P.isPureReactComponent=!0;var T=Array.isArray,F=Object.prototype.hasOwnProperty,ne={current:null},ee={key:!0,ref:!0,__self:!0,__source:!0};function K(H,O,V){var X,se={},de=null,le=null;if(O!=null)for(X in O.ref!==void 0&&(le=O.ref),O.key!==void 0&&(de=""+O.key),O)F.call(O,X)&&!ee.hasOwnProperty(X)&&(se[X]=O[X]);var ge=arguments.length-2;if(ge===1)se.children=V;else if(1<ge){for(var be=Array(ge),Se=0;Se<ge;Se++)be[Se]=arguments[Se+2];se.children=be}if(H&&H.defaultProps)for(X in ge=H.defaultProps,ge)se[X]===void 0&&(se[X]=ge[X]);return{$$typeof:n,type:H,key:de,ref:le,props:se,_owner:ne.current}}function Y(H,O){return{$$typeof:n,type:H.type,key:O,ref:H.ref,props:H.props,_owner:H._owner}}function q(H){return typeof H=="object"&&H!==null&&H.$$typeof===n}function L(H){var O={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(V){return O[V]})}var z=/\/+/g;function U(H,O){return typeof H=="object"&&H!==null&&H.key!=null?L(""+H.key):O.toString(36)}function te(H,O,V,X,se){var de=typeof H;(de==="undefined"||de==="boolean")&&(H=null);var le=!1;if(H===null)le=!0;else switch(de){case"string":case"number":le=!0;break;case"object":switch(H.$$typeof){case n:case e:le=!0}}if(le)return le=H,se=se(le),H=X===""?"."+U(le,0):X,T(se)?(V="",H!=null&&(V=H.replace(z,"$&/")+"/"),te(se,O,V,"",function(Se){return Se})):se!=null&&(q(se)&&(se=Y(se,V+(!se.key||le&&le.key===se.key?"":(""+se.key).replace(z,"$&/")+"/")+H)),O.push(se)),1;if(le=0,X=X===""?".":X+":",T(H))for(var ge=0;ge<H.length;ge++){de=H[ge];var be=X+U(de,ge);le+=te(de,O,V,be,se)}else if(be=w(H),typeof be=="function")for(H=be.call(H),ge=0;!(de=H.next()).done;)de=de.value,be=X+U(de,ge++),le+=te(de,O,V,be,se);else if(de==="object")throw O=String(H),Error("Objects are not valid as a React child (found: "+(O==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":O)+"). If you meant to render a collection of children, use an array instead.");return le}function re(H,O,V){if(H==null)return H;var X=[],se=0;return te(H,X,"","",function(de){return O.call(V,de,se++)}),X}function ue(H){if(H._status===-1){var O=H._result;O=O(),O.then(function(V){(H._status===0||H._status===-1)&&(H._status=1,H._result=V)},function(V){(H._status===0||H._status===-1)&&(H._status=2,H._result=V)}),H._status===-1&&(H._status=0,H._result=O)}if(H._status===1)return H._result.default;throw H._result}var fe={current:null},B={transition:null},Z={ReactCurrentDispatcher:fe,ReactCurrentBatchConfig:B,ReactCurrentOwner:ne};function me(){throw Error("act(...) is not supported in production builds of React.")}return gr.Children={map:re,forEach:function(H,O,V){re(H,function(){O.apply(this,arguments)},V)},count:function(H){var O=0;return re(H,function(){O++}),O},toArray:function(H){return re(H,function(O){return O})||[]},only:function(H){if(!q(H))throw Error("React.Children.only expected to receive a single React element child.");return H}},gr.Component=k,gr.Fragment=t,gr.Profiler=i,gr.PureComponent=R,gr.StrictMode=s,gr.Suspense=d,gr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Z,gr.act=me,gr.cloneElement=function(H,O,V){if(H==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+H+".");var X=S({},H.props),se=H.key,de=H.ref,le=H._owner;if(O!=null){if(O.ref!==void 0&&(de=O.ref,le=ne.current),O.key!==void 0&&(se=""+O.key),H.type&&H.type.defaultProps)var ge=H.type.defaultProps;for(be in O)F.call(O,be)&&!ee.hasOwnProperty(be)&&(X[be]=O[be]===void 0&&ge!==void 0?ge[be]:O[be])}var be=arguments.length-2;if(be===1)X.children=V;else if(1<be){ge=Array(be);for(var Se=0;Se<be;Se++)ge[Se]=arguments[Se+2];X.children=ge}return{$$typeof:n,type:H.type,key:se,ref:de,props:X,_owner:le}},gr.createContext=function(H){return H={$$typeof:c,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},H.Provider={$$typeof:o,_context:H},H.Consumer=H},gr.createElement=K,gr.createFactory=function(H){var O=K.bind(null,H);return O.type=H,O},gr.createRef=function(){return{current:null}},gr.forwardRef=function(H){return{$$typeof:u,render:H}},gr.isValidElement=q,gr.lazy=function(H){return{$$typeof:p,_payload:{_status:-1,_result:H},_init:ue}},gr.memo=function(H,O){return{$$typeof:h,type:H,compare:O===void 0?null:O}},gr.startTransition=function(H){var O=B.transition;B.transition={};try{H()}finally{B.transition=O}},gr.unstable_act=me,gr.useCallback=function(H,O){return fe.current.useCallback(H,O)},gr.useContext=function(H){return fe.current.useContext(H)},gr.useDebugValue=function(){},gr.useDeferredValue=function(H){return fe.current.useDeferredValue(H)},gr.useEffect=function(H,O){return fe.current.useEffect(H,O)},gr.useId=function(){return fe.current.useId()},gr.useImperativeHandle=function(H,O,V){return fe.current.useImperativeHandle(H,O,V)},gr.useInsertionEffect=function(H,O){return fe.current.useInsertionEffect(H,O)},gr.useLayoutEffect=function(H,O){return fe.current.useLayoutEffect(H,O)},gr.useMemo=function(H,O){return fe.current.useMemo(H,O)},gr.useReducer=function(H,O,V){return fe.current.useReducer(H,O,V)},gr.useRef=function(H){return fe.current.useRef(H)},gr.useState=function(H){return fe.current.useState(H)},gr.useSyncExternalStore=function(H,O,V){return fe.current.useSyncExternalStore(H,O,V)},gr.useTransition=function(){return fe.current.useTransition()},gr.version="18.3.1",gr}var iy;function Zx(){return iy||(iy=1,mg.exports=G_()),mg.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ay;function K_(){if(ay)return yh;ay=1;var n=Zx(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function c(u,d,h){var p,g={},w=null,x=null;h!==void 0&&(w=""+h),d.key!==void 0&&(w=""+d.key),d.ref!==void 0&&(x=d.ref);for(p in d)s.call(d,p)&&!o.hasOwnProperty(p)&&(g[p]=d[p]);if(u&&u.defaultProps)for(p in d=u.defaultProps,d)g[p]===void 0&&(g[p]=d[p]);return{$$typeof:e,type:u,key:w,ref:x,props:g,_owner:i.current}}return yh.Fragment=t,yh.jsx=c,yh.jsxs=c,yh}var oy;function Y_(){return oy||(oy=1,pg.exports=K_()),pg.exports}var r=Y_(),Bf={},gg={exports:{}},mi={},xg={exports:{}},vg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ly;function J_(){return ly||(ly=1,(function(n){function e(B,Z){var me=B.length;B.push(Z);e:for(;0<me;){var H=me-1>>>1,O=B[H];if(0<i(O,Z))B[H]=Z,B[me]=O,me=H;else break e}}function t(B){return B.length===0?null:B[0]}function s(B){if(B.length===0)return null;var Z=B[0],me=B.pop();if(me!==Z){B[0]=me;e:for(var H=0,O=B.length,V=O>>>1;H<V;){var X=2*(H+1)-1,se=B[X],de=X+1,le=B[de];if(0>i(se,me))de<O&&0>i(le,se)?(B[H]=le,B[de]=me,H=de):(B[H]=se,B[X]=me,H=X);else if(de<O&&0>i(le,me))B[H]=le,B[de]=me,H=de;else break e}}return Z}function i(B,Z){var me=B.sortIndex-Z.sortIndex;return me!==0?me:B.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var c=Date,u=c.now();n.unstable_now=function(){return c.now()-u}}var d=[],h=[],p=1,g=null,w=3,x=!1,S=!1,_=!1,k=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function P(B){for(var Z=t(h);Z!==null;){if(Z.callback===null)s(h);else if(Z.startTime<=B)s(h),Z.sortIndex=Z.expirationTime,e(d,Z);else break;Z=t(h)}}function T(B){if(_=!1,P(B),!S)if(t(d)!==null)S=!0,ue(F);else{var Z=t(h);Z!==null&&fe(T,Z.startTime-B)}}function F(B,Z){S=!1,_&&(_=!1,b(K),K=-1),x=!0;var me=w;try{for(P(Z),g=t(d);g!==null&&(!(g.expirationTime>Z)||B&&!L());){var H=g.callback;if(typeof H=="function"){g.callback=null,w=g.priorityLevel;var O=H(g.expirationTime<=Z);Z=n.unstable_now(),typeof O=="function"?g.callback=O:g===t(d)&&s(d),P(Z)}else s(d);g=t(d)}if(g!==null)var V=!0;else{var X=t(h);X!==null&&fe(T,X.startTime-Z),V=!1}return V}finally{g=null,w=me,x=!1}}var ne=!1,ee=null,K=-1,Y=5,q=-1;function L(){return!(n.unstable_now()-q<Y)}function z(){if(ee!==null){var B=n.unstable_now();q=B;var Z=!0;try{Z=ee(!0,B)}finally{Z?U():(ne=!1,ee=null)}}else ne=!1}var U;if(typeof R=="function")U=function(){R(z)};else if(typeof MessageChannel<"u"){var te=new MessageChannel,re=te.port2;te.port1.onmessage=z,U=function(){re.postMessage(null)}}else U=function(){k(z,0)};function ue(B){ee=B,ne||(ne=!0,U())}function fe(B,Z){K=k(function(){B(n.unstable_now())},Z)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(B){B.callback=null},n.unstable_continueExecution=function(){S||x||(S=!0,ue(F))},n.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Y=0<B?Math.floor(1e3/B):5},n.unstable_getCurrentPriorityLevel=function(){return w},n.unstable_getFirstCallbackNode=function(){return t(d)},n.unstable_next=function(B){switch(w){case 1:case 2:case 3:var Z=3;break;default:Z=w}var me=w;w=Z;try{return B()}finally{w=me}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(B,Z){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var me=w;w=B;try{return Z()}finally{w=me}},n.unstable_scheduleCallback=function(B,Z,me){var H=n.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?H+me:H):me=H,B){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=me+O,B={id:p++,callback:Z,priorityLevel:B,startTime:me,expirationTime:O,sortIndex:-1},me>H?(B.sortIndex=me,e(h,B),t(d)===null&&B===t(h)&&(_?(b(K),K=-1):_=!0,fe(T,me-H))):(B.sortIndex=O,e(d,B),S||x||(S=!0,ue(F))),B},n.unstable_shouldYield=L,n.unstable_wrapCallback=function(B){var Z=w;return function(){var me=w;w=Z;try{return B.apply(this,arguments)}finally{w=me}}}})(vg)),vg}var cy;function X_(){return cy||(cy=1,xg.exports=J_()),xg.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uy;function Q_(){if(uy)return mi;uy=1;var n=Zx(),e=X_();function t(a){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+a,f=1;f<arguments.length;f++)l+="&args[]="+encodeURIComponent(arguments[f]);return"Minified React error #"+a+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,i={};function o(a,l){c(a,l),c(a+"Capture",l)}function c(a,l){for(i[a]=l,a=0;a<l.length;a++)s.add(l[a])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},g={};function w(a){return d.call(g,a)?!0:d.call(p,a)?!1:h.test(a)?g[a]=!0:(p[a]=!0,!1)}function x(a,l,f,v){if(f!==null&&f.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return v?!1:f!==null?!f.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function S(a,l,f,v){if(l===null||typeof l>"u"||x(a,l,f,v))return!0;if(v)return!1;if(f!==null)switch(f.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function _(a,l,f,v,N,E,$){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=v,this.attributeNamespace=N,this.mustUseProperty=f,this.propertyName=a,this.type=l,this.sanitizeURL=E,this.removeEmptyString=$}var k={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){k[a]=new _(a,0,!1,a,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var l=a[0];k[l]=new _(l,1,!1,a[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(a){k[a]=new _(a,2,!1,a.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){k[a]=new _(a,2,!1,a,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){k[a]=new _(a,3,!1,a.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(a){k[a]=new _(a,3,!0,a,null,!1,!1)}),["capture","download"].forEach(function(a){k[a]=new _(a,4,!1,a,null,!1,!1)}),["cols","rows","size","span"].forEach(function(a){k[a]=new _(a,6,!1,a,null,!1,!1)}),["rowSpan","start"].forEach(function(a){k[a]=new _(a,5,!1,a.toLowerCase(),null,!1,!1)});var b=/[\-:]([a-z])/g;function R(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var l=a.replace(b,R);k[l]=new _(l,1,!1,a,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var l=a.replace(b,R);k[l]=new _(l,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(a){var l=a.replace(b,R);k[l]=new _(l,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(a){k[a]=new _(a,1,!1,a.toLowerCase(),null,!1,!1)}),k.xlinkHref=new _("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(a){k[a]=new _(a,1,!1,a.toLowerCase(),null,!0,!0)});function P(a,l,f,v){var N=k.hasOwnProperty(l)?k[l]:null;(N!==null?N.type!==0:v||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(S(l,f,N,v)&&(f=null),v||N===null?w(l)&&(f===null?a.removeAttribute(l):a.setAttribute(l,""+f)):N.mustUseProperty?a[N.propertyName]=f===null?N.type===3?!1:"":f:(l=N.attributeName,v=N.attributeNamespace,f===null?a.removeAttribute(l):(N=N.type,f=N===3||N===4&&f===!0?"":""+f,v?a.setAttributeNS(v,l,f):a.setAttribute(l,f))))}var T=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,F=Symbol.for("react.element"),ne=Symbol.for("react.portal"),ee=Symbol.for("react.fragment"),K=Symbol.for("react.strict_mode"),Y=Symbol.for("react.profiler"),q=Symbol.for("react.provider"),L=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),U=Symbol.for("react.suspense"),te=Symbol.for("react.suspense_list"),re=Symbol.for("react.memo"),ue=Symbol.for("react.lazy"),fe=Symbol.for("react.offscreen"),B=Symbol.iterator;function Z(a){return a===null||typeof a!="object"?null:(a=B&&a[B]||a["@@iterator"],typeof a=="function"?a:null)}var me=Object.assign,H;function O(a){if(H===void 0)try{throw Error()}catch(f){var l=f.stack.trim().match(/\n( *(at )?)/);H=l&&l[1]||""}return`
`+H+a}var V=!1;function X(a,l){if(!a||V)return"";V=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(Pe){var v=Pe}Reflect.construct(a,[],l)}else{try{l.call()}catch(Pe){v=Pe}a.call(l.prototype)}else{try{throw Error()}catch(Pe){v=Pe}a()}}catch(Pe){if(Pe&&v&&typeof Pe.stack=="string"){for(var N=Pe.stack.split(`
`),E=v.stack.split(`
`),$=N.length-1,he=E.length-1;1<=$&&0<=he&&N[$]!==E[he];)he--;for(;1<=$&&0<=he;$--,he--)if(N[$]!==E[he]){if($!==1||he!==1)do if($--,he--,0>he||N[$]!==E[he]){var ve=`
`+N[$].replace(" at new "," at ");return a.displayName&&ve.includes("<anonymous>")&&(ve=ve.replace("<anonymous>",a.displayName)),ve}while(1<=$&&0<=he);break}}}finally{V=!1,Error.prepareStackTrace=f}return(a=a?a.displayName||a.name:"")?O(a):""}function se(a){switch(a.tag){case 5:return O(a.type);case 16:return O("Lazy");case 13:return O("Suspense");case 19:return O("SuspenseList");case 0:case 2:case 15:return a=X(a.type,!1),a;case 11:return a=X(a.type.render,!1),a;case 1:return a=X(a.type,!0),a;default:return""}}function de(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case ee:return"Fragment";case ne:return"Portal";case Y:return"Profiler";case K:return"StrictMode";case U:return"Suspense";case te:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case L:return(a.displayName||"Context")+".Consumer";case q:return(a._context.displayName||"Context")+".Provider";case z:var l=a.render;return a=a.displayName,a||(a=l.displayName||l.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case re:return l=a.displayName||null,l!==null?l:de(a.type)||"Memo";case ue:l=a._payload,a=a._init;try{return de(a(l))}catch{}}return null}function le(a){var l=a.type;switch(a.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=l.render,a=a.displayName||a.name||"",l.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return de(l);case 8:return l===K?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function ge(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function be(a){var l=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Se(a){var l=be(a)?"checked":"value",f=Object.getOwnPropertyDescriptor(a.constructor.prototype,l),v=""+a[l];if(!a.hasOwnProperty(l)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var N=f.get,E=f.set;return Object.defineProperty(a,l,{configurable:!0,get:function(){return N.call(this)},set:function($){v=""+$,E.call(this,$)}}),Object.defineProperty(a,l,{enumerable:f.enumerable}),{getValue:function(){return v},setValue:function($){v=""+$},stopTracking:function(){a._valueTracker=null,delete a[l]}}}}function De(a){a._valueTracker||(a._valueTracker=Se(a))}function Je(a){if(!a)return!1;var l=a._valueTracker;if(!l)return!0;var f=l.getValue(),v="";return a&&(v=be(a)?a.checked?"true":"false":a.value),a=v,a!==f?(l.setValue(a),!0):!1}function tt(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}function ut(a,l){var f=l.checked;return me({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:f??a._wrapperState.initialChecked})}function ie(a,l){var f=l.defaultValue==null?"":l.defaultValue,v=l.checked!=null?l.checked:l.defaultChecked;f=ge(l.value!=null?l.value:f),a._wrapperState={initialChecked:v,initialValue:f,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function st(a,l){l=l.checked,l!=null&&P(a,"checked",l,!1)}function zt(a,l){st(a,l);var f=ge(l.value),v=l.type;if(f!=null)v==="number"?(f===0&&a.value===""||a.value!=f)&&(a.value=""+f):a.value!==""+f&&(a.value=""+f);else if(v==="submit"||v==="reset"){a.removeAttribute("value");return}l.hasOwnProperty("value")?We(a,l.type,f):l.hasOwnProperty("defaultValue")&&We(a,l.type,ge(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(a.defaultChecked=!!l.defaultChecked)}function Bt(a,l,f){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var v=l.type;if(!(v!=="submit"&&v!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+a._wrapperState.initialValue,f||l===a.value||(a.value=l),a.defaultValue=l}f=a.name,f!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,f!==""&&(a.name=f)}function We(a,l,f){(l!=="number"||tt(a.ownerDocument)!==a)&&(f==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+f&&(a.defaultValue=""+f))}var Ot=Array.isArray;function ct(a,l,f,v){if(a=a.options,l){l={};for(var N=0;N<f.length;N++)l["$"+f[N]]=!0;for(f=0;f<a.length;f++)N=l.hasOwnProperty("$"+a[f].value),a[f].selected!==N&&(a[f].selected=N),N&&v&&(a[f].defaultSelected=!0)}else{for(f=""+ge(f),l=null,N=0;N<a.length;N++){if(a[N].value===f){a[N].selected=!0,v&&(a[N].defaultSelected=!0);return}l!==null||a[N].disabled||(l=a[N])}l!==null&&(l.selected=!0)}}function ht(a,l){if(l.dangerouslySetInnerHTML!=null)throw Error(t(91));return me({},l,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function _t(a,l){var f=l.value;if(f==null){if(f=l.children,l=l.defaultValue,f!=null){if(l!=null)throw Error(t(92));if(Ot(f)){if(1<f.length)throw Error(t(93));f=f[0]}l=f}l==null&&(l=""),f=l}a._wrapperState={initialValue:ge(f)}}function _r(a,l){var f=ge(l.value),v=ge(l.defaultValue);f!=null&&(f=""+f,f!==a.value&&(a.value=f),l.defaultValue==null&&a.defaultValue!==f&&(a.defaultValue=f)),v!=null&&(a.defaultValue=""+v)}function lr(a){var l=a.textContent;l===a._wrapperState.initialValue&&l!==""&&l!==null&&(a.value=l)}function Wt(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function cr(a,l){return a==null||a==="http://www.w3.org/1999/xhtml"?Wt(l):a==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var nr,gt=(function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,f,v,N){MSApp.execUnsafeLocalFunction(function(){return a(l,f,v,N)})}:a})(function(a,l){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=l;else{for(nr=nr||document.createElement("div"),nr.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=nr.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;l.firstChild;)a.appendChild(l.firstChild)}});function $t(a,l){if(l){var f=a.firstChild;if(f&&f===a.lastChild&&f.nodeType===3){f.nodeValue=l;return}}a.textContent=l}var xt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$r=["Webkit","ms","Moz","O"];Object.keys(xt).forEach(function(a){$r.forEach(function(l){l=l+a.charAt(0).toUpperCase()+a.substring(1),xt[l]=xt[a]})});function pr(a,l,f){return l==null||typeof l=="boolean"||l===""?"":f||typeof l!="number"||l===0||xt.hasOwnProperty(a)&&xt[a]?(""+l).trim():l+"px"}function sr(a,l){a=a.style;for(var f in l)if(l.hasOwnProperty(f)){var v=f.indexOf("--")===0,N=pr(f,l[f],v);f==="float"&&(f="cssFloat"),v?a.setProperty(f,N):a[f]=N}}var ir=me({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Dr(a,l){if(l){if(ir[a]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(t(137,a));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(t(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(t(61))}if(l.style!=null&&typeof l.style!="object")throw Error(t(62))}}function Dt(a,l){if(a.indexOf("-")===-1)return typeof l.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kr=null;function Et(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Yt=null,Pr=null,Xt=null;function Ut(a){if(a=Bl(a)){if(typeof Yt!="function")throw Error(t(280));var l=a.stateNode;l&&(l=Mc(l),Yt(a.stateNode,a.type,l))}}function lt(a){Pr?Xt?Xt.push(a):Xt=[a]:Pr=a}function Wr(){if(Pr){var a=Pr,l=Xt;if(Xt=Pr=null,Ut(a),l)for(a=0;a<l.length;a++)Ut(l[a])}}function yr(a,l){return a(l)}function on(){}var es=!1;function dt(a,l,f){if(es)return a(l,f);es=!0;try{return yr(a,l,f)}finally{es=!1,(Pr!==null||Xt!==null)&&(on(),Wr())}}function Zr(a,l){var f=a.stateNode;if(f===null)return null;var v=Mc(f);if(v===null)return null;f=v[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(a=a.type,v=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!v;break e;default:a=!1}if(a)return null;if(f&&typeof f!="function")throw Error(t(231,l,typeof f));return f}var cs=!1;if(u)try{var zr={};Object.defineProperty(zr,"passive",{get:function(){cs=!0}}),window.addEventListener("test",zr,zr),window.removeEventListener("test",zr,zr)}catch{cs=!1}function ln(a,l,f,v,N,E,$,he,ve){var Pe=Array.prototype.slice.call(arguments,3);try{l.apply(f,Pe)}catch(Qe){this.onError(Qe)}}var Mr=!1,Fr=null,jn=!1,pa=null,Ga={onError:function(a){Mr=!0,Fr=a}};function Ni(a,l,f,v,N,E,$,he,ve){Mr=!1,Fr=null,ln.apply(Ga,arguments)}function Vi(a,l,f,v,N,E,$,he,ve){if(Ni.apply(this,arguments),Mr){if(Mr){var Pe=Fr;Mr=!1,Fr=null}else throw Error(t(198));jn||(jn=!0,pa=Pe)}}function ts(a){var l=a,f=a;if(a.alternate)for(;l.return;)l=l.return;else{a=l;do l=a,(l.flags&4098)!==0&&(f=l.return),a=l.return;while(a)}return l.tag===3?f:null}function ti(a){if(a.tag===13){var l=a.memoizedState;if(l===null&&(a=a.alternate,a!==null&&(l=a.memoizedState)),l!==null)return l.dehydrated}return null}function zs(a){if(ts(a)!==a)throw Error(t(188))}function ko(a){var l=a.alternate;if(!l){if(l=ts(a),l===null)throw Error(t(188));return l!==a?null:a}for(var f=a,v=l;;){var N=f.return;if(N===null)break;var E=N.alternate;if(E===null){if(v=N.return,v!==null){f=v;continue}break}if(N.child===E.child){for(E=N.child;E;){if(E===f)return zs(N),a;if(E===v)return zs(N),l;E=E.sibling}throw Error(t(188))}if(f.return!==v.return)f=N,v=E;else{for(var $=!1,he=N.child;he;){if(he===f){$=!0,f=N,v=E;break}if(he===v){$=!0,v=N,f=E;break}he=he.sibling}if(!$){for(he=E.child;he;){if(he===f){$=!0,f=E,v=N;break}if(he===v){$=!0,v=E,f=N;break}he=he.sibling}if(!$)throw Error(t(189))}}if(f.alternate!==v)throw Error(t(190))}if(f.tag!==3)throw Error(t(188));return f.stateNode.current===f?a:l}function _i(a){return a=ko(a),a!==null?Ka(a):null}function Ka(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var l=Ka(a);if(l!==null)return l;a=a.sibling}return null}var Co=e.unstable_scheduleCallback,Ao=e.unstable_cancelCallback,xl=e.unstable_shouldYield,Wd=e.unstable_requestPaint,rn=e.unstable_now,ku=e.unstable_getCurrentPriorityLevel,vl=e.unstable_ImmediatePriority,qs=e.unstable_UserBlockingPriority,Ya=e.unstable_NormalPriority,Cu=e.unstable_LowPriority,yl=e.unstable_IdlePriority,Eo=null,Vs=null;function Au(a){if(Vs&&typeof Vs.onCommitFiberRoot=="function")try{Vs.onCommitFiberRoot(Eo,a,void 0,(a.current.flags&128)===128)}catch{}}var Tn=Math.clz32?Math.clz32:Ln,wl=Math.log,Gd=Math.LN2;function Ln(a){return a>>>=0,a===0?32:31-(wl(a)/Gd|0)|0}var Po=64,Hs=4194304;function Hi(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function To(a,l){var f=a.pendingLanes;if(f===0)return 0;var v=0,N=a.suspendedLanes,E=a.pingedLanes,$=f&268435455;if($!==0){var he=$&~N;he!==0?v=Hi(he):(E&=$,E!==0&&(v=Hi(E)))}else $=f&~N,$!==0?v=Hi($):E!==0&&(v=Hi(E));if(v===0)return 0;if(l!==0&&l!==v&&(l&N)===0&&(N=v&-v,E=l&-l,N>=E||N===16&&(E&4194240)!==0))return l;if((v&4)!==0&&(v|=f&16),l=a.entangledLanes,l!==0)for(a=a.entanglements,l&=v;0<l;)f=31-Tn(l),N=1<<f,v|=a[f],l&=~N;return v}function ri(a,l){switch(a){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $n(a,l){for(var f=a.suspendedLanes,v=a.pingedLanes,N=a.expirationTimes,E=a.pendingLanes;0<E;){var $=31-Tn(E),he=1<<$,ve=N[$];ve===-1?((he&f)===0||(he&v)!==0)&&(N[$]=ri(he,l)):ve<=l&&(a.expiredLanes|=he),E&=~he}}function Si(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function yc(){var a=Po;return Po<<=1,(Po&4194240)===0&&(Po=64),a}function wc(a){for(var l=[],f=0;31>f;f++)l.push(a);return l}function Lo(a,l,f){a.pendingLanes|=l,l!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,l=31-Tn(l),a[l]=f}function Wi(a,l){var f=a.pendingLanes&~l;a.pendingLanes=l,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=l,a.mutableReadLanes&=l,a.entangledLanes&=l,l=a.entanglements;var v=a.eventTimes;for(a=a.expirationTimes;0<f;){var N=31-Tn(f),E=1<<N;l[N]=0,v[N]=-1,a[N]=-1,f&=~E}}function bl(a,l){var f=a.entangledLanes|=l;for(a=a.entanglements;f;){var v=31-Tn(f),N=1<<v;N&l|a[v]&l&&(a[v]|=l),f&=~N}}var Cr=0;function Io(a){return a&=-a,1<a?4<a?(a&268435455)!==0?16:536870912:4:1}var Ja,bc,Eu,Pu,jl,Nl=!1,Ss=[],Gi=null,ks=null,ni=null,Ro=new Map,Gt=new Map,Ki=[],Kd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Tu(a,l){switch(a){case"focusin":case"focusout":Gi=null;break;case"dragenter":case"dragleave":ks=null;break;case"mouseover":case"mouseout":ni=null;break;case"pointerover":case"pointerout":Ro.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gt.delete(l.pointerId)}}function Ws(a,l,f,v,N,E){return a===null||a.nativeEvent!==E?(a={blockedOn:l,domEventName:f,eventSystemFlags:v,nativeEvent:E,targetContainers:[N]},l!==null&&(l=Bl(l),l!==null&&bc(l)),a):(a.eventSystemFlags|=v,l=a.targetContainers,N!==null&&l.indexOf(N)===-1&&l.push(N),a)}function ma(a,l,f,v,N){switch(l){case"focusin":return Gi=Ws(Gi,a,l,f,v,N),!0;case"dragenter":return ks=Ws(ks,a,l,f,v,N),!0;case"mouseover":return ni=Ws(ni,a,l,f,v,N),!0;case"pointerover":var E=N.pointerId;return Ro.set(E,Ws(Ro.get(E)||null,a,l,f,v,N)),!0;case"gotpointercapture":return E=N.pointerId,Gt.set(E,Ws(Gt.get(E)||null,a,l,f,v,N)),!0}return!1}function Lu(a){var l=oo(a.target);if(l!==null){var f=ts(l);if(f!==null){if(l=f.tag,l===13){if(l=ti(f),l!==null){a.blockedOn=l,jl(a.priority,function(){Eu(f)});return}}else if(l===3&&f.stateNode.current.memoizedState.isDehydrated){a.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}a.blockedOn=null}function _l(a){if(a.blockedOn!==null)return!1;for(var l=a.targetContainers;0<l.length;){var f=Mo(a.domEventName,a.eventSystemFlags,l[0],a.nativeEvent);if(f===null){f=a.nativeEvent;var v=new f.constructor(f.type,f);kr=v,f.target.dispatchEvent(v),kr=null}else return l=Bl(f),l!==null&&bc(l),a.blockedOn=f,!1;l.shift()}return!0}function Oo(a,l,f){_l(a)&&f.delete(l)}function jc(){Nl=!1,Gi!==null&&_l(Gi)&&(Gi=null),ks!==null&&_l(ks)&&(ks=null),ni!==null&&_l(ni)&&(ni=null),Ro.forEach(Oo),Gt.forEach(Oo)}function ki(a,l){a.blockedOn===l&&(a.blockedOn=null,Nl||(Nl=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,jc)))}function Do(a){function l(N){return ki(N,a)}if(0<Ss.length){ki(Ss[0],a);for(var f=1;f<Ss.length;f++){var v=Ss[f];v.blockedOn===a&&(v.blockedOn=null)}}for(Gi!==null&&ki(Gi,a),ks!==null&&ki(ks,a),ni!==null&&ki(ni,a),Ro.forEach(l),Gt.forEach(l),f=0;f<Ki.length;f++)v=Ki[f],v.blockedOn===a&&(v.blockedOn=null);for(;0<Ki.length&&(f=Ki[0],f.blockedOn===null);)Lu(f),f.blockedOn===null&&Ki.shift()}var Cs=T.ReactCurrentBatchConfig,Sl=!0;function Nc(a,l,f,v){var N=Cr,E=Cs.transition;Cs.transition=null;try{Cr=1,kl(a,l,f,v)}finally{Cr=N,Cs.transition=E}}function _c(a,l,f,v){var N=Cr,E=Cs.transition;Cs.transition=null;try{Cr=4,kl(a,l,f,v)}finally{Cr=N,Cs.transition=E}}function kl(a,l,f,v){if(Sl){var N=Mo(a,l,f,v);if(N===null)Rc(a,l,v,si,f),Tu(a,v);else if(ma(N,a,l,f,v))v.stopPropagation();else if(Tu(a,v),l&4&&-1<Kd.indexOf(a)){for(;N!==null;){var E=Bl(N);if(E!==null&&Ja(E),E=Mo(a,l,f,v),E===null&&Rc(a,l,v,si,f),E===N)break;N=E}N!==null&&v.stopPropagation()}else Rc(a,l,v,null,f)}}var si=null;function Mo(a,l,f,v){if(si=null,a=Et(v),a=oo(a),a!==null)if(l=ts(a),l===null)a=null;else if(f=l.tag,f===13){if(a=ti(l),a!==null)return a;a=null}else if(f===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;a=null}else l!==a&&(a=null);return si=a,null}function Fo(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ku()){case vl:return 1;case qs:return 4;case Ya:case Cu:return 16;case yl:return 536870912;default:return 16}default:return 16}}var ii=null,ga=null,Xa=null;function Sc(){if(Xa)return Xa;var a,l=ga,f=l.length,v,N="value"in ii?ii.value:ii.textContent,E=N.length;for(a=0;a<f&&l[a]===N[a];a++);var $=f-a;for(v=1;v<=$&&l[f-v]===N[E-v];v++);return Xa=N.slice(a,1<v?1-v:void 0)}function Bo(a){var l=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&l===13&&(a=13)):a=l,a===10&&(a=13),32<=a||a===13?a:0}function ai(){return!0}function Yi(){return!1}function us(a){function l(f,v,N,E,$){this._reactName=f,this._targetInst=N,this.type=v,this.nativeEvent=E,this.target=$,this.currentTarget=null;for(var he in a)a.hasOwnProperty(he)&&(f=a[he],this[he]=f?f(E):E[he]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?ai:Yi,this.isPropagationStopped=Yi,this}return me(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=ai)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=ai)},persist:function(){},isPersistent:ai}),l}var oi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cl=us(oi),j=me({},oi,{view:0,detail:0}),M=us(j),ce,pe,je,Be=me({},j,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Uo,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==je&&(je&&a.type==="mousemove"?(ce=a.screenX-je.screenX,pe=a.screenY-je.screenY):pe=ce=0,je=a),ce)},movementY:function(a){return"movementY"in a?a.movementY:pe}}),Ke=us(Be),yt=me({},Be,{dataTransfer:0}),Tt=us(yt),Qt=me({},j,{relatedTarget:0}),tr=us(Qt),Sr=me({},oi,{animationName:0,elapsedTime:0,pseudoElement:0}),fn=us(Sr),In=me({},oi,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),en=us(In),zn=me({},oi,{data:0}),Nn=us(zn),rs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xa={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ci={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function va(a){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(a):(a=Ci[a])?!!l[a]:!1}function Uo(){return va}var Al=me({},j,{key:function(a){if(a.key){var l=rs[a.key]||a.key;if(l!=="Unidentified")return l}return a.type==="keypress"?(a=Bo(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?xa[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Uo,charCode:function(a){return a.type==="keypress"?Bo(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Bo(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),Qa=us(Al),$o=me({},Be,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Za=us($o),eo=me({},j,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Uo}),ns=us(eo),zo=me({},oi,{propertyName:0,elapsedTime:0,pseudoElement:0}),qo=us(zo),kc=me({},Be,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),Cc=us(kc),ys=[9,13,27,32],Ai=u&&"CompositionEvent"in window,Ji=null;u&&"documentMode"in document&&(Ji=document.documentMode);var Iu=u&&"TextEvent"in window&&!Ji,Gs=u&&(!Ai||Ji&&8<Ji&&11>=Ji),to=" ",El=!1;function Pl(a,l){switch(a){case"keyup":return ys.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ya(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var li=!1;function Ks(a,l){switch(a){case"compositionend":return ya(l);case"keypress":return l.which!==32?null:(El=!0,to);case"textInput":return a=l.data,a===to&&El?null:a;default:return null}}function Ys(a,l){if(li)return a==="compositionend"||!Ai&&Pl(a,l)?(a=Sc(),Xa=ga=ii=null,li=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Gs&&l.locale!=="ko"?null:l.data;default:return null}}var ro={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xi(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l==="input"?!!ro[a.type]:l==="textarea"}function wa(a,l,f,v){lt(v),l=Fu(l,"onChange"),0<l.length&&(f=new Cl("onChange","change",null,f,v),a.push({event:f,listeners:l}))}var ba=null,Qi=null;function _n(a){Lc(a,0)}function Vo(a){var l=el(a);if(Je(l))return a}function Zi(a,l){if(a==="change")return l}var Ei=!1;if(u){var Ho;if(u){var Wo="oninput"in document;if(!Wo){var Tl=document.createElement("div");Tl.setAttribute("oninput","return;"),Wo=typeof Tl.oninput=="function"}Ho=Wo}else Ho=!1;Ei=Ho&&(!document.documentMode||9<document.documentMode)}function Ll(){ba&&(ba.detachEvent("onpropertychange",ja),Qi=ba=null)}function ja(a){if(a.propertyName==="value"&&Vo(Qi)){var l=[];wa(l,Qi,a,Et(a)),dt(_n,l)}}function no(a,l,f){a==="focusin"?(Ll(),ba=l,Qi=f,ba.attachEvent("onpropertychange",ja)):a==="focusout"&&Ll()}function so(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Vo(Qi)}function Go(a,l){if(a==="click")return Vo(l)}function io(a,l){if(a==="input"||a==="change")return Vo(l)}function Ko(a,l){return a===l&&(a!==0||1/a===1/l)||a!==a&&l!==l}var gn=typeof Object.is=="function"?Object.is:Ko;function As(a,l){if(gn(a,l))return!0;if(typeof a!="object"||a===null||typeof l!="object"||l===null)return!1;var f=Object.keys(a),v=Object.keys(l);if(f.length!==v.length)return!1;for(v=0;v<f.length;v++){var N=f[v];if(!d.call(l,N)||!gn(a[N],l[N]))return!1}return!0}function Tr(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function qr(a,l){var f=Tr(a);a=0;for(var v;f;){if(f.nodeType===3){if(v=a+f.textContent.length,a<=l&&v>=l)return{node:f,offset:l-a};a=v}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=Tr(f)}}function xn(a,l){return a&&l?a===l?!0:a&&a.nodeType===3?!1:l&&l.nodeType===3?xn(a,l.parentNode):"contains"in a?a.contains(l):a.compareDocumentPosition?!!(a.compareDocumentPosition(l)&16):!1:!1}function Rn(){for(var a=window,l=tt();l instanceof a.HTMLIFrameElement;){try{var f=typeof l.contentWindow.location.href=="string"}catch{f=!1}if(f)a=l.contentWindow;else break;l=tt(a.document)}return l}function Pi(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l&&(l==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||l==="textarea"||a.contentEditable==="true")}function Ac(a){var l=Rn(),f=a.focusedElem,v=a.selectionRange;if(l!==f&&f&&f.ownerDocument&&xn(f.ownerDocument.documentElement,f)){if(v!==null&&Pi(f)){if(l=v.start,a=v.end,a===void 0&&(a=l),"selectionStart"in f)f.selectionStart=l,f.selectionEnd=Math.min(a,f.value.length);else if(a=(l=f.ownerDocument||document)&&l.defaultView||window,a.getSelection){a=a.getSelection();var N=f.textContent.length,E=Math.min(v.start,N);v=v.end===void 0?E:Math.min(v.end,N),!a.extend&&E>v&&(N=v,v=E,E=N),N=qr(f,E);var $=qr(f,v);N&&$&&(a.rangeCount!==1||a.anchorNode!==N.node||a.anchorOffset!==N.offset||a.focusNode!==$.node||a.focusOffset!==$.offset)&&(l=l.createRange(),l.setStart(N.node,N.offset),a.removeAllRanges(),E>v?(a.addRange(l),a.extend($.node,$.offset)):(l.setEnd($.node,$.offset),a.addRange(l)))}}for(l=[],a=f;a=a.parentNode;)a.nodeType===1&&l.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof f.focus=="function"&&f.focus(),f=0;f<l.length;f++)a=l[f],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var Il=u&&"documentMode"in document&&11>=document.documentMode,Na=null,Ru=null,Rl=null,Ou=!1;function Yd(a,l,f){var v=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;Ou||Na==null||Na!==tt(v)||(v=Na,"selectionStart"in v&&Pi(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),Rl&&As(Rl,v)||(Rl=v,v=Fu(Ru,"onSelect"),0<v.length&&(l=new Cl("onSelect","select",null,l,f),a.push({event:l,listeners:v}),l.target=Na)))}function Ec(a,l){var f={};return f[a.toLowerCase()]=l.toLowerCase(),f["Webkit"+a]="webkit"+l,f["Moz"+a]="moz"+l,f}var Yo={animationend:Ec("Animation","AnimationEnd"),animationiteration:Ec("Animation","AnimationIteration"),animationstart:Ec("Animation","AnimationStart"),transitionend:Ec("Transition","TransitionEnd")},Jo={},Jd={};u&&(Jd=document.createElement("div").style,"AnimationEvent"in window||(delete Yo.animationend.animation,delete Yo.animationiteration.animation,delete Yo.animationstart.animation),"TransitionEvent"in window||delete Yo.transitionend.transition);function Pc(a){if(Jo[a])return Jo[a];if(!Yo[a])return a;var l=Yo[a],f;for(f in l)if(l.hasOwnProperty(f)&&f in Jd)return Jo[a]=l[f];return a}var Xd=Pc("animationend"),Qd=Pc("animationiteration"),Zd=Pc("animationstart"),eh=Pc("transitionend"),th=new Map,rh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ea(a,l){th.set(a,l),o(l,[a])}for(var Ol=0;Ol<rh.length;Ol++){var ws=rh[Ol],ci=ws.toLowerCase(),Du=ws[0].toUpperCase()+ws.slice(1);ea(ci,"on"+Du)}ea(Xd,"onAnimationEnd"),ea(Qd,"onAnimationIteration"),ea(Zd,"onAnimationStart"),ea("dblclick","onDoubleClick"),ea("focusin","onFocus"),ea("focusout","onBlur"),ea(eh,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ao="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sf=new Set("cancel close invalid load scroll toggle".split(" ").concat(ao));function Tc(a,l,f){var v=a.type||"unknown-event";a.currentTarget=f,Vi(v,l,void 0,a),a.currentTarget=null}function Lc(a,l){l=(l&4)!==0;for(var f=0;f<a.length;f++){var v=a[f],N=v.event;v=v.listeners;e:{var E=void 0;if(l)for(var $=v.length-1;0<=$;$--){var he=v[$],ve=he.instance,Pe=he.currentTarget;if(he=he.listener,ve!==E&&N.isPropagationStopped())break e;Tc(N,he,Pe),E=ve}else for($=0;$<v.length;$++){if(he=v[$],ve=he.instance,Pe=he.currentTarget,he=he.listener,ve!==E&&N.isPropagationStopped())break e;Tc(N,he,Pe),E=ve}}}if(jn)throw a=pa,jn=!1,pa=null,a}function Gr(a,l){var f=l[Ps];f===void 0&&(f=l[Ps]=new Set);var v=a+"__bubble";f.has(v)||(Ic(l,a,2,!1),f.add(v))}function Mu(a,l,f){var v=0;l&&(v|=4),Ic(f,a,v,l)}var Dl="_reactListening"+Math.random().toString(36).slice(2);function Xo(a){if(!a[Dl]){a[Dl]=!0,s.forEach(function(f){f!=="selectionchange"&&(sf.has(f)||Mu(f,!1,a),Mu(f,!0,a))});var l=a.nodeType===9?a:a.ownerDocument;l===null||l[Dl]||(l[Dl]=!0,Mu("selectionchange",!1,l))}}function Ic(a,l,f,v){switch(Fo(l)){case 1:var N=Nc;break;case 4:N=_c;break;default:N=kl}f=N.bind(null,l,f,a),N=void 0,!cs||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(N=!0),v?N!==void 0?a.addEventListener(l,f,{capture:!0,passive:N}):a.addEventListener(l,f,!0):N!==void 0?a.addEventListener(l,f,{passive:N}):a.addEventListener(l,f,!1)}function Rc(a,l,f,v,N){var E=v;if((l&1)===0&&(l&2)===0&&v!==null)e:for(;;){if(v===null)return;var $=v.tag;if($===3||$===4){var he=v.stateNode.containerInfo;if(he===N||he.nodeType===8&&he.parentNode===N)break;if($===4)for($=v.return;$!==null;){var ve=$.tag;if((ve===3||ve===4)&&(ve=$.stateNode.containerInfo,ve===N||ve.nodeType===8&&ve.parentNode===N))return;$=$.return}for(;he!==null;){if($=oo(he),$===null)return;if(ve=$.tag,ve===5||ve===6){v=E=$;continue e}he=he.parentNode}}v=v.return}dt(function(){var Pe=E,Qe=Et(f),et=[];e:{var Xe=th.get(a);if(Xe!==void 0){var ft=Cl,St=a;switch(a){case"keypress":if(Bo(f)===0)break e;case"keydown":case"keyup":ft=Qa;break;case"focusin":St="focus",ft=tr;break;case"focusout":St="blur",ft=tr;break;case"beforeblur":case"afterblur":ft=tr;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ft=Ke;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ft=Tt;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ft=ns;break;case Xd:case Qd:case Zd:ft=fn;break;case eh:ft=qo;break;case"scroll":ft=M;break;case"wheel":ft=Cc;break;case"copy":case"cut":case"paste":ft=en;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ft=Za}var Pt=(l&4)!==0,Hn=!Pt&&a==="scroll",ke=Pt?Xe!==null?Xe+"Capture":null:Xe;Pt=[];for(var we=Pe,Ee;we!==null;){Ee=we;var rt=Ee.stateNode;if(Ee.tag===5&&rt!==null&&(Ee=rt,ke!==null&&(rt=Zr(we,ke),rt!=null&&Pt.push(Oc(we,rt,Ee)))),Hn)break;we=we.return}0<Pt.length&&(Xe=new ft(Xe,St,null,f,Qe),et.push({event:Xe,listeners:Pt}))}}if((l&7)===0){e:{if(Xe=a==="mouseover"||a==="pointerover",ft=a==="mouseout"||a==="pointerout",Xe&&f!==kr&&(St=f.relatedTarget||f.fromElement)&&(oo(St)||St[ds]))break e;if((ft||Xe)&&(Xe=Qe.window===Qe?Qe:(Xe=Qe.ownerDocument)?Xe.defaultView||Xe.parentWindow:window,ft?(St=f.relatedTarget||f.toElement,ft=Pe,St=St?oo(St):null,St!==null&&(Hn=ts(St),St!==Hn||St.tag!==5&&St.tag!==6)&&(St=null)):(ft=null,St=Pe),ft!==St)){if(Pt=Ke,rt="onMouseLeave",ke="onMouseEnter",we="mouse",(a==="pointerout"||a==="pointerover")&&(Pt=Za,rt="onPointerLeave",ke="onPointerEnter",we="pointer"),Hn=ft==null?Xe:el(ft),Ee=St==null?Xe:el(St),Xe=new Pt(rt,we+"leave",ft,f,Qe),Xe.target=Hn,Xe.relatedTarget=Ee,rt=null,oo(Qe)===Pe&&(Pt=new Pt(ke,we+"enter",St,f,Qe),Pt.target=Ee,Pt.relatedTarget=Hn,rt=Pt),Hn=rt,ft&&St)t:{for(Pt=ft,ke=St,we=0,Ee=Pt;Ee;Ee=Qo(Ee))we++;for(Ee=0,rt=ke;rt;rt=Qo(rt))Ee++;for(;0<we-Ee;)Pt=Qo(Pt),we--;for(;0<Ee-we;)ke=Qo(ke),Ee--;for(;we--;){if(Pt===ke||ke!==null&&Pt===ke.alternate)break t;Pt=Qo(Pt),ke=Qo(ke)}Pt=null}else Pt=null;ft!==null&&af(et,Xe,ft,Pt,!1),St!==null&&Hn!==null&&af(et,Hn,St,Pt,!0)}}e:{if(Xe=Pe?el(Pe):window,ft=Xe.nodeName&&Xe.nodeName.toLowerCase(),ft==="select"||ft==="input"&&Xe.type==="file")var It=Zi;else if(Xi(Xe))if(Ei)It=io;else{It=so;var Vt=no}else(ft=Xe.nodeName)&&ft.toLowerCase()==="input"&&(Xe.type==="checkbox"||Xe.type==="radio")&&(It=Go);if(It&&(It=It(a,Pe))){wa(et,It,f,Qe);break e}Vt&&Vt(a,Xe,Pe),a==="focusout"&&(Vt=Xe._wrapperState)&&Vt.controlled&&Xe.type==="number"&&We(Xe,"number",Xe.value)}switch(Vt=Pe?el(Pe):window,a){case"focusin":(Xi(Vt)||Vt.contentEditable==="true")&&(Na=Vt,Ru=Pe,Rl=null);break;case"focusout":Rl=Ru=Na=null;break;case"mousedown":Ou=!0;break;case"contextmenu":case"mouseup":case"dragend":Ou=!1,Yd(et,f,Qe);break;case"selectionchange":if(Il)break;case"keydown":case"keyup":Yd(et,f,Qe)}var Ht;if(Ai)e:{switch(a){case"compositionstart":var Zt="onCompositionStart";break e;case"compositionend":Zt="onCompositionEnd";break e;case"compositionupdate":Zt="onCompositionUpdate";break e}Zt=void 0}else li?Pl(a,f)&&(Zt="onCompositionEnd"):a==="keydown"&&f.keyCode===229&&(Zt="onCompositionStart");Zt&&(Gs&&f.locale!=="ko"&&(li||Zt!=="onCompositionStart"?Zt==="onCompositionEnd"&&li&&(Ht=Sc()):(ii=Qe,ga="value"in ii?ii.value:ii.textContent,li=!0)),Vt=Fu(Pe,Zt),0<Vt.length&&(Zt=new Nn(Zt,a,null,f,Qe),et.push({event:Zt,listeners:Vt}),Ht?Zt.data=Ht:(Ht=ya(f),Ht!==null&&(Zt.data=Ht)))),(Ht=Iu?Ks(a,f):Ys(a,f))&&(Pe=Fu(Pe,"onBeforeInput"),0<Pe.length&&(Qe=new Nn("onBeforeInput","beforeinput",null,f,Qe),et.push({event:Qe,listeners:Pe}),Qe.data=Ht))}Lc(et,l)})}function Oc(a,l,f){return{instance:a,listener:l,currentTarget:f}}function Fu(a,l){for(var f=l+"Capture",v=[];a!==null;){var N=a,E=N.stateNode;N.tag===5&&E!==null&&(N=E,E=Zr(a,f),E!=null&&v.unshift(Oc(a,E,N)),E=Zr(a,l),E!=null&&v.push(Oc(a,E,N))),a=a.return}return v}function Qo(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function af(a,l,f,v,N){for(var E=l._reactName,$=[];f!==null&&f!==v;){var he=f,ve=he.alternate,Pe=he.stateNode;if(ve!==null&&ve===v)break;he.tag===5&&Pe!==null&&(he=Pe,N?(ve=Zr(f,E),ve!=null&&$.unshift(Oc(f,ve,he))):N||(ve=Zr(f,E),ve!=null&&$.push(Oc(f,ve,he)))),f=f.return}$.length!==0&&a.push({event:l,listeners:$})}var Am=/\r\n?/g,Em=/\u0000|\uFFFD/g;function of(a){return(typeof a=="string"?a:""+a).replace(Am,`
`).replace(Em,"")}function Bu(a,l,f){if(l=of(l),of(a)!==l&&f)throw Error(t(425))}function Ml(){}var Dc=null,Zo=null;function nh(a,l){return a==="textarea"||a==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var sh=typeof setTimeout=="function"?setTimeout:void 0,lf=typeof clearTimeout=="function"?clearTimeout:void 0,cf=typeof Promise=="function"?Promise:void 0,Pm=typeof queueMicrotask=="function"?queueMicrotask:typeof cf<"u"?function(a){return cf.resolve(null).then(a).catch(Tm)}:sh;function Tm(a){setTimeout(function(){throw a})}function ih(a,l){var f=l,v=0;do{var N=f.nextSibling;if(a.removeChild(f),N&&N.nodeType===8)if(f=N.data,f==="/$"){if(v===0){a.removeChild(N),Do(l);return}v--}else f!=="$"&&f!=="$?"&&f!=="$!"||v++;f=N}while(f);Do(l)}function bs(a){for(;a!=null;a=a.nextSibling){var l=a.nodeType;if(l===1||l===3)break;if(l===8){if(l=a.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return a}function ui(a){a=a.previousSibling;for(var l=0;a;){if(a.nodeType===8){var f=a.data;if(f==="$"||f==="$!"||f==="$?"){if(l===0)return a;l--}else f==="/$"&&l++}a=a.previousSibling}return null}var Es=Math.random().toString(36).slice(2),ta="__reactFiber$"+Es,Fl="__reactProps$"+Es,ds="__reactContainer$"+Es,Ps="__reactEvents$"+Es,Lm="__reactListeners$"+Es,Im="__reactHandles$"+Es;function oo(a){var l=a[ta];if(l)return l;for(var f=a.parentNode;f;){if(l=f[ds]||f[ta]){if(f=l.alternate,l.child!==null||f!==null&&f.child!==null)for(a=ui(a);a!==null;){if(f=a[ta])return f;a=ui(a)}return l}a=f,f=a.parentNode}return null}function Bl(a){return a=a[ta]||a[ds],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function el(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(t(33))}function Mc(a){return a[Fl]||null}var ah=[],_a=-1;function Ti(a){return{current:a}}function Br(a){0>_a||(a.current=ah[_a],ah[_a]=null,_a--)}function Vr(a,l){_a++,ah[_a]=a.current,a.current=l}var lo={},ss=Ti(lo),Ts=Ti(!1),tl=lo;function Ul(a,l){var f=a.type.contextTypes;if(!f)return lo;var v=a.stateNode;if(v&&v.__reactInternalMemoizedUnmaskedChildContext===l)return v.__reactInternalMemoizedMaskedChildContext;var N={},E;for(E in f)N[E]=l[E];return v&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=l,a.__reactInternalMemoizedMaskedChildContext=N),N}function Ls(a){return a=a.childContextTypes,a!=null}function Uu(){Br(Ts),Br(ss)}function uf(a,l,f){if(ss.current!==lo)throw Error(t(168));Vr(ss,l),Vr(Ts,f)}function oh(a,l,f){var v=a.stateNode;if(l=l.childContextTypes,typeof v.getChildContext!="function")return f;v=v.getChildContext();for(var N in v)if(!(N in l))throw Error(t(108,le(a)||"Unknown",N));return me({},f,v)}function rl(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||lo,tl=ss.current,Vr(ss,a),Vr(Ts,Ts.current),!0}function df(a,l,f){var v=a.stateNode;if(!v)throw Error(t(169));f?(a=oh(a,l,tl),v.__reactInternalMemoizedMergedChildContext=a,Br(Ts),Br(ss),Vr(ss,a)):Br(Ts),Vr(Ts,f)}var Sa=null,Fc=!1,m=!1;function y(a){Sa===null?Sa=[a]:Sa.push(a)}function A(a){Fc=!0,y(a)}function I(){if(!m&&Sa!==null){m=!0;var a=0,l=Cr;try{var f=Sa;for(Cr=1;a<f.length;a++){var v=f[a];do v=v(!0);while(v!==null)}Sa=null,Fc=!1}catch(N){throw Sa!==null&&(Sa=Sa.slice(a+1)),Co(vl,I),N}finally{Cr=l,m=!1}}return null}var D=[],W=0,G=null,J=0,Q=[],ae=0,xe=null,_e=1,oe="";function ye(a,l){D[W++]=J,D[W++]=G,G=a,J=l}function Ne(a,l,f){Q[ae++]=_e,Q[ae++]=oe,Q[ae++]=xe,xe=a;var v=_e;a=oe;var N=32-Tn(v)-1;v&=~(1<<N),f+=1;var E=32-Tn(l)+N;if(30<E){var $=N-N%5;E=(v&(1<<$)-1).toString(32),v>>=$,N-=$,_e=1<<32-Tn(l)+N|f<<N|v,oe=E+a}else _e=1<<E|f<<N|v,oe=a}function Me(a){a.return!==null&&(ye(a,1),Ne(a,1,0))}function Ce(a){for(;a===G;)G=D[--W],D[W]=null,J=D[--W],D[W]=null;for(;a===xe;)xe=Q[--ae],Q[ae]=null,oe=Q[--ae],Q[ae]=null,_e=Q[--ae],Q[ae]=null}var Ie=null,Oe=null,$e=!1,ze=null;function Lt(a,l){var f=aa(5,null,null,0);f.elementType="DELETED",f.stateNode=l,f.return=a,l=a.deletions,l===null?(a.deletions=[f],a.flags|=16):l.push(f)}function pt(a,l){switch(a.tag){case 5:var f=a.type;return l=l.nodeType!==1||f.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(a.stateNode=l,Ie=a,Oe=bs(l.firstChild),!0):!1;case 6:return l=a.pendingProps===""||l.nodeType!==3?null:l,l!==null?(a.stateNode=l,Ie=a,Oe=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(f=xe!==null?{id:_e,overflow:oe}:null,a.memoizedState={dehydrated:l,treeContext:f,retryLane:1073741824},f=aa(18,null,null,0),f.stateNode=l,f.return=a,a.child=f,Ie=a,Oe=null,!0):!1;default:return!1}}function rr(a){return(a.mode&1)!==0&&(a.flags&128)===0}function wt(a){if($e){var l=Oe;if(l){var f=l;if(!pt(a,l)){if(rr(a))throw Error(t(418));l=bs(f.nextSibling);var v=Ie;l&&pt(a,l)?Lt(v,f):(a.flags=a.flags&-4097|2,$e=!1,Ie=a)}}else{if(rr(a))throw Error(t(418));a.flags=a.flags&-4097|2,$e=!1,Ie=a}}}function mr(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;Ie=a}function vn(a){if(a!==Ie)return!1;if(!$e)return mr(a),$e=!0,!1;var l;if((l=a.tag!==3)&&!(l=a.tag!==5)&&(l=a.type,l=l!=="head"&&l!=="body"&&!nh(a.type,a.memoizedProps)),l&&(l=Oe)){if(rr(a))throw ar(),Error(t(418));for(;l;)Lt(a,l),l=bs(l.nextSibling)}if(mr(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(t(317));e:{for(a=a.nextSibling,l=0;a;){if(a.nodeType===8){var f=a.data;if(f==="/$"){if(l===0){Oe=bs(a.nextSibling);break e}l--}else f!=="$"&&f!=="$!"&&f!=="$?"||l++}a=a.nextSibling}Oe=null}}else Oe=Ie?bs(a.stateNode.nextSibling):null;return!0}function ar(){for(var a=Oe;a;)a=bs(a.nextSibling)}function mt(){Oe=Ie=null,$e=!1}function it(a){ze===null?ze=[a]:ze.push(a)}var Sn=T.ReactCurrentBatchConfig;function Jt(a,l,f){if(a=f.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(f._owner){if(f=f._owner,f){if(f.tag!==1)throw Error(t(309));var v=f.stateNode}if(!v)throw Error(t(147,a));var N=v,E=""+a;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===E?l.ref:(l=function($){var he=N.refs;$===null?delete he[E]:he[E]=$},l._stringRef=E,l)}if(typeof a!="string")throw Error(t(284));if(!f._owner)throw Error(t(290,a))}return a}function dr(a,l){throw a=Object.prototype.toString.call(l),Error(t(31,a==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":a))}function tn(a){var l=a._init;return l(a._payload)}function Yn(a){function l(ke,we){if(a){var Ee=ke.deletions;Ee===null?(ke.deletions=[we],ke.flags|=16):Ee.push(we)}}function f(ke,we){if(!a)return null;for(;we!==null;)l(ke,we),we=we.sibling;return null}function v(ke,we){for(ke=new Map;we!==null;)we.key!==null?ke.set(we.key,we):ke.set(we.index,we),we=we.sibling;return ke}function N(ke,we){return ke=Jl(ke,we),ke.index=0,ke.sibling=null,ke}function E(ke,we,Ee){return ke.index=Ee,a?(Ee=ke.alternate,Ee!==null?(Ee=Ee.index,Ee<we?(ke.flags|=2,we):Ee):(ke.flags|=2,we)):(ke.flags|=1048576,we)}function $(ke){return a&&ke.alternate===null&&(ke.flags|=2),ke}function he(ke,we,Ee,rt){return we===null||we.tag!==6?(we=lg(Ee,ke.mode,rt),we.return=ke,we):(we=N(we,Ee),we.return=ke,we)}function ve(ke,we,Ee,rt){var It=Ee.type;return It===ee?Qe(ke,we,Ee.props.children,rt,Ee.key):we!==null&&(we.elementType===It||typeof It=="object"&&It!==null&&It.$$typeof===ue&&tn(It)===we.type)?(rt=N(we,Ee.props),rt.ref=Jt(ke,we,Ee),rt.return=ke,rt):(rt=Tf(Ee.type,Ee.key,Ee.props,null,ke.mode,rt),rt.ref=Jt(ke,we,Ee),rt.return=ke,rt)}function Pe(ke,we,Ee,rt){return we===null||we.tag!==4||we.stateNode.containerInfo!==Ee.containerInfo||we.stateNode.implementation!==Ee.implementation?(we=cg(Ee,ke.mode,rt),we.return=ke,we):(we=N(we,Ee.children||[]),we.return=ke,we)}function Qe(ke,we,Ee,rt,It){return we===null||we.tag!==7?(we=Wc(Ee,ke.mode,rt,It),we.return=ke,we):(we=N(we,Ee),we.return=ke,we)}function et(ke,we,Ee){if(typeof we=="string"&&we!==""||typeof we=="number")return we=lg(""+we,ke.mode,Ee),we.return=ke,we;if(typeof we=="object"&&we!==null){switch(we.$$typeof){case F:return Ee=Tf(we.type,we.key,we.props,null,ke.mode,Ee),Ee.ref=Jt(ke,null,we),Ee.return=ke,Ee;case ne:return we=cg(we,ke.mode,Ee),we.return=ke,we;case ue:var rt=we._init;return et(ke,rt(we._payload),Ee)}if(Ot(we)||Z(we))return we=Wc(we,ke.mode,Ee,null),we.return=ke,we;dr(ke,we)}return null}function Xe(ke,we,Ee,rt){var It=we!==null?we.key:null;if(typeof Ee=="string"&&Ee!==""||typeof Ee=="number")return It!==null?null:he(ke,we,""+Ee,rt);if(typeof Ee=="object"&&Ee!==null){switch(Ee.$$typeof){case F:return Ee.key===It?ve(ke,we,Ee,rt):null;case ne:return Ee.key===It?Pe(ke,we,Ee,rt):null;case ue:return It=Ee._init,Xe(ke,we,It(Ee._payload),rt)}if(Ot(Ee)||Z(Ee))return It!==null?null:Qe(ke,we,Ee,rt,null);dr(ke,Ee)}return null}function ft(ke,we,Ee,rt,It){if(typeof rt=="string"&&rt!==""||typeof rt=="number")return ke=ke.get(Ee)||null,he(we,ke,""+rt,It);if(typeof rt=="object"&&rt!==null){switch(rt.$$typeof){case F:return ke=ke.get(rt.key===null?Ee:rt.key)||null,ve(we,ke,rt,It);case ne:return ke=ke.get(rt.key===null?Ee:rt.key)||null,Pe(we,ke,rt,It);case ue:var Vt=rt._init;return ft(ke,we,Ee,Vt(rt._payload),It)}if(Ot(rt)||Z(rt))return ke=ke.get(Ee)||null,Qe(we,ke,rt,It,null);dr(we,rt)}return null}function St(ke,we,Ee,rt){for(var It=null,Vt=null,Ht=we,Zt=we=0,gs=null;Ht!==null&&Zt<Ee.length;Zt++){Ht.index>Zt?(gs=Ht,Ht=null):gs=Ht.sibling;var Or=Xe(ke,Ht,Ee[Zt],rt);if(Or===null){Ht===null&&(Ht=gs);break}a&&Ht&&Or.alternate===null&&l(ke,Ht),we=E(Or,we,Zt),Vt===null?It=Or:Vt.sibling=Or,Vt=Or,Ht=gs}if(Zt===Ee.length)return f(ke,Ht),$e&&ye(ke,Zt),It;if(Ht===null){for(;Zt<Ee.length;Zt++)Ht=et(ke,Ee[Zt],rt),Ht!==null&&(we=E(Ht,we,Zt),Vt===null?It=Ht:Vt.sibling=Ht,Vt=Ht);return $e&&ye(ke,Zt),It}for(Ht=v(ke,Ht);Zt<Ee.length;Zt++)gs=ft(Ht,ke,Zt,Ee[Zt],rt),gs!==null&&(a&&gs.alternate!==null&&Ht.delete(gs.key===null?Zt:gs.key),we=E(gs,we,Zt),Vt===null?It=gs:Vt.sibling=gs,Vt=gs);return a&&Ht.forEach(function(Xl){return l(ke,Xl)}),$e&&ye(ke,Zt),It}function Pt(ke,we,Ee,rt){var It=Z(Ee);if(typeof It!="function")throw Error(t(150));if(Ee=It.call(Ee),Ee==null)throw Error(t(151));for(var Vt=It=null,Ht=we,Zt=we=0,gs=null,Or=Ee.next();Ht!==null&&!Or.done;Zt++,Or=Ee.next()){Ht.index>Zt?(gs=Ht,Ht=null):gs=Ht.sibling;var Xl=Xe(ke,Ht,Or.value,rt);if(Xl===null){Ht===null&&(Ht=gs);break}a&&Ht&&Xl.alternate===null&&l(ke,Ht),we=E(Xl,we,Zt),Vt===null?It=Xl:Vt.sibling=Xl,Vt=Xl,Ht=gs}if(Or.done)return f(ke,Ht),$e&&ye(ke,Zt),It;if(Ht===null){for(;!Or.done;Zt++,Or=Ee.next())Or=et(ke,Or.value,rt),Or!==null&&(we=E(Or,we,Zt),Vt===null?It=Or:Vt.sibling=Or,Vt=Or);return $e&&ye(ke,Zt),It}for(Ht=v(ke,Ht);!Or.done;Zt++,Or=Ee.next())Or=ft(Ht,ke,Zt,Or.value,rt),Or!==null&&(a&&Or.alternate!==null&&Ht.delete(Or.key===null?Zt:Or.key),we=E(Or,we,Zt),Vt===null?It=Or:Vt.sibling=Or,Vt=Or);return a&&Ht.forEach(function(H_){return l(ke,H_)}),$e&&ye(ke,Zt),It}function Hn(ke,we,Ee,rt){if(typeof Ee=="object"&&Ee!==null&&Ee.type===ee&&Ee.key===null&&(Ee=Ee.props.children),typeof Ee=="object"&&Ee!==null){switch(Ee.$$typeof){case F:e:{for(var It=Ee.key,Vt=we;Vt!==null;){if(Vt.key===It){if(It=Ee.type,It===ee){if(Vt.tag===7){f(ke,Vt.sibling),we=N(Vt,Ee.props.children),we.return=ke,ke=we;break e}}else if(Vt.elementType===It||typeof It=="object"&&It!==null&&It.$$typeof===ue&&tn(It)===Vt.type){f(ke,Vt.sibling),we=N(Vt,Ee.props),we.ref=Jt(ke,Vt,Ee),we.return=ke,ke=we;break e}f(ke,Vt);break}else l(ke,Vt);Vt=Vt.sibling}Ee.type===ee?(we=Wc(Ee.props.children,ke.mode,rt,Ee.key),we.return=ke,ke=we):(rt=Tf(Ee.type,Ee.key,Ee.props,null,ke.mode,rt),rt.ref=Jt(ke,we,Ee),rt.return=ke,ke=rt)}return $(ke);case ne:e:{for(Vt=Ee.key;we!==null;){if(we.key===Vt)if(we.tag===4&&we.stateNode.containerInfo===Ee.containerInfo&&we.stateNode.implementation===Ee.implementation){f(ke,we.sibling),we=N(we,Ee.children||[]),we.return=ke,ke=we;break e}else{f(ke,we);break}else l(ke,we);we=we.sibling}we=cg(Ee,ke.mode,rt),we.return=ke,ke=we}return $(ke);case ue:return Vt=Ee._init,Hn(ke,we,Vt(Ee._payload),rt)}if(Ot(Ee))return St(ke,we,Ee,rt);if(Z(Ee))return Pt(ke,we,Ee,rt);dr(ke,Ee)}return typeof Ee=="string"&&Ee!==""||typeof Ee=="number"?(Ee=""+Ee,we!==null&&we.tag===6?(f(ke,we.sibling),we=N(we,Ee),we.return=ke,ke=we):(f(ke,we),we=lg(Ee,ke.mode,rt),we.return=ke,ke=we),$(ke)):f(ke,we)}return Hn}var On=Yn(!0),pn=Yn(!1),qn=Ti(null),Jn=null,cn=null,xr=null;function Lr(){xr=cn=Jn=null}function un(a){var l=qn.current;Br(qn),a._currentValue=l}function Ir(a,l,f){for(;a!==null;){var v=a.alternate;if((a.childLanes&l)!==l?(a.childLanes|=l,v!==null&&(v.childLanes|=l)):v!==null&&(v.childLanes&l)!==l&&(v.childLanes|=l),a===f)break;a=a.return}}function yn(a,l){Jn=a,xr=cn=null,a=a.dependencies,a!==null&&a.firstContext!==null&&((a.lanes&l)!==0&&(hi=!0),a.firstContext=null)}function wn(a){var l=a._currentValue;if(xr!==a)if(a={context:a,memoizedValue:l,next:null},cn===null){if(Jn===null)throw Error(t(308));cn=a,Jn.dependencies={lanes:0,firstContext:a}}else cn=cn.next=a;return l}var Kr=null;function hs(a){Kr===null?Kr=[a]:Kr.push(a)}function Hr(a,l,f,v){var N=l.interleaved;return N===null?(f.next=f,hs(l)):(f.next=N.next,N.next=f),l.interleaved=f,Yr(a,v)}function Yr(a,l){a.lanes|=l;var f=a.alternate;for(f!==null&&(f.lanes|=l),f=a,a=a.return;a!==null;)a.childLanes|=l,f=a.alternate,f!==null&&(f.childLanes|=l),f=a,a=a.return;return f.tag===3?f.stateNode:null}var Dn=!1;function is(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Is(a,l){a=a.updateQueue,l.updateQueue===a&&(l.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function kn(a,l){return{eventTime:a,lane:l,tag:0,payload:null,callback:null,next:null}}function Cn(a,l,f){var v=a.updateQueue;if(v===null)return null;if(v=v.shared,(Rr&2)!==0){var N=v.pending;return N===null?l.next=l:(l.next=N.next,N.next=l),v.pending=l,Yr(a,f)}return N=v.interleaved,N===null?(l.next=l,hs(v)):(l.next=N.next,N.next=l),v.interleaved=l,Yr(a,f)}function fs(a,l,f){if(l=l.updateQueue,l!==null&&(l=l.shared,(f&4194240)!==0)){var v=l.lanes;v&=a.pendingLanes,f|=v,l.lanes=f,bl(a,f)}}function Jr(a,l){var f=a.updateQueue,v=a.alternate;if(v!==null&&(v=v.updateQueue,f===v)){var N=null,E=null;if(f=f.firstBaseUpdate,f!==null){do{var $={eventTime:f.eventTime,lane:f.lane,tag:f.tag,payload:f.payload,callback:f.callback,next:null};E===null?N=E=$:E=E.next=$,f=f.next}while(f!==null);E===null?N=E=l:E=E.next=l}else N=E=l;f={baseState:v.baseState,firstBaseUpdate:N,lastBaseUpdate:E,shared:v.shared,effects:v.effects},a.updateQueue=f;return}a=f.lastBaseUpdate,a===null?f.firstBaseUpdate=l:a.next=l,f.lastBaseUpdate=l}function ps(a,l,f,v){var N=a.updateQueue;Dn=!1;var E=N.firstBaseUpdate,$=N.lastBaseUpdate,he=N.shared.pending;if(he!==null){N.shared.pending=null;var ve=he,Pe=ve.next;ve.next=null,$===null?E=Pe:$.next=Pe,$=ve;var Qe=a.alternate;Qe!==null&&(Qe=Qe.updateQueue,he=Qe.lastBaseUpdate,he!==$&&(he===null?Qe.firstBaseUpdate=Pe:he.next=Pe,Qe.lastBaseUpdate=ve))}if(E!==null){var et=N.baseState;$=0,Qe=Pe=ve=null,he=E;do{var Xe=he.lane,ft=he.eventTime;if((v&Xe)===Xe){Qe!==null&&(Qe=Qe.next={eventTime:ft,lane:0,tag:he.tag,payload:he.payload,callback:he.callback,next:null});e:{var St=a,Pt=he;switch(Xe=l,ft=f,Pt.tag){case 1:if(St=Pt.payload,typeof St=="function"){et=St.call(ft,et,Xe);break e}et=St;break e;case 3:St.flags=St.flags&-65537|128;case 0:if(St=Pt.payload,Xe=typeof St=="function"?St.call(ft,et,Xe):St,Xe==null)break e;et=me({},et,Xe);break e;case 2:Dn=!0}}he.callback!==null&&he.lane!==0&&(a.flags|=64,Xe=N.effects,Xe===null?N.effects=[he]:Xe.push(he))}else ft={eventTime:ft,lane:Xe,tag:he.tag,payload:he.payload,callback:he.callback,next:null},Qe===null?(Pe=Qe=ft,ve=et):Qe=Qe.next=ft,$|=Xe;if(he=he.next,he===null){if(he=N.shared.pending,he===null)break;Xe=he,he=Xe.next,Xe.next=null,N.lastBaseUpdate=Xe,N.shared.pending=null}}while(!0);if(Qe===null&&(ve=et),N.baseState=ve,N.firstBaseUpdate=Pe,N.lastBaseUpdate=Qe,l=N.shared.interleaved,l!==null){N=l;do $|=N.lane,N=N.next;while(N!==l)}else E===null&&(N.shared.lanes=0);zc|=$,a.lanes=$,a.memoizedState=et}}function di(a,l,f){if(a=l.effects,l.effects=null,a!==null)for(l=0;l<a.length;l++){var v=a[l],N=v.callback;if(N!==null){if(v.callback=null,v=f,typeof N!="function")throw Error(t(191,N));N.call(v)}}}var Li={},Xn=Ti(Li),An=Ti(Li),co=Ti(Li);function ka(a){if(a===Li)throw Error(t(174));return a}function $l(a,l){switch(Vr(co,l),Vr(An,a),Vr(Xn,Li),a=l.nodeType,a){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:cr(null,"");break;default:a=a===8?l.parentNode:l,l=a.namespaceURI||null,a=a.tagName,l=cr(l,a)}Br(Xn),Vr(Xn,l)}function ra(){Br(Xn),Br(An),Br(co)}function hf(a){ka(co.current);var l=ka(Xn.current),f=cr(l,a.type);l!==f&&(Vr(An,a),Vr(Xn,f))}function lh(a){An.current===a&&(Br(Xn),Br(An))}var nn=Ti(0);function Ii(a){for(var l=a;l!==null;){if(l.tag===13){var f=l.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||f.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var ch=[];function uh(){for(var a=0;a<ch.length;a++)ch[a]._workInProgressVersionPrimary=null;ch.length=0}var $u=T.ReactCurrentDispatcher,zu=T.ReactCurrentBatchConfig,na=0,dn=null,Mn=null,En=null,zl=!1,Ca=!1,ql=0,Rm=0;function Vn(){throw Error(t(321))}function qu(a,l){if(l===null)return!1;for(var f=0;f<l.length&&f<a.length;f++)if(!gn(a[f],l[f]))return!1;return!0}function Bc(a,l,f,v,N,E){if(na=E,dn=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,$u.current=a===null||a.memoizedState===null?x_:v_,a=f(v,N),Ca){E=0;do{if(Ca=!1,ql=0,25<=E)throw Error(t(301));E+=1,En=Mn=null,l.updateQueue=null,$u.current=y_,a=f(v,N)}while(Ca)}if($u.current=xf,l=Mn!==null&&Mn.next!==null,na=0,En=Mn=dn=null,zl=!1,l)throw Error(t(300));return a}function sa(){var a=ql!==0;return ql=0,a}function Ri(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return En===null?dn.memoizedState=En=a:En=En.next=a,En}function Js(){if(Mn===null){var a=dn.alternate;a=a!==null?a.memoizedState:null}else a=Mn.next;var l=En===null?dn.memoizedState:En.next;if(l!==null)En=l,Mn=a;else{if(a===null)throw Error(t(310));Mn=a,a={memoizedState:Mn.memoizedState,baseState:Mn.baseState,baseQueue:Mn.baseQueue,queue:Mn.queue,next:null},En===null?dn.memoizedState=En=a:En=En.next=a}return En}function Uc(a,l){return typeof l=="function"?l(a):l}function Vu(a){var l=Js(),f=l.queue;if(f===null)throw Error(t(311));f.lastRenderedReducer=a;var v=Mn,N=v.baseQueue,E=f.pending;if(E!==null){if(N!==null){var $=N.next;N.next=E.next,E.next=$}v.baseQueue=N=E,f.pending=null}if(N!==null){E=N.next,v=v.baseState;var he=$=null,ve=null,Pe=E;do{var Qe=Pe.lane;if((na&Qe)===Qe)ve!==null&&(ve=ve.next={lane:0,action:Pe.action,hasEagerState:Pe.hasEagerState,eagerState:Pe.eagerState,next:null}),v=Pe.hasEagerState?Pe.eagerState:a(v,Pe.action);else{var et={lane:Qe,action:Pe.action,hasEagerState:Pe.hasEagerState,eagerState:Pe.eagerState,next:null};ve===null?(he=ve=et,$=v):ve=ve.next=et,dn.lanes|=Qe,zc|=Qe}Pe=Pe.next}while(Pe!==null&&Pe!==E);ve===null?$=v:ve.next=he,gn(v,l.memoizedState)||(hi=!0),l.memoizedState=v,l.baseState=$,l.baseQueue=ve,f.lastRenderedState=v}if(a=f.interleaved,a!==null){N=a;do E=N.lane,dn.lanes|=E,zc|=E,N=N.next;while(N!==a)}else N===null&&(f.lanes=0);return[l.memoizedState,f.dispatch]}function uo(a){var l=Js(),f=l.queue;if(f===null)throw Error(t(311));f.lastRenderedReducer=a;var v=f.dispatch,N=f.pending,E=l.memoizedState;if(N!==null){f.pending=null;var $=N=N.next;do E=a(E,$.action),$=$.next;while($!==N);gn(E,l.memoizedState)||(hi=!0),l.memoizedState=E,l.baseQueue===null&&(l.baseState=E),f.lastRenderedState=E}return[E,v]}function ff(){}function dh(a,l){var f=dn,v=Js(),N=l(),E=!gn(v.memoizedState,N);if(E&&(v.memoizedState=N,hi=!0),v=v.queue,Gu(mf.bind(null,f,v,a),[a]),v.getSnapshot!==l||E||En!==null&&En.memoizedState.tag&1){if(f.flags|=2048,Xs(9,hh.bind(null,f,v,N,l),void 0,null),ms===null)throw Error(t(349));(na&30)!==0||pf(f,l,N)}return N}function pf(a,l,f){a.flags|=16384,a={getSnapshot:l,value:f},l=dn.updateQueue,l===null?(l={lastEffect:null,stores:null},dn.updateQueue=l,l.stores=[a]):(f=l.stores,f===null?l.stores=[a]:f.push(a))}function hh(a,l,f,v){l.value=f,l.getSnapshot=v,Vl(l)&&Hu(a)}function mf(a,l,f){return f(function(){Vl(l)&&Hu(a)})}function Vl(a){var l=a.getSnapshot;a=a.value;try{var f=l();return!gn(a,f)}catch{return!0}}function Hu(a){var l=Yr(a,1);l!==null&&La(l,a,1,-1)}function $c(a){var l=Ri();return typeof a=="function"&&(a=a()),l.memoizedState=l.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Uc,lastRenderedState:a},l.queue=a,a=a.dispatch=g_.bind(null,dn,a),[l.memoizedState,a]}function Xs(a,l,f,v){return a={tag:a,create:l,destroy:f,deps:v,next:null},l=dn.updateQueue,l===null?(l={lastEffect:null,stores:null},dn.updateQueue=l,l.lastEffect=a.next=a):(f=l.lastEffect,f===null?l.lastEffect=a.next=a:(v=f.next,f.next=a,a.next=v,l.lastEffect=a)),a}function Aa(){return Js().memoizedState}function Oi(a,l,f,v){var N=Ri();dn.flags|=a,N.memoizedState=Xs(1|l,f,void 0,v===void 0?null:v)}function nl(a,l,f,v){var N=Js();v=v===void 0?null:v;var E=void 0;if(Mn!==null){var $=Mn.memoizedState;if(E=$.destroy,v!==null&&qu(v,$.deps)){N.memoizedState=Xs(l,f,E,v);return}}dn.flags|=a,N.memoizedState=Xs(1|l,f,E,v)}function Wu(a,l){return Oi(8390656,8,a,l)}function Gu(a,l){return nl(2048,8,a,l)}function gf(a,l){return nl(4,2,a,l)}function Ku(a,l){return nl(4,4,a,l)}function Yu(a,l){if(typeof l=="function")return a=a(),l(a),function(){l(null)};if(l!=null)return a=a(),l.current=a,function(){l.current=null}}function rv(a,l,f){return f=f!=null?f.concat([a]):null,nl(4,4,Yu.bind(null,l,a),f)}function Om(){}function nv(a,l){var f=Js();l=l===void 0?null:l;var v=f.memoizedState;return v!==null&&l!==null&&qu(l,v[1])?v[0]:(f.memoizedState=[a,l],a)}function sv(a,l){var f=Js();l=l===void 0?null:l;var v=f.memoizedState;return v!==null&&l!==null&&qu(l,v[1])?v[0]:(a=a(),f.memoizedState=[a,l],a)}function iv(a,l,f){return(na&21)===0?(a.baseState&&(a.baseState=!1,hi=!0),a.memoizedState=f):(gn(f,l)||(f=yc(),dn.lanes|=f,zc|=f,a.baseState=!0),l)}function p_(a,l){var f=Cr;Cr=f!==0&&4>f?f:4,a(!0);var v=zu.transition;zu.transition={};try{a(!1),l()}finally{Cr=f,zu.transition=v}}function av(){return Js().memoizedState}function m_(a,l,f){var v=Kl(a);if(f={lane:v,action:f,hasEagerState:!1,eagerState:null,next:null},ov(a))lv(l,f);else if(f=Hr(a,l,f,v),f!==null){var N=Zs();La(f,a,v,N),cv(f,l,v)}}function g_(a,l,f){var v=Kl(a),N={lane:v,action:f,hasEagerState:!1,eagerState:null,next:null};if(ov(a))lv(l,N);else{var E=a.alternate;if(a.lanes===0&&(E===null||E.lanes===0)&&(E=l.lastRenderedReducer,E!==null))try{var $=l.lastRenderedState,he=E($,f);if(N.hasEagerState=!0,N.eagerState=he,gn(he,$)){var ve=l.interleaved;ve===null?(N.next=N,hs(l)):(N.next=ve.next,ve.next=N),l.interleaved=N;return}}catch{}finally{}f=Hr(a,l,N,v),f!==null&&(N=Zs(),La(f,a,v,N),cv(f,l,v))}}function ov(a){var l=a.alternate;return a===dn||l!==null&&l===dn}function lv(a,l){Ca=zl=!0;var f=a.pending;f===null?l.next=l:(l.next=f.next,f.next=l),a.pending=l}function cv(a,l,f){if((f&4194240)!==0){var v=l.lanes;v&=a.pendingLanes,f|=v,l.lanes=f,bl(a,f)}}var xf={readContext:wn,useCallback:Vn,useContext:Vn,useEffect:Vn,useImperativeHandle:Vn,useInsertionEffect:Vn,useLayoutEffect:Vn,useMemo:Vn,useReducer:Vn,useRef:Vn,useState:Vn,useDebugValue:Vn,useDeferredValue:Vn,useTransition:Vn,useMutableSource:Vn,useSyncExternalStore:Vn,useId:Vn,unstable_isNewReconciler:!1},x_={readContext:wn,useCallback:function(a,l){return Ri().memoizedState=[a,l===void 0?null:l],a},useContext:wn,useEffect:Wu,useImperativeHandle:function(a,l,f){return f=f!=null?f.concat([a]):null,Oi(4194308,4,Yu.bind(null,l,a),f)},useLayoutEffect:function(a,l){return Oi(4194308,4,a,l)},useInsertionEffect:function(a,l){return Oi(4,2,a,l)},useMemo:function(a,l){var f=Ri();return l=l===void 0?null:l,a=a(),f.memoizedState=[a,l],a},useReducer:function(a,l,f){var v=Ri();return l=f!==void 0?f(l):l,v.memoizedState=v.baseState=l,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:l},v.queue=a,a=a.dispatch=m_.bind(null,dn,a),[v.memoizedState,a]},useRef:function(a){var l=Ri();return a={current:a},l.memoizedState=a},useState:$c,useDebugValue:Om,useDeferredValue:function(a){return Ri().memoizedState=a},useTransition:function(){var a=$c(!1),l=a[0];return a=p_.bind(null,a[1]),Ri().memoizedState=a,[l,a]},useMutableSource:function(){},useSyncExternalStore:function(a,l,f){var v=dn,N=Ri();if($e){if(f===void 0)throw Error(t(407));f=f()}else{if(f=l(),ms===null)throw Error(t(349));(na&30)!==0||pf(v,l,f)}N.memoizedState=f;var E={value:f,getSnapshot:l};return N.queue=E,Wu(mf.bind(null,v,E,a),[a]),v.flags|=2048,Xs(9,hh.bind(null,v,E,f,l),void 0,null),f},useId:function(){var a=Ri(),l=ms.identifierPrefix;if($e){var f=oe,v=_e;f=(v&~(1<<32-Tn(v)-1)).toString(32)+f,l=":"+l+"R"+f,f=ql++,0<f&&(l+="H"+f.toString(32)),l+=":"}else f=Rm++,l=":"+l+"r"+f.toString(32)+":";return a.memoizedState=l},unstable_isNewReconciler:!1},v_={readContext:wn,useCallback:nv,useContext:wn,useEffect:Gu,useImperativeHandle:rv,useInsertionEffect:gf,useLayoutEffect:Ku,useMemo:sv,useReducer:Vu,useRef:Aa,useState:function(){return Vu(Uc)},useDebugValue:Om,useDeferredValue:function(a){var l=Js();return iv(l,Mn.memoizedState,a)},useTransition:function(){var a=Vu(Uc)[0],l=Js().memoizedState;return[a,l]},useMutableSource:ff,useSyncExternalStore:dh,useId:av,unstable_isNewReconciler:!1},y_={readContext:wn,useCallback:nv,useContext:wn,useEffect:Gu,useImperativeHandle:rv,useInsertionEffect:gf,useLayoutEffect:Ku,useMemo:sv,useReducer:uo,useRef:Aa,useState:function(){return uo(Uc)},useDebugValue:Om,useDeferredValue:function(a){var l=Js();return Mn===null?l.memoizedState=a:iv(l,Mn.memoizedState,a)},useTransition:function(){var a=uo(Uc)[0],l=Js().memoizedState;return[a,l]},useMutableSource:ff,useSyncExternalStore:dh,useId:av,unstable_isNewReconciler:!1};function Ea(a,l){if(a&&a.defaultProps){l=me({},l),a=a.defaultProps;for(var f in a)l[f]===void 0&&(l[f]=a[f]);return l}return l}function Dm(a,l,f,v){l=a.memoizedState,f=f(v,l),f=f==null?l:me({},l,f),a.memoizedState=f,a.lanes===0&&(a.updateQueue.baseState=f)}var vf={isMounted:function(a){return(a=a._reactInternals)?ts(a)===a:!1},enqueueSetState:function(a,l,f){a=a._reactInternals;var v=Zs(),N=Kl(a),E=kn(v,N);E.payload=l,f!=null&&(E.callback=f),l=Cn(a,E,N),l!==null&&(La(l,a,N,v),fs(l,a,N))},enqueueReplaceState:function(a,l,f){a=a._reactInternals;var v=Zs(),N=Kl(a),E=kn(v,N);E.tag=1,E.payload=l,f!=null&&(E.callback=f),l=Cn(a,E,N),l!==null&&(La(l,a,N,v),fs(l,a,N))},enqueueForceUpdate:function(a,l){a=a._reactInternals;var f=Zs(),v=Kl(a),N=kn(f,v);N.tag=2,l!=null&&(N.callback=l),l=Cn(a,N,v),l!==null&&(La(l,a,v,f),fs(l,a,v))}};function uv(a,l,f,v,N,E,$){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(v,E,$):l.prototype&&l.prototype.isPureReactComponent?!As(f,v)||!As(N,E):!0}function dv(a,l,f){var v=!1,N=lo,E=l.contextType;return typeof E=="object"&&E!==null?E=wn(E):(N=Ls(l)?tl:ss.current,v=l.contextTypes,E=(v=v!=null)?Ul(a,N):lo),l=new l(f,E),a.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=vf,a.stateNode=l,l._reactInternals=a,v&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=N,a.__reactInternalMemoizedMaskedChildContext=E),l}function hv(a,l,f,v){a=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(f,v),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(f,v),l.state!==a&&vf.enqueueReplaceState(l,l.state,null)}function Mm(a,l,f,v){var N=a.stateNode;N.props=f,N.state=a.memoizedState,N.refs={},is(a);var E=l.contextType;typeof E=="object"&&E!==null?N.context=wn(E):(E=Ls(l)?tl:ss.current,N.context=Ul(a,E)),N.state=a.memoizedState,E=l.getDerivedStateFromProps,typeof E=="function"&&(Dm(a,l,E,f),N.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(l=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),l!==N.state&&vf.enqueueReplaceState(N,N.state,null),ps(a,f,N,v),N.state=a.memoizedState),typeof N.componentDidMount=="function"&&(a.flags|=4194308)}function Ju(a,l){try{var f="",v=l;do f+=se(v),v=v.return;while(v);var N=f}catch(E){N=`
Error generating stack: `+E.message+`
`+E.stack}return{value:a,source:l,stack:N,digest:null}}function Fm(a,l,f){return{value:a,source:null,stack:f??null,digest:l??null}}function Bm(a,l){try{console.error(l.value)}catch(f){setTimeout(function(){throw f})}}var w_=typeof WeakMap=="function"?WeakMap:Map;function fv(a,l,f){f=kn(-1,f),f.tag=3,f.payload={element:null};var v=l.value;return f.callback=function(){Sf||(Sf=!0,eg=v),Bm(a,l)},f}function pv(a,l,f){f=kn(-1,f),f.tag=3;var v=a.type.getDerivedStateFromError;if(typeof v=="function"){var N=l.value;f.payload=function(){return v(N)},f.callback=function(){Bm(a,l)}}var E=a.stateNode;return E!==null&&typeof E.componentDidCatch=="function"&&(f.callback=function(){Bm(a,l),typeof v!="function"&&(Wl===null?Wl=new Set([this]):Wl.add(this));var $=l.stack;this.componentDidCatch(l.value,{componentStack:$!==null?$:""})}),f}function mv(a,l,f){var v=a.pingCache;if(v===null){v=a.pingCache=new w_;var N=new Set;v.set(l,N)}else N=v.get(l),N===void 0&&(N=new Set,v.set(l,N));N.has(f)||(N.add(f),a=R_.bind(null,a,l,f),l.then(a,a))}function gv(a){do{var l;if((l=a.tag===13)&&(l=a.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return a;a=a.return}while(a!==null);return null}function xv(a,l,f,v,N){return(a.mode&1)===0?(a===l?a.flags|=65536:(a.flags|=128,f.flags|=131072,f.flags&=-52805,f.tag===1&&(f.alternate===null?f.tag=17:(l=kn(-1,1),l.tag=2,Cn(f,l,1))),f.lanes|=1),a):(a.flags|=65536,a.lanes=N,a)}var b_=T.ReactCurrentOwner,hi=!1;function Qs(a,l,f,v){l.child=a===null?pn(l,null,f,v):On(l,a.child,f,v)}function vv(a,l,f,v,N){f=f.render;var E=l.ref;return yn(l,N),v=Bc(a,l,f,v,E,N),f=sa(),a!==null&&!hi?(l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~N,sl(a,l,N)):($e&&f&&Me(l),l.flags|=1,Qs(a,l,v,N),l.child)}function yv(a,l,f,v,N){if(a===null){var E=f.type;return typeof E=="function"&&!og(E)&&E.defaultProps===void 0&&f.compare===null&&f.defaultProps===void 0?(l.tag=15,l.type=E,wv(a,l,E,v,N)):(a=Tf(f.type,null,v,l,l.mode,N),a.ref=l.ref,a.return=l,l.child=a)}if(E=a.child,(a.lanes&N)===0){var $=E.memoizedProps;if(f=f.compare,f=f!==null?f:As,f($,v)&&a.ref===l.ref)return sl(a,l,N)}return l.flags|=1,a=Jl(E,v),a.ref=l.ref,a.return=l,l.child=a}function wv(a,l,f,v,N){if(a!==null){var E=a.memoizedProps;if(As(E,v)&&a.ref===l.ref)if(hi=!1,l.pendingProps=v=E,(a.lanes&N)!==0)(a.flags&131072)!==0&&(hi=!0);else return l.lanes=a.lanes,sl(a,l,N)}return Um(a,l,f,v,N)}function bv(a,l,f){var v=l.pendingProps,N=v.children,E=a!==null?a.memoizedState:null;if(v.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},Vr(Qu,Di),Di|=f;else{if((f&1073741824)===0)return a=E!==null?E.baseLanes|f:f,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:a,cachePool:null,transitions:null},l.updateQueue=null,Vr(Qu,Di),Di|=a,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},v=E!==null?E.baseLanes:f,Vr(Qu,Di),Di|=v}else E!==null?(v=E.baseLanes|f,l.memoizedState=null):v=f,Vr(Qu,Di),Di|=v;return Qs(a,l,N,f),l.child}function jv(a,l){var f=l.ref;(a===null&&f!==null||a!==null&&a.ref!==f)&&(l.flags|=512,l.flags|=2097152)}function Um(a,l,f,v,N){var E=Ls(f)?tl:ss.current;return E=Ul(l,E),yn(l,N),f=Bc(a,l,f,v,E,N),v=sa(),a!==null&&!hi?(l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~N,sl(a,l,N)):($e&&v&&Me(l),l.flags|=1,Qs(a,l,f,N),l.child)}function Nv(a,l,f,v,N){if(Ls(f)){var E=!0;rl(l)}else E=!1;if(yn(l,N),l.stateNode===null)wf(a,l),dv(l,f,v),Mm(l,f,v,N),v=!0;else if(a===null){var $=l.stateNode,he=l.memoizedProps;$.props=he;var ve=$.context,Pe=f.contextType;typeof Pe=="object"&&Pe!==null?Pe=wn(Pe):(Pe=Ls(f)?tl:ss.current,Pe=Ul(l,Pe));var Qe=f.getDerivedStateFromProps,et=typeof Qe=="function"||typeof $.getSnapshotBeforeUpdate=="function";et||typeof $.UNSAFE_componentWillReceiveProps!="function"&&typeof $.componentWillReceiveProps!="function"||(he!==v||ve!==Pe)&&hv(l,$,v,Pe),Dn=!1;var Xe=l.memoizedState;$.state=Xe,ps(l,v,$,N),ve=l.memoizedState,he!==v||Xe!==ve||Ts.current||Dn?(typeof Qe=="function"&&(Dm(l,f,Qe,v),ve=l.memoizedState),(he=Dn||uv(l,f,he,v,Xe,ve,Pe))?(et||typeof $.UNSAFE_componentWillMount!="function"&&typeof $.componentWillMount!="function"||(typeof $.componentWillMount=="function"&&$.componentWillMount(),typeof $.UNSAFE_componentWillMount=="function"&&$.UNSAFE_componentWillMount()),typeof $.componentDidMount=="function"&&(l.flags|=4194308)):(typeof $.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=v,l.memoizedState=ve),$.props=v,$.state=ve,$.context=Pe,v=he):(typeof $.componentDidMount=="function"&&(l.flags|=4194308),v=!1)}else{$=l.stateNode,Is(a,l),he=l.memoizedProps,Pe=l.type===l.elementType?he:Ea(l.type,he),$.props=Pe,et=l.pendingProps,Xe=$.context,ve=f.contextType,typeof ve=="object"&&ve!==null?ve=wn(ve):(ve=Ls(f)?tl:ss.current,ve=Ul(l,ve));var ft=f.getDerivedStateFromProps;(Qe=typeof ft=="function"||typeof $.getSnapshotBeforeUpdate=="function")||typeof $.UNSAFE_componentWillReceiveProps!="function"&&typeof $.componentWillReceiveProps!="function"||(he!==et||Xe!==ve)&&hv(l,$,v,ve),Dn=!1,Xe=l.memoizedState,$.state=Xe,ps(l,v,$,N);var St=l.memoizedState;he!==et||Xe!==St||Ts.current||Dn?(typeof ft=="function"&&(Dm(l,f,ft,v),St=l.memoizedState),(Pe=Dn||uv(l,f,Pe,v,Xe,St,ve)||!1)?(Qe||typeof $.UNSAFE_componentWillUpdate!="function"&&typeof $.componentWillUpdate!="function"||(typeof $.componentWillUpdate=="function"&&$.componentWillUpdate(v,St,ve),typeof $.UNSAFE_componentWillUpdate=="function"&&$.UNSAFE_componentWillUpdate(v,St,ve)),typeof $.componentDidUpdate=="function"&&(l.flags|=4),typeof $.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof $.componentDidUpdate!="function"||he===a.memoizedProps&&Xe===a.memoizedState||(l.flags|=4),typeof $.getSnapshotBeforeUpdate!="function"||he===a.memoizedProps&&Xe===a.memoizedState||(l.flags|=1024),l.memoizedProps=v,l.memoizedState=St),$.props=v,$.state=St,$.context=ve,v=Pe):(typeof $.componentDidUpdate!="function"||he===a.memoizedProps&&Xe===a.memoizedState||(l.flags|=4),typeof $.getSnapshotBeforeUpdate!="function"||he===a.memoizedProps&&Xe===a.memoizedState||(l.flags|=1024),v=!1)}return $m(a,l,f,v,E,N)}function $m(a,l,f,v,N,E){jv(a,l);var $=(l.flags&128)!==0;if(!v&&!$)return N&&df(l,f,!1),sl(a,l,E);v=l.stateNode,b_.current=l;var he=$&&typeof f.getDerivedStateFromError!="function"?null:v.render();return l.flags|=1,a!==null&&$?(l.child=On(l,a.child,null,E),l.child=On(l,null,he,E)):Qs(a,l,he,E),l.memoizedState=v.state,N&&df(l,f,!0),l.child}function _v(a){var l=a.stateNode;l.pendingContext?uf(a,l.pendingContext,l.pendingContext!==l.context):l.context&&uf(a,l.context,!1),$l(a,l.containerInfo)}function Sv(a,l,f,v,N){return mt(),it(N),l.flags|=256,Qs(a,l,f,v),l.child}var zm={dehydrated:null,treeContext:null,retryLane:0};function qm(a){return{baseLanes:a,cachePool:null,transitions:null}}function kv(a,l,f){var v=l.pendingProps,N=nn.current,E=!1,$=(l.flags&128)!==0,he;if((he=$)||(he=a!==null&&a.memoizedState===null?!1:(N&2)!==0),he?(E=!0,l.flags&=-129):(a===null||a.memoizedState!==null)&&(N|=1),Vr(nn,N&1),a===null)return wt(l),a=l.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?((l.mode&1)===0?l.lanes=1:a.data==="$!"?l.lanes=8:l.lanes=1073741824,null):($=v.children,a=v.fallback,E?(v=l.mode,E=l.child,$={mode:"hidden",children:$},(v&1)===0&&E!==null?(E.childLanes=0,E.pendingProps=$):E=Lf($,v,0,null),a=Wc(a,v,f,null),E.return=l,a.return=l,E.sibling=a,l.child=E,l.child.memoizedState=qm(f),l.memoizedState=zm,a):Vm(l,$));if(N=a.memoizedState,N!==null&&(he=N.dehydrated,he!==null))return j_(a,l,$,v,he,N,f);if(E){E=v.fallback,$=l.mode,N=a.child,he=N.sibling;var ve={mode:"hidden",children:v.children};return($&1)===0&&l.child!==N?(v=l.child,v.childLanes=0,v.pendingProps=ve,l.deletions=null):(v=Jl(N,ve),v.subtreeFlags=N.subtreeFlags&14680064),he!==null?E=Jl(he,E):(E=Wc(E,$,f,null),E.flags|=2),E.return=l,v.return=l,v.sibling=E,l.child=v,v=E,E=l.child,$=a.child.memoizedState,$=$===null?qm(f):{baseLanes:$.baseLanes|f,cachePool:null,transitions:$.transitions},E.memoizedState=$,E.childLanes=a.childLanes&~f,l.memoizedState=zm,v}return E=a.child,a=E.sibling,v=Jl(E,{mode:"visible",children:v.children}),(l.mode&1)===0&&(v.lanes=f),v.return=l,v.sibling=null,a!==null&&(f=l.deletions,f===null?(l.deletions=[a],l.flags|=16):f.push(a)),l.child=v,l.memoizedState=null,v}function Vm(a,l){return l=Lf({mode:"visible",children:l},a.mode,0,null),l.return=a,a.child=l}function yf(a,l,f,v){return v!==null&&it(v),On(l,a.child,null,f),a=Vm(l,l.pendingProps.children),a.flags|=2,l.memoizedState=null,a}function j_(a,l,f,v,N,E,$){if(f)return l.flags&256?(l.flags&=-257,v=Fm(Error(t(422))),yf(a,l,$,v)):l.memoizedState!==null?(l.child=a.child,l.flags|=128,null):(E=v.fallback,N=l.mode,v=Lf({mode:"visible",children:v.children},N,0,null),E=Wc(E,N,$,null),E.flags|=2,v.return=l,E.return=l,v.sibling=E,l.child=v,(l.mode&1)!==0&&On(l,a.child,null,$),l.child.memoizedState=qm($),l.memoizedState=zm,E);if((l.mode&1)===0)return yf(a,l,$,null);if(N.data==="$!"){if(v=N.nextSibling&&N.nextSibling.dataset,v)var he=v.dgst;return v=he,E=Error(t(419)),v=Fm(E,v,void 0),yf(a,l,$,v)}if(he=($&a.childLanes)!==0,hi||he){if(v=ms,v!==null){switch($&-$){case 4:N=2;break;case 16:N=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:N=32;break;case 536870912:N=268435456;break;default:N=0}N=(N&(v.suspendedLanes|$))!==0?0:N,N!==0&&N!==E.retryLane&&(E.retryLane=N,Yr(a,N),La(v,a,N,-1))}return ag(),v=Fm(Error(t(421))),yf(a,l,$,v)}return N.data==="$?"?(l.flags|=128,l.child=a.child,l=O_.bind(null,a),N._reactRetry=l,null):(a=E.treeContext,Oe=bs(N.nextSibling),Ie=l,$e=!0,ze=null,a!==null&&(Q[ae++]=_e,Q[ae++]=oe,Q[ae++]=xe,_e=a.id,oe=a.overflow,xe=l),l=Vm(l,v.children),l.flags|=4096,l)}function Cv(a,l,f){a.lanes|=l;var v=a.alternate;v!==null&&(v.lanes|=l),Ir(a.return,l,f)}function Hm(a,l,f,v,N){var E=a.memoizedState;E===null?a.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:v,tail:f,tailMode:N}:(E.isBackwards=l,E.rendering=null,E.renderingStartTime=0,E.last=v,E.tail=f,E.tailMode=N)}function Av(a,l,f){var v=l.pendingProps,N=v.revealOrder,E=v.tail;if(Qs(a,l,v.children,f),v=nn.current,(v&2)!==0)v=v&1|2,l.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=l.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&Cv(a,f,l);else if(a.tag===19)Cv(a,f,l);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===l)break e;for(;a.sibling===null;){if(a.return===null||a.return===l)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}v&=1}if(Vr(nn,v),(l.mode&1)===0)l.memoizedState=null;else switch(N){case"forwards":for(f=l.child,N=null;f!==null;)a=f.alternate,a!==null&&Ii(a)===null&&(N=f),f=f.sibling;f=N,f===null?(N=l.child,l.child=null):(N=f.sibling,f.sibling=null),Hm(l,!1,N,f,E);break;case"backwards":for(f=null,N=l.child,l.child=null;N!==null;){if(a=N.alternate,a!==null&&Ii(a)===null){l.child=N;break}a=N.sibling,N.sibling=f,f=N,N=a}Hm(l,!0,f,null,E);break;case"together":Hm(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function wf(a,l){(l.mode&1)===0&&a!==null&&(a.alternate=null,l.alternate=null,l.flags|=2)}function sl(a,l,f){if(a!==null&&(l.dependencies=a.dependencies),zc|=l.lanes,(f&l.childLanes)===0)return null;if(a!==null&&l.child!==a.child)throw Error(t(153));if(l.child!==null){for(a=l.child,f=Jl(a,a.pendingProps),l.child=f,f.return=l;a.sibling!==null;)a=a.sibling,f=f.sibling=Jl(a,a.pendingProps),f.return=l;f.sibling=null}return l.child}function N_(a,l,f){switch(l.tag){case 3:_v(l),mt();break;case 5:hf(l);break;case 1:Ls(l.type)&&rl(l);break;case 4:$l(l,l.stateNode.containerInfo);break;case 10:var v=l.type._context,N=l.memoizedProps.value;Vr(qn,v._currentValue),v._currentValue=N;break;case 13:if(v=l.memoizedState,v!==null)return v.dehydrated!==null?(Vr(nn,nn.current&1),l.flags|=128,null):(f&l.child.childLanes)!==0?kv(a,l,f):(Vr(nn,nn.current&1),a=sl(a,l,f),a!==null?a.sibling:null);Vr(nn,nn.current&1);break;case 19:if(v=(f&l.childLanes)!==0,(a.flags&128)!==0){if(v)return Av(a,l,f);l.flags|=128}if(N=l.memoizedState,N!==null&&(N.rendering=null,N.tail=null,N.lastEffect=null),Vr(nn,nn.current),v)break;return null;case 22:case 23:return l.lanes=0,bv(a,l,f)}return sl(a,l,f)}var Ev,Wm,Pv,Tv;Ev=function(a,l){for(var f=l.child;f!==null;){if(f.tag===5||f.tag===6)a.appendChild(f.stateNode);else if(f.tag!==4&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===l)break;for(;f.sibling===null;){if(f.return===null||f.return===l)return;f=f.return}f.sibling.return=f.return,f=f.sibling}},Wm=function(){},Pv=function(a,l,f,v){var N=a.memoizedProps;if(N!==v){a=l.stateNode,ka(Xn.current);var E=null;switch(f){case"input":N=ut(a,N),v=ut(a,v),E=[];break;case"select":N=me({},N,{value:void 0}),v=me({},v,{value:void 0}),E=[];break;case"textarea":N=ht(a,N),v=ht(a,v),E=[];break;default:typeof N.onClick!="function"&&typeof v.onClick=="function"&&(a.onclick=Ml)}Dr(f,v);var $;f=null;for(Pe in N)if(!v.hasOwnProperty(Pe)&&N.hasOwnProperty(Pe)&&N[Pe]!=null)if(Pe==="style"){var he=N[Pe];for($ in he)he.hasOwnProperty($)&&(f||(f={}),f[$]="")}else Pe!=="dangerouslySetInnerHTML"&&Pe!=="children"&&Pe!=="suppressContentEditableWarning"&&Pe!=="suppressHydrationWarning"&&Pe!=="autoFocus"&&(i.hasOwnProperty(Pe)?E||(E=[]):(E=E||[]).push(Pe,null));for(Pe in v){var ve=v[Pe];if(he=N?.[Pe],v.hasOwnProperty(Pe)&&ve!==he&&(ve!=null||he!=null))if(Pe==="style")if(he){for($ in he)!he.hasOwnProperty($)||ve&&ve.hasOwnProperty($)||(f||(f={}),f[$]="");for($ in ve)ve.hasOwnProperty($)&&he[$]!==ve[$]&&(f||(f={}),f[$]=ve[$])}else f||(E||(E=[]),E.push(Pe,f)),f=ve;else Pe==="dangerouslySetInnerHTML"?(ve=ve?ve.__html:void 0,he=he?he.__html:void 0,ve!=null&&he!==ve&&(E=E||[]).push(Pe,ve)):Pe==="children"?typeof ve!="string"&&typeof ve!="number"||(E=E||[]).push(Pe,""+ve):Pe!=="suppressContentEditableWarning"&&Pe!=="suppressHydrationWarning"&&(i.hasOwnProperty(Pe)?(ve!=null&&Pe==="onScroll"&&Gr("scroll",a),E||he===ve||(E=[])):(E=E||[]).push(Pe,ve))}f&&(E=E||[]).push("style",f);var Pe=E;(l.updateQueue=Pe)&&(l.flags|=4)}},Tv=function(a,l,f,v){f!==v&&(l.flags|=4)};function fh(a,l){if(!$e)switch(a.tailMode){case"hidden":l=a.tail;for(var f=null;l!==null;)l.alternate!==null&&(f=l),l=l.sibling;f===null?a.tail=null:f.sibling=null;break;case"collapsed":f=a.tail;for(var v=null;f!==null;)f.alternate!==null&&(v=f),f=f.sibling;v===null?l||a.tail===null?a.tail=null:a.tail.sibling=null:v.sibling=null}}function Rs(a){var l=a.alternate!==null&&a.alternate.child===a.child,f=0,v=0;if(l)for(var N=a.child;N!==null;)f|=N.lanes|N.childLanes,v|=N.subtreeFlags&14680064,v|=N.flags&14680064,N.return=a,N=N.sibling;else for(N=a.child;N!==null;)f|=N.lanes|N.childLanes,v|=N.subtreeFlags,v|=N.flags,N.return=a,N=N.sibling;return a.subtreeFlags|=v,a.childLanes=f,l}function __(a,l,f){var v=l.pendingProps;switch(Ce(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rs(l),null;case 1:return Ls(l.type)&&Uu(),Rs(l),null;case 3:return v=l.stateNode,ra(),Br(Ts),Br(ss),uh(),v.pendingContext&&(v.context=v.pendingContext,v.pendingContext=null),(a===null||a.child===null)&&(vn(l)?l.flags|=4:a===null||a.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,ze!==null&&(ng(ze),ze=null))),Wm(a,l),Rs(l),null;case 5:lh(l);var N=ka(co.current);if(f=l.type,a!==null&&l.stateNode!=null)Pv(a,l,f,v,N),a.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!v){if(l.stateNode===null)throw Error(t(166));return Rs(l),null}if(a=ka(Xn.current),vn(l)){v=l.stateNode,f=l.type;var E=l.memoizedProps;switch(v[ta]=l,v[Fl]=E,a=(l.mode&1)!==0,f){case"dialog":Gr("cancel",v),Gr("close",v);break;case"iframe":case"object":case"embed":Gr("load",v);break;case"video":case"audio":for(N=0;N<ao.length;N++)Gr(ao[N],v);break;case"source":Gr("error",v);break;case"img":case"image":case"link":Gr("error",v),Gr("load",v);break;case"details":Gr("toggle",v);break;case"input":ie(v,E),Gr("invalid",v);break;case"select":v._wrapperState={wasMultiple:!!E.multiple},Gr("invalid",v);break;case"textarea":_t(v,E),Gr("invalid",v)}Dr(f,E),N=null;for(var $ in E)if(E.hasOwnProperty($)){var he=E[$];$==="children"?typeof he=="string"?v.textContent!==he&&(E.suppressHydrationWarning!==!0&&Bu(v.textContent,he,a),N=["children",he]):typeof he=="number"&&v.textContent!==""+he&&(E.suppressHydrationWarning!==!0&&Bu(v.textContent,he,a),N=["children",""+he]):i.hasOwnProperty($)&&he!=null&&$==="onScroll"&&Gr("scroll",v)}switch(f){case"input":De(v),Bt(v,E,!0);break;case"textarea":De(v),lr(v);break;case"select":case"option":break;default:typeof E.onClick=="function"&&(v.onclick=Ml)}v=N,l.updateQueue=v,v!==null&&(l.flags|=4)}else{$=N.nodeType===9?N:N.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=Wt(f)),a==="http://www.w3.org/1999/xhtml"?f==="script"?(a=$.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):typeof v.is=="string"?a=$.createElement(f,{is:v.is}):(a=$.createElement(f),f==="select"&&($=a,v.multiple?$.multiple=!0:v.size&&($.size=v.size))):a=$.createElementNS(a,f),a[ta]=l,a[Fl]=v,Ev(a,l,!1,!1),l.stateNode=a;e:{switch($=Dt(f,v),f){case"dialog":Gr("cancel",a),Gr("close",a),N=v;break;case"iframe":case"object":case"embed":Gr("load",a),N=v;break;case"video":case"audio":for(N=0;N<ao.length;N++)Gr(ao[N],a);N=v;break;case"source":Gr("error",a),N=v;break;case"img":case"image":case"link":Gr("error",a),Gr("load",a),N=v;break;case"details":Gr("toggle",a),N=v;break;case"input":ie(a,v),N=ut(a,v),Gr("invalid",a);break;case"option":N=v;break;case"select":a._wrapperState={wasMultiple:!!v.multiple},N=me({},v,{value:void 0}),Gr("invalid",a);break;case"textarea":_t(a,v),N=ht(a,v),Gr("invalid",a);break;default:N=v}Dr(f,N),he=N;for(E in he)if(he.hasOwnProperty(E)){var ve=he[E];E==="style"?sr(a,ve):E==="dangerouslySetInnerHTML"?(ve=ve?ve.__html:void 0,ve!=null&&gt(a,ve)):E==="children"?typeof ve=="string"?(f!=="textarea"||ve!=="")&&$t(a,ve):typeof ve=="number"&&$t(a,""+ve):E!=="suppressContentEditableWarning"&&E!=="suppressHydrationWarning"&&E!=="autoFocus"&&(i.hasOwnProperty(E)?ve!=null&&E==="onScroll"&&Gr("scroll",a):ve!=null&&P(a,E,ve,$))}switch(f){case"input":De(a),Bt(a,v,!1);break;case"textarea":De(a),lr(a);break;case"option":v.value!=null&&a.setAttribute("value",""+ge(v.value));break;case"select":a.multiple=!!v.multiple,E=v.value,E!=null?ct(a,!!v.multiple,E,!1):v.defaultValue!=null&&ct(a,!!v.multiple,v.defaultValue,!0);break;default:typeof N.onClick=="function"&&(a.onclick=Ml)}switch(f){case"button":case"input":case"select":case"textarea":v=!!v.autoFocus;break e;case"img":v=!0;break e;default:v=!1}}v&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return Rs(l),null;case 6:if(a&&l.stateNode!=null)Tv(a,l,a.memoizedProps,v);else{if(typeof v!="string"&&l.stateNode===null)throw Error(t(166));if(f=ka(co.current),ka(Xn.current),vn(l)){if(v=l.stateNode,f=l.memoizedProps,v[ta]=l,(E=v.nodeValue!==f)&&(a=Ie,a!==null))switch(a.tag){case 3:Bu(v.nodeValue,f,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&Bu(v.nodeValue,f,(a.mode&1)!==0)}E&&(l.flags|=4)}else v=(f.nodeType===9?f:f.ownerDocument).createTextNode(v),v[ta]=l,l.stateNode=v}return Rs(l),null;case 13:if(Br(nn),v=l.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if($e&&Oe!==null&&(l.mode&1)!==0&&(l.flags&128)===0)ar(),mt(),l.flags|=98560,E=!1;else if(E=vn(l),v!==null&&v.dehydrated!==null){if(a===null){if(!E)throw Error(t(318));if(E=l.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(t(317));E[ta]=l}else mt(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Rs(l),E=!1}else ze!==null&&(ng(ze),ze=null),E=!0;if(!E)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=f,l):(v=v!==null,v!==(a!==null&&a.memoizedState!==null)&&v&&(l.child.flags|=8192,(l.mode&1)!==0&&(a===null||(nn.current&1)!==0?as===0&&(as=3):ag())),l.updateQueue!==null&&(l.flags|=4),Rs(l),null);case 4:return ra(),Wm(a,l),a===null&&Xo(l.stateNode.containerInfo),Rs(l),null;case 10:return un(l.type._context),Rs(l),null;case 17:return Ls(l.type)&&Uu(),Rs(l),null;case 19:if(Br(nn),E=l.memoizedState,E===null)return Rs(l),null;if(v=(l.flags&128)!==0,$=E.rendering,$===null)if(v)fh(E,!1);else{if(as!==0||a!==null&&(a.flags&128)!==0)for(a=l.child;a!==null;){if($=Ii(a),$!==null){for(l.flags|=128,fh(E,!1),v=$.updateQueue,v!==null&&(l.updateQueue=v,l.flags|=4),l.subtreeFlags=0,v=f,f=l.child;f!==null;)E=f,a=v,E.flags&=14680066,$=E.alternate,$===null?(E.childLanes=0,E.lanes=a,E.child=null,E.subtreeFlags=0,E.memoizedProps=null,E.memoizedState=null,E.updateQueue=null,E.dependencies=null,E.stateNode=null):(E.childLanes=$.childLanes,E.lanes=$.lanes,E.child=$.child,E.subtreeFlags=0,E.deletions=null,E.memoizedProps=$.memoizedProps,E.memoizedState=$.memoizedState,E.updateQueue=$.updateQueue,E.type=$.type,a=$.dependencies,E.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),f=f.sibling;return Vr(nn,nn.current&1|2),l.child}a=a.sibling}E.tail!==null&&rn()>Zu&&(l.flags|=128,v=!0,fh(E,!1),l.lanes=4194304)}else{if(!v)if(a=Ii($),a!==null){if(l.flags|=128,v=!0,f=a.updateQueue,f!==null&&(l.updateQueue=f,l.flags|=4),fh(E,!0),E.tail===null&&E.tailMode==="hidden"&&!$.alternate&&!$e)return Rs(l),null}else 2*rn()-E.renderingStartTime>Zu&&f!==1073741824&&(l.flags|=128,v=!0,fh(E,!1),l.lanes=4194304);E.isBackwards?($.sibling=l.child,l.child=$):(f=E.last,f!==null?f.sibling=$:l.child=$,E.last=$)}return E.tail!==null?(l=E.tail,E.rendering=l,E.tail=l.sibling,E.renderingStartTime=rn(),l.sibling=null,f=nn.current,Vr(nn,v?f&1|2:f&1),l):(Rs(l),null);case 22:case 23:return ig(),v=l.memoizedState!==null,a!==null&&a.memoizedState!==null!==v&&(l.flags|=8192),v&&(l.mode&1)!==0?(Di&1073741824)!==0&&(Rs(l),l.subtreeFlags&6&&(l.flags|=8192)):Rs(l),null;case 24:return null;case 25:return null}throw Error(t(156,l.tag))}function S_(a,l){switch(Ce(l),l.tag){case 1:return Ls(l.type)&&Uu(),a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 3:return ra(),Br(Ts),Br(ss),uh(),a=l.flags,(a&65536)!==0&&(a&128)===0?(l.flags=a&-65537|128,l):null;case 5:return lh(l),null;case 13:if(Br(nn),a=l.memoizedState,a!==null&&a.dehydrated!==null){if(l.alternate===null)throw Error(t(340));mt()}return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 19:return Br(nn),null;case 4:return ra(),null;case 10:return un(l.type._context),null;case 22:case 23:return ig(),null;case 24:return null;default:return null}}var bf=!1,Os=!1,k_=typeof WeakSet=="function"?WeakSet:Set,vt=null;function Xu(a,l){var f=a.ref;if(f!==null)if(typeof f=="function")try{f(null)}catch(v){Fn(a,l,v)}else f.current=null}function Gm(a,l,f){try{f()}catch(v){Fn(a,l,v)}}var Lv=!1;function C_(a,l){if(Dc=Sl,a=Rn(),Pi(a)){if("selectionStart"in a)var f={start:a.selectionStart,end:a.selectionEnd};else e:{f=(f=a.ownerDocument)&&f.defaultView||window;var v=f.getSelection&&f.getSelection();if(v&&v.rangeCount!==0){f=v.anchorNode;var N=v.anchorOffset,E=v.focusNode;v=v.focusOffset;try{f.nodeType,E.nodeType}catch{f=null;break e}var $=0,he=-1,ve=-1,Pe=0,Qe=0,et=a,Xe=null;t:for(;;){for(var ft;et!==f||N!==0&&et.nodeType!==3||(he=$+N),et!==E||v!==0&&et.nodeType!==3||(ve=$+v),et.nodeType===3&&($+=et.nodeValue.length),(ft=et.firstChild)!==null;)Xe=et,et=ft;for(;;){if(et===a)break t;if(Xe===f&&++Pe===N&&(he=$),Xe===E&&++Qe===v&&(ve=$),(ft=et.nextSibling)!==null)break;et=Xe,Xe=et.parentNode}et=ft}f=he===-1||ve===-1?null:{start:he,end:ve}}else f=null}f=f||{start:0,end:0}}else f=null;for(Zo={focusedElem:a,selectionRange:f},Sl=!1,vt=l;vt!==null;)if(l=vt,a=l.child,(l.subtreeFlags&1028)!==0&&a!==null)a.return=l,vt=a;else for(;vt!==null;){l=vt;try{var St=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(St!==null){var Pt=St.memoizedProps,Hn=St.memoizedState,ke=l.stateNode,we=ke.getSnapshotBeforeUpdate(l.elementType===l.type?Pt:Ea(l.type,Pt),Hn);ke.__reactInternalSnapshotBeforeUpdate=we}break;case 3:var Ee=l.stateNode.containerInfo;Ee.nodeType===1?Ee.textContent="":Ee.nodeType===9&&Ee.documentElement&&Ee.removeChild(Ee.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(rt){Fn(l,l.return,rt)}if(a=l.sibling,a!==null){a.return=l.return,vt=a;break}vt=l.return}return St=Lv,Lv=!1,St}function ph(a,l,f){var v=l.updateQueue;if(v=v!==null?v.lastEffect:null,v!==null){var N=v=v.next;do{if((N.tag&a)===a){var E=N.destroy;N.destroy=void 0,E!==void 0&&Gm(l,f,E)}N=N.next}while(N!==v)}}function jf(a,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var f=l=l.next;do{if((f.tag&a)===a){var v=f.create;f.destroy=v()}f=f.next}while(f!==l)}}function Km(a){var l=a.ref;if(l!==null){var f=a.stateNode;switch(a.tag){case 5:a=f;break;default:a=f}typeof l=="function"?l(a):l.current=a}}function Iv(a){var l=a.alternate;l!==null&&(a.alternate=null,Iv(l)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(l=a.stateNode,l!==null&&(delete l[ta],delete l[Fl],delete l[Ps],delete l[Lm],delete l[Im])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function Rv(a){return a.tag===5||a.tag===3||a.tag===4}function Ov(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||Rv(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Ym(a,l,f){var v=a.tag;if(v===5||v===6)a=a.stateNode,l?f.nodeType===8?f.parentNode.insertBefore(a,l):f.insertBefore(a,l):(f.nodeType===8?(l=f.parentNode,l.insertBefore(a,f)):(l=f,l.appendChild(a)),f=f._reactRootContainer,f!=null||l.onclick!==null||(l.onclick=Ml));else if(v!==4&&(a=a.child,a!==null))for(Ym(a,l,f),a=a.sibling;a!==null;)Ym(a,l,f),a=a.sibling}function Jm(a,l,f){var v=a.tag;if(v===5||v===6)a=a.stateNode,l?f.insertBefore(a,l):f.appendChild(a);else if(v!==4&&(a=a.child,a!==null))for(Jm(a,l,f),a=a.sibling;a!==null;)Jm(a,l,f),a=a.sibling}var js=null,Pa=!1;function Hl(a,l,f){for(f=f.child;f!==null;)Dv(a,l,f),f=f.sibling}function Dv(a,l,f){if(Vs&&typeof Vs.onCommitFiberUnmount=="function")try{Vs.onCommitFiberUnmount(Eo,f)}catch{}switch(f.tag){case 5:Os||Xu(f,l);case 6:var v=js,N=Pa;js=null,Hl(a,l,f),js=v,Pa=N,js!==null&&(Pa?(a=js,f=f.stateNode,a.nodeType===8?a.parentNode.removeChild(f):a.removeChild(f)):js.removeChild(f.stateNode));break;case 18:js!==null&&(Pa?(a=js,f=f.stateNode,a.nodeType===8?ih(a.parentNode,f):a.nodeType===1&&ih(a,f),Do(a)):ih(js,f.stateNode));break;case 4:v=js,N=Pa,js=f.stateNode.containerInfo,Pa=!0,Hl(a,l,f),js=v,Pa=N;break;case 0:case 11:case 14:case 15:if(!Os&&(v=f.updateQueue,v!==null&&(v=v.lastEffect,v!==null))){N=v=v.next;do{var E=N,$=E.destroy;E=E.tag,$!==void 0&&((E&2)!==0||(E&4)!==0)&&Gm(f,l,$),N=N.next}while(N!==v)}Hl(a,l,f);break;case 1:if(!Os&&(Xu(f,l),v=f.stateNode,typeof v.componentWillUnmount=="function"))try{v.props=f.memoizedProps,v.state=f.memoizedState,v.componentWillUnmount()}catch(he){Fn(f,l,he)}Hl(a,l,f);break;case 21:Hl(a,l,f);break;case 22:f.mode&1?(Os=(v=Os)||f.memoizedState!==null,Hl(a,l,f),Os=v):Hl(a,l,f);break;default:Hl(a,l,f)}}function Mv(a){var l=a.updateQueue;if(l!==null){a.updateQueue=null;var f=a.stateNode;f===null&&(f=a.stateNode=new k_),l.forEach(function(v){var N=D_.bind(null,a,v);f.has(v)||(f.add(v),v.then(N,N))})}}function Ta(a,l){var f=l.deletions;if(f!==null)for(var v=0;v<f.length;v++){var N=f[v];try{var E=a,$=l,he=$;e:for(;he!==null;){switch(he.tag){case 5:js=he.stateNode,Pa=!1;break e;case 3:js=he.stateNode.containerInfo,Pa=!0;break e;case 4:js=he.stateNode.containerInfo,Pa=!0;break e}he=he.return}if(js===null)throw Error(t(160));Dv(E,$,N),js=null,Pa=!1;var ve=N.alternate;ve!==null&&(ve.return=null),N.return=null}catch(Pe){Fn(N,l,Pe)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)Fv(l,a),l=l.sibling}function Fv(a,l){var f=a.alternate,v=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(Ta(l,a),ho(a),v&4){try{ph(3,a,a.return),jf(3,a)}catch(Pt){Fn(a,a.return,Pt)}try{ph(5,a,a.return)}catch(Pt){Fn(a,a.return,Pt)}}break;case 1:Ta(l,a),ho(a),v&512&&f!==null&&Xu(f,f.return);break;case 5:if(Ta(l,a),ho(a),v&512&&f!==null&&Xu(f,f.return),a.flags&32){var N=a.stateNode;try{$t(N,"")}catch(Pt){Fn(a,a.return,Pt)}}if(v&4&&(N=a.stateNode,N!=null)){var E=a.memoizedProps,$=f!==null?f.memoizedProps:E,he=a.type,ve=a.updateQueue;if(a.updateQueue=null,ve!==null)try{he==="input"&&E.type==="radio"&&E.name!=null&&st(N,E),Dt(he,$);var Pe=Dt(he,E);for($=0;$<ve.length;$+=2){var Qe=ve[$],et=ve[$+1];Qe==="style"?sr(N,et):Qe==="dangerouslySetInnerHTML"?gt(N,et):Qe==="children"?$t(N,et):P(N,Qe,et,Pe)}switch(he){case"input":zt(N,E);break;case"textarea":_r(N,E);break;case"select":var Xe=N._wrapperState.wasMultiple;N._wrapperState.wasMultiple=!!E.multiple;var ft=E.value;ft!=null?ct(N,!!E.multiple,ft,!1):Xe!==!!E.multiple&&(E.defaultValue!=null?ct(N,!!E.multiple,E.defaultValue,!0):ct(N,!!E.multiple,E.multiple?[]:"",!1))}N[Fl]=E}catch(Pt){Fn(a,a.return,Pt)}}break;case 6:if(Ta(l,a),ho(a),v&4){if(a.stateNode===null)throw Error(t(162));N=a.stateNode,E=a.memoizedProps;try{N.nodeValue=E}catch(Pt){Fn(a,a.return,Pt)}}break;case 3:if(Ta(l,a),ho(a),v&4&&f!==null&&f.memoizedState.isDehydrated)try{Do(l.containerInfo)}catch(Pt){Fn(a,a.return,Pt)}break;case 4:Ta(l,a),ho(a);break;case 13:Ta(l,a),ho(a),N=a.child,N.flags&8192&&(E=N.memoizedState!==null,N.stateNode.isHidden=E,!E||N.alternate!==null&&N.alternate.memoizedState!==null||(Zm=rn())),v&4&&Mv(a);break;case 22:if(Qe=f!==null&&f.memoizedState!==null,a.mode&1?(Os=(Pe=Os)||Qe,Ta(l,a),Os=Pe):Ta(l,a),ho(a),v&8192){if(Pe=a.memoizedState!==null,(a.stateNode.isHidden=Pe)&&!Qe&&(a.mode&1)!==0)for(vt=a,Qe=a.child;Qe!==null;){for(et=vt=Qe;vt!==null;){switch(Xe=vt,ft=Xe.child,Xe.tag){case 0:case 11:case 14:case 15:ph(4,Xe,Xe.return);break;case 1:Xu(Xe,Xe.return);var St=Xe.stateNode;if(typeof St.componentWillUnmount=="function"){v=Xe,f=Xe.return;try{l=v,St.props=l.memoizedProps,St.state=l.memoizedState,St.componentWillUnmount()}catch(Pt){Fn(v,f,Pt)}}break;case 5:Xu(Xe,Xe.return);break;case 22:if(Xe.memoizedState!==null){$v(et);continue}}ft!==null?(ft.return=Xe,vt=ft):$v(et)}Qe=Qe.sibling}e:for(Qe=null,et=a;;){if(et.tag===5){if(Qe===null){Qe=et;try{N=et.stateNode,Pe?(E=N.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none"):(he=et.stateNode,ve=et.memoizedProps.style,$=ve!=null&&ve.hasOwnProperty("display")?ve.display:null,he.style.display=pr("display",$))}catch(Pt){Fn(a,a.return,Pt)}}}else if(et.tag===6){if(Qe===null)try{et.stateNode.nodeValue=Pe?"":et.memoizedProps}catch(Pt){Fn(a,a.return,Pt)}}else if((et.tag!==22&&et.tag!==23||et.memoizedState===null||et===a)&&et.child!==null){et.child.return=et,et=et.child;continue}if(et===a)break e;for(;et.sibling===null;){if(et.return===null||et.return===a)break e;Qe===et&&(Qe=null),et=et.return}Qe===et&&(Qe=null),et.sibling.return=et.return,et=et.sibling}}break;case 19:Ta(l,a),ho(a),v&4&&Mv(a);break;case 21:break;default:Ta(l,a),ho(a)}}function ho(a){var l=a.flags;if(l&2){try{e:{for(var f=a.return;f!==null;){if(Rv(f)){var v=f;break e}f=f.return}throw Error(t(160))}switch(v.tag){case 5:var N=v.stateNode;v.flags&32&&($t(N,""),v.flags&=-33);var E=Ov(a);Jm(a,E,N);break;case 3:case 4:var $=v.stateNode.containerInfo,he=Ov(a);Ym(a,he,$);break;default:throw Error(t(161))}}catch(ve){Fn(a,a.return,ve)}a.flags&=-3}l&4096&&(a.flags&=-4097)}function A_(a,l,f){vt=a,Bv(a)}function Bv(a,l,f){for(var v=(a.mode&1)!==0;vt!==null;){var N=vt,E=N.child;if(N.tag===22&&v){var $=N.memoizedState!==null||bf;if(!$){var he=N.alternate,ve=he!==null&&he.memoizedState!==null||Os;he=bf;var Pe=Os;if(bf=$,(Os=ve)&&!Pe)for(vt=N;vt!==null;)$=vt,ve=$.child,$.tag===22&&$.memoizedState!==null?zv(N):ve!==null?(ve.return=$,vt=ve):zv(N);for(;E!==null;)vt=E,Bv(E),E=E.sibling;vt=N,bf=he,Os=Pe}Uv(a)}else(N.subtreeFlags&8772)!==0&&E!==null?(E.return=N,vt=E):Uv(a)}}function Uv(a){for(;vt!==null;){var l=vt;if((l.flags&8772)!==0){var f=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:Os||jf(5,l);break;case 1:var v=l.stateNode;if(l.flags&4&&!Os)if(f===null)v.componentDidMount();else{var N=l.elementType===l.type?f.memoizedProps:Ea(l.type,f.memoizedProps);v.componentDidUpdate(N,f.memoizedState,v.__reactInternalSnapshotBeforeUpdate)}var E=l.updateQueue;E!==null&&di(l,E,v);break;case 3:var $=l.updateQueue;if($!==null){if(f=null,l.child!==null)switch(l.child.tag){case 5:f=l.child.stateNode;break;case 1:f=l.child.stateNode}di(l,$,f)}break;case 5:var he=l.stateNode;if(f===null&&l.flags&4){f=he;var ve=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":ve.autoFocus&&f.focus();break;case"img":ve.src&&(f.src=ve.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var Pe=l.alternate;if(Pe!==null){var Qe=Pe.memoizedState;if(Qe!==null){var et=Qe.dehydrated;et!==null&&Do(et)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Os||l.flags&512&&Km(l)}catch(Xe){Fn(l,l.return,Xe)}}if(l===a){vt=null;break}if(f=l.sibling,f!==null){f.return=l.return,vt=f;break}vt=l.return}}function $v(a){for(;vt!==null;){var l=vt;if(l===a){vt=null;break}var f=l.sibling;if(f!==null){f.return=l.return,vt=f;break}vt=l.return}}function zv(a){for(;vt!==null;){var l=vt;try{switch(l.tag){case 0:case 11:case 15:var f=l.return;try{jf(4,l)}catch(ve){Fn(l,f,ve)}break;case 1:var v=l.stateNode;if(typeof v.componentDidMount=="function"){var N=l.return;try{v.componentDidMount()}catch(ve){Fn(l,N,ve)}}var E=l.return;try{Km(l)}catch(ve){Fn(l,E,ve)}break;case 5:var $=l.return;try{Km(l)}catch(ve){Fn(l,$,ve)}}}catch(ve){Fn(l,l.return,ve)}if(l===a){vt=null;break}var he=l.sibling;if(he!==null){he.return=l.return,vt=he;break}vt=l.return}}var E_=Math.ceil,Nf=T.ReactCurrentDispatcher,Xm=T.ReactCurrentOwner,ia=T.ReactCurrentBatchConfig,Rr=0,ms=null,Qn=null,Ns=0,Di=0,Qu=Ti(0),as=0,mh=null,zc=0,_f=0,Qm=0,gh=null,fi=null,Zm=0,Zu=1/0,il=null,Sf=!1,eg=null,Wl=null,kf=!1,Gl=null,Cf=0,xh=0,tg=null,Af=-1,Ef=0;function Zs(){return(Rr&6)!==0?rn():Af!==-1?Af:Af=rn()}function Kl(a){return(a.mode&1)===0?1:(Rr&2)!==0&&Ns!==0?Ns&-Ns:Sn.transition!==null?(Ef===0&&(Ef=yc()),Ef):(a=Cr,a!==0||(a=window.event,a=a===void 0?16:Fo(a.type)),a)}function La(a,l,f,v){if(50<xh)throw xh=0,tg=null,Error(t(185));Lo(a,f,v),((Rr&2)===0||a!==ms)&&(a===ms&&((Rr&2)===0&&(_f|=f),as===4&&Yl(a,Ns)),pi(a,v),f===1&&Rr===0&&(l.mode&1)===0&&(Zu=rn()+500,Fc&&I()))}function pi(a,l){var f=a.callbackNode;$n(a,l);var v=To(a,a===ms?Ns:0);if(v===0)f!==null&&Ao(f),a.callbackNode=null,a.callbackPriority=0;else if(l=v&-v,a.callbackPriority!==l){if(f!=null&&Ao(f),l===1)a.tag===0?A(Vv.bind(null,a)):y(Vv.bind(null,a)),Pm(function(){(Rr&6)===0&&I()}),f=null;else{switch(Io(v)){case 1:f=vl;break;case 4:f=qs;break;case 16:f=Ya;break;case 536870912:f=yl;break;default:f=Ya}f=Qv(f,qv.bind(null,a))}a.callbackPriority=l,a.callbackNode=f}}function qv(a,l){if(Af=-1,Ef=0,(Rr&6)!==0)throw Error(t(327));var f=a.callbackNode;if(ed()&&a.callbackNode!==f)return null;var v=To(a,a===ms?Ns:0);if(v===0)return null;if((v&30)!==0||(v&a.expiredLanes)!==0||l)l=Pf(a,v);else{l=v;var N=Rr;Rr|=2;var E=Wv();(ms!==a||Ns!==l)&&(il=null,Zu=rn()+500,Vc(a,l));do try{L_();break}catch(he){Hv(a,he)}while(!0);Lr(),Nf.current=E,Rr=N,Qn!==null?l=0:(ms=null,Ns=0,l=as)}if(l!==0){if(l===2&&(N=Si(a),N!==0&&(v=N,l=rg(a,N))),l===1)throw f=mh,Vc(a,0),Yl(a,v),pi(a,rn()),f;if(l===6)Yl(a,v);else{if(N=a.current.alternate,(v&30)===0&&!P_(N)&&(l=Pf(a,v),l===2&&(E=Si(a),E!==0&&(v=E,l=rg(a,E))),l===1))throw f=mh,Vc(a,0),Yl(a,v),pi(a,rn()),f;switch(a.finishedWork=N,a.finishedLanes=v,l){case 0:case 1:throw Error(t(345));case 2:Hc(a,fi,il);break;case 3:if(Yl(a,v),(v&130023424)===v&&(l=Zm+500-rn(),10<l)){if(To(a,0)!==0)break;if(N=a.suspendedLanes,(N&v)!==v){Zs(),a.pingedLanes|=a.suspendedLanes&N;break}a.timeoutHandle=sh(Hc.bind(null,a,fi,il),l);break}Hc(a,fi,il);break;case 4:if(Yl(a,v),(v&4194240)===v)break;for(l=a.eventTimes,N=-1;0<v;){var $=31-Tn(v);E=1<<$,$=l[$],$>N&&(N=$),v&=~E}if(v=N,v=rn()-v,v=(120>v?120:480>v?480:1080>v?1080:1920>v?1920:3e3>v?3e3:4320>v?4320:1960*E_(v/1960))-v,10<v){a.timeoutHandle=sh(Hc.bind(null,a,fi,il),v);break}Hc(a,fi,il);break;case 5:Hc(a,fi,il);break;default:throw Error(t(329))}}}return pi(a,rn()),a.callbackNode===f?qv.bind(null,a):null}function rg(a,l){var f=gh;return a.current.memoizedState.isDehydrated&&(Vc(a,l).flags|=256),a=Pf(a,l),a!==2&&(l=fi,fi=f,l!==null&&ng(l)),a}function ng(a){fi===null?fi=a:fi.push.apply(fi,a)}function P_(a){for(var l=a;;){if(l.flags&16384){var f=l.updateQueue;if(f!==null&&(f=f.stores,f!==null))for(var v=0;v<f.length;v++){var N=f[v],E=N.getSnapshot;N=N.value;try{if(!gn(E(),N))return!1}catch{return!1}}}if(f=l.child,l.subtreeFlags&16384&&f!==null)f.return=l,l=f;else{if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Yl(a,l){for(l&=~Qm,l&=~_f,a.suspendedLanes|=l,a.pingedLanes&=~l,a=a.expirationTimes;0<l;){var f=31-Tn(l),v=1<<f;a[f]=-1,l&=~v}}function Vv(a){if((Rr&6)!==0)throw Error(t(327));ed();var l=To(a,0);if((l&1)===0)return pi(a,rn()),null;var f=Pf(a,l);if(a.tag!==0&&f===2){var v=Si(a);v!==0&&(l=v,f=rg(a,v))}if(f===1)throw f=mh,Vc(a,0),Yl(a,l),pi(a,rn()),f;if(f===6)throw Error(t(345));return a.finishedWork=a.current.alternate,a.finishedLanes=l,Hc(a,fi,il),pi(a,rn()),null}function sg(a,l){var f=Rr;Rr|=1;try{return a(l)}finally{Rr=f,Rr===0&&(Zu=rn()+500,Fc&&I())}}function qc(a){Gl!==null&&Gl.tag===0&&(Rr&6)===0&&ed();var l=Rr;Rr|=1;var f=ia.transition,v=Cr;try{if(ia.transition=null,Cr=1,a)return a()}finally{Cr=v,ia.transition=f,Rr=l,(Rr&6)===0&&I()}}function ig(){Di=Qu.current,Br(Qu)}function Vc(a,l){a.finishedWork=null,a.finishedLanes=0;var f=a.timeoutHandle;if(f!==-1&&(a.timeoutHandle=-1,lf(f)),Qn!==null)for(f=Qn.return;f!==null;){var v=f;switch(Ce(v),v.tag){case 1:v=v.type.childContextTypes,v!=null&&Uu();break;case 3:ra(),Br(Ts),Br(ss),uh();break;case 5:lh(v);break;case 4:ra();break;case 13:Br(nn);break;case 19:Br(nn);break;case 10:un(v.type._context);break;case 22:case 23:ig()}f=f.return}if(ms=a,Qn=a=Jl(a.current,null),Ns=Di=l,as=0,mh=null,Qm=_f=zc=0,fi=gh=null,Kr!==null){for(l=0;l<Kr.length;l++)if(f=Kr[l],v=f.interleaved,v!==null){f.interleaved=null;var N=v.next,E=f.pending;if(E!==null){var $=E.next;E.next=N,v.next=$}f.pending=v}Kr=null}return a}function Hv(a,l){do{var f=Qn;try{if(Lr(),$u.current=xf,zl){for(var v=dn.memoizedState;v!==null;){var N=v.queue;N!==null&&(N.pending=null),v=v.next}zl=!1}if(na=0,En=Mn=dn=null,Ca=!1,ql=0,Xm.current=null,f===null||f.return===null){as=1,mh=l,Qn=null;break}e:{var E=a,$=f.return,he=f,ve=l;if(l=Ns,he.flags|=32768,ve!==null&&typeof ve=="object"&&typeof ve.then=="function"){var Pe=ve,Qe=he,et=Qe.tag;if((Qe.mode&1)===0&&(et===0||et===11||et===15)){var Xe=Qe.alternate;Xe?(Qe.updateQueue=Xe.updateQueue,Qe.memoizedState=Xe.memoizedState,Qe.lanes=Xe.lanes):(Qe.updateQueue=null,Qe.memoizedState=null)}var ft=gv($);if(ft!==null){ft.flags&=-257,xv(ft,$,he,E,l),ft.mode&1&&mv(E,Pe,l),l=ft,ve=Pe;var St=l.updateQueue;if(St===null){var Pt=new Set;Pt.add(ve),l.updateQueue=Pt}else St.add(ve);break e}else{if((l&1)===0){mv(E,Pe,l),ag();break e}ve=Error(t(426))}}else if($e&&he.mode&1){var Hn=gv($);if(Hn!==null){(Hn.flags&65536)===0&&(Hn.flags|=256),xv(Hn,$,he,E,l),it(Ju(ve,he));break e}}E=ve=Ju(ve,he),as!==4&&(as=2),gh===null?gh=[E]:gh.push(E),E=$;do{switch(E.tag){case 3:E.flags|=65536,l&=-l,E.lanes|=l;var ke=fv(E,ve,l);Jr(E,ke);break e;case 1:he=ve;var we=E.type,Ee=E.stateNode;if((E.flags&128)===0&&(typeof we.getDerivedStateFromError=="function"||Ee!==null&&typeof Ee.componentDidCatch=="function"&&(Wl===null||!Wl.has(Ee)))){E.flags|=65536,l&=-l,E.lanes|=l;var rt=pv(E,he,l);Jr(E,rt);break e}}E=E.return}while(E!==null)}Kv(f)}catch(It){l=It,Qn===f&&f!==null&&(Qn=f=f.return);continue}break}while(!0)}function Wv(){var a=Nf.current;return Nf.current=xf,a===null?xf:a}function ag(){(as===0||as===3||as===2)&&(as=4),ms===null||(zc&268435455)===0&&(_f&268435455)===0||Yl(ms,Ns)}function Pf(a,l){var f=Rr;Rr|=2;var v=Wv();(ms!==a||Ns!==l)&&(il=null,Vc(a,l));do try{T_();break}catch(N){Hv(a,N)}while(!0);if(Lr(),Rr=f,Nf.current=v,Qn!==null)throw Error(t(261));return ms=null,Ns=0,as}function T_(){for(;Qn!==null;)Gv(Qn)}function L_(){for(;Qn!==null&&!xl();)Gv(Qn)}function Gv(a){var l=Xv(a.alternate,a,Di);a.memoizedProps=a.pendingProps,l===null?Kv(a):Qn=l,Xm.current=null}function Kv(a){var l=a;do{var f=l.alternate;if(a=l.return,(l.flags&32768)===0){if(f=__(f,l,Di),f!==null){Qn=f;return}}else{if(f=S_(f,l),f!==null){f.flags&=32767,Qn=f;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{as=6,Qn=null;return}}if(l=l.sibling,l!==null){Qn=l;return}Qn=l=a}while(l!==null);as===0&&(as=5)}function Hc(a,l,f){var v=Cr,N=ia.transition;try{ia.transition=null,Cr=1,I_(a,l,f,v)}finally{ia.transition=N,Cr=v}return null}function I_(a,l,f,v){do ed();while(Gl!==null);if((Rr&6)!==0)throw Error(t(327));f=a.finishedWork;var N=a.finishedLanes;if(f===null)return null;if(a.finishedWork=null,a.finishedLanes=0,f===a.current)throw Error(t(177));a.callbackNode=null,a.callbackPriority=0;var E=f.lanes|f.childLanes;if(Wi(a,E),a===ms&&(Qn=ms=null,Ns=0),(f.subtreeFlags&2064)===0&&(f.flags&2064)===0||kf||(kf=!0,Qv(Ya,function(){return ed(),null})),E=(f.flags&15990)!==0,(f.subtreeFlags&15990)!==0||E){E=ia.transition,ia.transition=null;var $=Cr;Cr=1;var he=Rr;Rr|=4,Xm.current=null,C_(a,f),Fv(f,a),Ac(Zo),Sl=!!Dc,Zo=Dc=null,a.current=f,A_(f),Wd(),Rr=he,Cr=$,ia.transition=E}else a.current=f;if(kf&&(kf=!1,Gl=a,Cf=N),E=a.pendingLanes,E===0&&(Wl=null),Au(f.stateNode),pi(a,rn()),l!==null)for(v=a.onRecoverableError,f=0;f<l.length;f++)N=l[f],v(N.value,{componentStack:N.stack,digest:N.digest});if(Sf)throw Sf=!1,a=eg,eg=null,a;return(Cf&1)!==0&&a.tag!==0&&ed(),E=a.pendingLanes,(E&1)!==0?a===tg?xh++:(xh=0,tg=a):xh=0,I(),null}function ed(){if(Gl!==null){var a=Io(Cf),l=ia.transition,f=Cr;try{if(ia.transition=null,Cr=16>a?16:a,Gl===null)var v=!1;else{if(a=Gl,Gl=null,Cf=0,(Rr&6)!==0)throw Error(t(331));var N=Rr;for(Rr|=4,vt=a.current;vt!==null;){var E=vt,$=E.child;if((vt.flags&16)!==0){var he=E.deletions;if(he!==null){for(var ve=0;ve<he.length;ve++){var Pe=he[ve];for(vt=Pe;vt!==null;){var Qe=vt;switch(Qe.tag){case 0:case 11:case 15:ph(8,Qe,E)}var et=Qe.child;if(et!==null)et.return=Qe,vt=et;else for(;vt!==null;){Qe=vt;var Xe=Qe.sibling,ft=Qe.return;if(Iv(Qe),Qe===Pe){vt=null;break}if(Xe!==null){Xe.return=ft,vt=Xe;break}vt=ft}}}var St=E.alternate;if(St!==null){var Pt=St.child;if(Pt!==null){St.child=null;do{var Hn=Pt.sibling;Pt.sibling=null,Pt=Hn}while(Pt!==null)}}vt=E}}if((E.subtreeFlags&2064)!==0&&$!==null)$.return=E,vt=$;else e:for(;vt!==null;){if(E=vt,(E.flags&2048)!==0)switch(E.tag){case 0:case 11:case 15:ph(9,E,E.return)}var ke=E.sibling;if(ke!==null){ke.return=E.return,vt=ke;break e}vt=E.return}}var we=a.current;for(vt=we;vt!==null;){$=vt;var Ee=$.child;if(($.subtreeFlags&2064)!==0&&Ee!==null)Ee.return=$,vt=Ee;else e:for($=we;vt!==null;){if(he=vt,(he.flags&2048)!==0)try{switch(he.tag){case 0:case 11:case 15:jf(9,he)}}catch(It){Fn(he,he.return,It)}if(he===$){vt=null;break e}var rt=he.sibling;if(rt!==null){rt.return=he.return,vt=rt;break e}vt=he.return}}if(Rr=N,I(),Vs&&typeof Vs.onPostCommitFiberRoot=="function")try{Vs.onPostCommitFiberRoot(Eo,a)}catch{}v=!0}return v}finally{Cr=f,ia.transition=l}}return!1}function Yv(a,l,f){l=Ju(f,l),l=fv(a,l,1),a=Cn(a,l,1),l=Zs(),a!==null&&(Lo(a,1,l),pi(a,l))}function Fn(a,l,f){if(a.tag===3)Yv(a,a,f);else for(;l!==null;){if(l.tag===3){Yv(l,a,f);break}else if(l.tag===1){var v=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(Wl===null||!Wl.has(v))){a=Ju(f,a),a=pv(l,a,1),l=Cn(l,a,1),a=Zs(),l!==null&&(Lo(l,1,a),pi(l,a));break}}l=l.return}}function R_(a,l,f){var v=a.pingCache;v!==null&&v.delete(l),l=Zs(),a.pingedLanes|=a.suspendedLanes&f,ms===a&&(Ns&f)===f&&(as===4||as===3&&(Ns&130023424)===Ns&&500>rn()-Zm?Vc(a,0):Qm|=f),pi(a,l)}function Jv(a,l){l===0&&((a.mode&1)===0?l=1:(l=Hs,Hs<<=1,(Hs&130023424)===0&&(Hs=4194304)));var f=Zs();a=Yr(a,l),a!==null&&(Lo(a,l,f),pi(a,f))}function O_(a){var l=a.memoizedState,f=0;l!==null&&(f=l.retryLane),Jv(a,f)}function D_(a,l){var f=0;switch(a.tag){case 13:var v=a.stateNode,N=a.memoizedState;N!==null&&(f=N.retryLane);break;case 19:v=a.stateNode;break;default:throw Error(t(314))}v!==null&&v.delete(l),Jv(a,f)}var Xv;Xv=function(a,l,f){if(a!==null)if(a.memoizedProps!==l.pendingProps||Ts.current)hi=!0;else{if((a.lanes&f)===0&&(l.flags&128)===0)return hi=!1,N_(a,l,f);hi=(a.flags&131072)!==0}else hi=!1,$e&&(l.flags&1048576)!==0&&Ne(l,J,l.index);switch(l.lanes=0,l.tag){case 2:var v=l.type;wf(a,l),a=l.pendingProps;var N=Ul(l,ss.current);yn(l,f),N=Bc(null,l,v,a,N,f);var E=sa();return l.flags|=1,typeof N=="object"&&N!==null&&typeof N.render=="function"&&N.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,Ls(v)?(E=!0,rl(l)):E=!1,l.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,is(l),N.updater=vf,l.stateNode=N,N._reactInternals=l,Mm(l,v,a,f),l=$m(null,l,v,!0,E,f)):(l.tag=0,$e&&E&&Me(l),Qs(null,l,N,f),l=l.child),l;case 16:v=l.elementType;e:{switch(wf(a,l),a=l.pendingProps,N=v._init,v=N(v._payload),l.type=v,N=l.tag=F_(v),a=Ea(v,a),N){case 0:l=Um(null,l,v,a,f);break e;case 1:l=Nv(null,l,v,a,f);break e;case 11:l=vv(null,l,v,a,f);break e;case 14:l=yv(null,l,v,Ea(v.type,a),f);break e}throw Error(t(306,v,""))}return l;case 0:return v=l.type,N=l.pendingProps,N=l.elementType===v?N:Ea(v,N),Um(a,l,v,N,f);case 1:return v=l.type,N=l.pendingProps,N=l.elementType===v?N:Ea(v,N),Nv(a,l,v,N,f);case 3:e:{if(_v(l),a===null)throw Error(t(387));v=l.pendingProps,E=l.memoizedState,N=E.element,Is(a,l),ps(l,v,null,f);var $=l.memoizedState;if(v=$.element,E.isDehydrated)if(E={element:v,isDehydrated:!1,cache:$.cache,pendingSuspenseBoundaries:$.pendingSuspenseBoundaries,transitions:$.transitions},l.updateQueue.baseState=E,l.memoizedState=E,l.flags&256){N=Ju(Error(t(423)),l),l=Sv(a,l,v,f,N);break e}else if(v!==N){N=Ju(Error(t(424)),l),l=Sv(a,l,v,f,N);break e}else for(Oe=bs(l.stateNode.containerInfo.firstChild),Ie=l,$e=!0,ze=null,f=pn(l,null,v,f),l.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling;else{if(mt(),v===N){l=sl(a,l,f);break e}Qs(a,l,v,f)}l=l.child}return l;case 5:return hf(l),a===null&&wt(l),v=l.type,N=l.pendingProps,E=a!==null?a.memoizedProps:null,$=N.children,nh(v,N)?$=null:E!==null&&nh(v,E)&&(l.flags|=32),jv(a,l),Qs(a,l,$,f),l.child;case 6:return a===null&&wt(l),null;case 13:return kv(a,l,f);case 4:return $l(l,l.stateNode.containerInfo),v=l.pendingProps,a===null?l.child=On(l,null,v,f):Qs(a,l,v,f),l.child;case 11:return v=l.type,N=l.pendingProps,N=l.elementType===v?N:Ea(v,N),vv(a,l,v,N,f);case 7:return Qs(a,l,l.pendingProps,f),l.child;case 8:return Qs(a,l,l.pendingProps.children,f),l.child;case 12:return Qs(a,l,l.pendingProps.children,f),l.child;case 10:e:{if(v=l.type._context,N=l.pendingProps,E=l.memoizedProps,$=N.value,Vr(qn,v._currentValue),v._currentValue=$,E!==null)if(gn(E.value,$)){if(E.children===N.children&&!Ts.current){l=sl(a,l,f);break e}}else for(E=l.child,E!==null&&(E.return=l);E!==null;){var he=E.dependencies;if(he!==null){$=E.child;for(var ve=he.firstContext;ve!==null;){if(ve.context===v){if(E.tag===1){ve=kn(-1,f&-f),ve.tag=2;var Pe=E.updateQueue;if(Pe!==null){Pe=Pe.shared;var Qe=Pe.pending;Qe===null?ve.next=ve:(ve.next=Qe.next,Qe.next=ve),Pe.pending=ve}}E.lanes|=f,ve=E.alternate,ve!==null&&(ve.lanes|=f),Ir(E.return,f,l),he.lanes|=f;break}ve=ve.next}}else if(E.tag===10)$=E.type===l.type?null:E.child;else if(E.tag===18){if($=E.return,$===null)throw Error(t(341));$.lanes|=f,he=$.alternate,he!==null&&(he.lanes|=f),Ir($,f,l),$=E.sibling}else $=E.child;if($!==null)$.return=E;else for($=E;$!==null;){if($===l){$=null;break}if(E=$.sibling,E!==null){E.return=$.return,$=E;break}$=$.return}E=$}Qs(a,l,N.children,f),l=l.child}return l;case 9:return N=l.type,v=l.pendingProps.children,yn(l,f),N=wn(N),v=v(N),l.flags|=1,Qs(a,l,v,f),l.child;case 14:return v=l.type,N=Ea(v,l.pendingProps),N=Ea(v.type,N),yv(a,l,v,N,f);case 15:return wv(a,l,l.type,l.pendingProps,f);case 17:return v=l.type,N=l.pendingProps,N=l.elementType===v?N:Ea(v,N),wf(a,l),l.tag=1,Ls(v)?(a=!0,rl(l)):a=!1,yn(l,f),dv(l,v,N),Mm(l,v,N,f),$m(null,l,v,!0,a,f);case 19:return Av(a,l,f);case 22:return bv(a,l,f)}throw Error(t(156,l.tag))};function Qv(a,l){return Co(a,l)}function M_(a,l,f,v){this.tag=a,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function aa(a,l,f,v){return new M_(a,l,f,v)}function og(a){return a=a.prototype,!(!a||!a.isReactComponent)}function F_(a){if(typeof a=="function")return og(a)?1:0;if(a!=null){if(a=a.$$typeof,a===z)return 11;if(a===re)return 14}return 2}function Jl(a,l){var f=a.alternate;return f===null?(f=aa(a.tag,l,a.key,a.mode),f.elementType=a.elementType,f.type=a.type,f.stateNode=a.stateNode,f.alternate=a,a.alternate=f):(f.pendingProps=l,f.type=a.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=a.flags&14680064,f.childLanes=a.childLanes,f.lanes=a.lanes,f.child=a.child,f.memoizedProps=a.memoizedProps,f.memoizedState=a.memoizedState,f.updateQueue=a.updateQueue,l=a.dependencies,f.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},f.sibling=a.sibling,f.index=a.index,f.ref=a.ref,f}function Tf(a,l,f,v,N,E){var $=2;if(v=a,typeof a=="function")og(a)&&($=1);else if(typeof a=="string")$=5;else e:switch(a){case ee:return Wc(f.children,N,E,l);case K:$=8,N|=8;break;case Y:return a=aa(12,f,l,N|2),a.elementType=Y,a.lanes=E,a;case U:return a=aa(13,f,l,N),a.elementType=U,a.lanes=E,a;case te:return a=aa(19,f,l,N),a.elementType=te,a.lanes=E,a;case fe:return Lf(f,N,E,l);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case q:$=10;break e;case L:$=9;break e;case z:$=11;break e;case re:$=14;break e;case ue:$=16,v=null;break e}throw Error(t(130,a==null?a:typeof a,""))}return l=aa($,f,l,N),l.elementType=a,l.type=v,l.lanes=E,l}function Wc(a,l,f,v){return a=aa(7,a,v,l),a.lanes=f,a}function Lf(a,l,f,v){return a=aa(22,a,v,l),a.elementType=fe,a.lanes=f,a.stateNode={isHidden:!1},a}function lg(a,l,f){return a=aa(6,a,null,l),a.lanes=f,a}function cg(a,l,f){return l=aa(4,a.children!==null?a.children:[],a.key,l),l.lanes=f,l.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},l}function B_(a,l,f,v,N){this.tag=l,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=wc(0),this.expirationTimes=wc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wc(0),this.identifierPrefix=v,this.onRecoverableError=N,this.mutableSourceEagerHydrationData=null}function ug(a,l,f,v,N,E,$,he,ve){return a=new B_(a,l,f,he,ve),l===1?(l=1,E===!0&&(l|=8)):l=0,E=aa(3,null,null,l),a.current=E,E.stateNode=a,E.memoizedState={element:v,isDehydrated:f,cache:null,transitions:null,pendingSuspenseBoundaries:null},is(E),a}function U_(a,l,f){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ne,key:v==null?null:""+v,children:a,containerInfo:l,implementation:f}}function Zv(a){if(!a)return lo;a=a._reactInternals;e:{if(ts(a)!==a||a.tag!==1)throw Error(t(170));var l=a;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(Ls(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(t(171))}if(a.tag===1){var f=a.type;if(Ls(f))return oh(a,f,l)}return l}function ey(a,l,f,v,N,E,$,he,ve){return a=ug(f,v,!0,a,N,E,$,he,ve),a.context=Zv(null),f=a.current,v=Zs(),N=Kl(f),E=kn(v,N),E.callback=l??null,Cn(f,E,N),a.current.lanes=N,Lo(a,N,v),pi(a,v),a}function If(a,l,f,v){var N=l.current,E=Zs(),$=Kl(N);return f=Zv(f),l.context===null?l.context=f:l.pendingContext=f,l=kn(E,$),l.payload={element:a},v=v===void 0?null:v,v!==null&&(l.callback=v),a=Cn(N,l,$),a!==null&&(La(a,N,$,E),fs(a,N,$)),$}function Rf(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function ty(a,l){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var f=a.retryLane;a.retryLane=f!==0&&f<l?f:l}}function dg(a,l){ty(a,l),(a=a.alternate)&&ty(a,l)}function $_(){return null}var ry=typeof reportError=="function"?reportError:function(a){console.error(a)};function hg(a){this._internalRoot=a}Of.prototype.render=hg.prototype.render=function(a){var l=this._internalRoot;if(l===null)throw Error(t(409));If(a,l,null,null)},Of.prototype.unmount=hg.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var l=a.containerInfo;qc(function(){If(null,a,null,null)}),l[ds]=null}};function Of(a){this._internalRoot=a}Of.prototype.unstable_scheduleHydration=function(a){if(a){var l=Pu();a={blockedOn:null,target:a,priority:l};for(var f=0;f<Ki.length&&l!==0&&l<Ki[f].priority;f++);Ki.splice(f,0,a),f===0&&Lu(a)}};function fg(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function Df(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function ny(){}function z_(a,l,f,v,N){if(N){if(typeof v=="function"){var E=v;v=function(){var Pe=Rf($);E.call(Pe)}}var $=ey(l,v,a,0,null,!1,!1,"",ny);return a._reactRootContainer=$,a[ds]=$.current,Xo(a.nodeType===8?a.parentNode:a),qc(),$}for(;N=a.lastChild;)a.removeChild(N);if(typeof v=="function"){var he=v;v=function(){var Pe=Rf(ve);he.call(Pe)}}var ve=ug(a,0,!1,null,null,!1,!1,"",ny);return a._reactRootContainer=ve,a[ds]=ve.current,Xo(a.nodeType===8?a.parentNode:a),qc(function(){If(l,ve,f,v)}),ve}function Mf(a,l,f,v,N){var E=f._reactRootContainer;if(E){var $=E;if(typeof N=="function"){var he=N;N=function(){var ve=Rf($);he.call(ve)}}If(l,$,a,N)}else $=z_(f,l,a,N,v);return Rf($)}Ja=function(a){switch(a.tag){case 3:var l=a.stateNode;if(l.current.memoizedState.isDehydrated){var f=Hi(l.pendingLanes);f!==0&&(bl(l,f|1),pi(l,rn()),(Rr&6)===0&&(Zu=rn()+500,I()))}break;case 13:qc(function(){var v=Yr(a,1);if(v!==null){var N=Zs();La(v,a,1,N)}}),dg(a,1)}},bc=function(a){if(a.tag===13){var l=Yr(a,134217728);if(l!==null){var f=Zs();La(l,a,134217728,f)}dg(a,134217728)}},Eu=function(a){if(a.tag===13){var l=Kl(a),f=Yr(a,l);if(f!==null){var v=Zs();La(f,a,l,v)}dg(a,l)}},Pu=function(){return Cr},jl=function(a,l){var f=Cr;try{return Cr=a,l()}finally{Cr=f}},Yt=function(a,l,f){switch(l){case"input":if(zt(a,f),l=f.name,f.type==="radio"&&l!=null){for(f=a;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<f.length;l++){var v=f[l];if(v!==a&&v.form===a.form){var N=Mc(v);if(!N)throw Error(t(90));Je(v),zt(v,N)}}}break;case"textarea":_r(a,f);break;case"select":l=f.value,l!=null&&ct(a,!!f.multiple,l,!1)}},yr=sg,on=qc;var q_={usingClientEntryPoint:!1,Events:[Bl,el,Mc,lt,Wr,sg]},vh={findFiberByHostInstance:oo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},V_={bundleType:vh.bundleType,version:vh.version,rendererPackageName:vh.rendererPackageName,rendererConfig:vh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:T.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=_i(a),a===null?null:a.stateNode},findFiberByHostInstance:vh.findFiberByHostInstance||$_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ff=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ff.isDisabled&&Ff.supportsFiber)try{Eo=Ff.inject(V_),Vs=Ff}catch{}}return mi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=q_,mi.createPortal=function(a,l){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!fg(l))throw Error(t(200));return U_(a,l,null,f)},mi.createRoot=function(a,l){if(!fg(a))throw Error(t(299));var f=!1,v="",N=ry;return l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(v=l.identifierPrefix),l.onRecoverableError!==void 0&&(N=l.onRecoverableError)),l=ug(a,1,!1,null,null,f,!1,v,N),a[ds]=l.current,Xo(a.nodeType===8?a.parentNode:a),new hg(l)},mi.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var l=a._reactInternals;if(l===void 0)throw typeof a.render=="function"?Error(t(188)):(a=Object.keys(a).join(","),Error(t(268,a)));return a=_i(l),a=a===null?null:a.stateNode,a},mi.flushSync=function(a){return qc(a)},mi.hydrate=function(a,l,f){if(!Df(l))throw Error(t(200));return Mf(null,a,l,!0,f)},mi.hydrateRoot=function(a,l,f){if(!fg(a))throw Error(t(405));var v=f!=null&&f.hydratedSources||null,N=!1,E="",$=ry;if(f!=null&&(f.unstable_strictMode===!0&&(N=!0),f.identifierPrefix!==void 0&&(E=f.identifierPrefix),f.onRecoverableError!==void 0&&($=f.onRecoverableError)),l=ey(l,null,a,1,f??null,N,!1,E,$),a[ds]=l.current,Xo(a),v)for(a=0;a<v.length;a++)f=v[a],N=f._getVersion,N=N(f._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[f,N]:l.mutableSourceEagerHydrationData.push(f,N);return new Of(l)},mi.render=function(a,l,f){if(!Df(l))throw Error(t(200));return Mf(null,a,l,!1,f)},mi.unmountComponentAtNode=function(a){if(!Df(a))throw Error(t(40));return a._reactRootContainer?(qc(function(){Mf(null,null,a,!1,function(){a._reactRootContainer=null,a[ds]=null})}),!0):!1},mi.unstable_batchedUpdates=sg,mi.unstable_renderSubtreeIntoContainer=function(a,l,f,v){if(!Df(f))throw Error(t(200));if(a==null||a._reactInternals===void 0)throw Error(t(38));return Mf(a,l,f,!1,v)},mi.version="18.3.1-next-f1338f8080-20240426",mi}var dy;function nw(){if(dy)return gg.exports;dy=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),gg.exports=Q_(),gg.exports}var hy;function Z_(){if(hy)return Bf;hy=1;var n=nw();return Bf.createRoot=n.createRoot,Bf.hydrateRoot=n.hydrateRoot,Bf}var e4=Z_(),C=Zx();const nt=Qx(C),e0=rw({__proto__:null,default:nt},[C]);function fy(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function ml(...n){return e=>{let t=!1;const s=n.map(i=>{const o=fy(i,e);return!t&&typeof o=="function"&&(t=!0),o});if(t)return()=>{for(let i=0;i<s.length;i++){const o=s[i];typeof o=="function"?o():fy(n[i],null)}}}}function Qr(...n){return C.useCallback(ml(...n),n)}var t4=Symbol.for("react.lazy"),Sp=e0[" use ".trim().toString()];function r4(n){return typeof n=="object"&&n!==null&&"then"in n}function sw(n){return n!=null&&typeof n=="object"&&"$$typeof"in n&&n.$$typeof===t4&&"_payload"in n&&r4(n._payload)}function Kp(n){const e=n4(n),t=C.forwardRef((s,i)=>{let{children:o,...c}=s;sw(o)&&typeof Sp=="function"&&(o=Sp(o._payload));const u=C.Children.toArray(o),d=u.find(i4);if(d){const h=d.props.children,p=u.map(g=>g===d?C.Children.count(h)>1?C.Children.only(null):C.isValidElement(h)?h.props.children:null:g);return r.jsx(e,{...c,ref:i,children:C.isValidElement(h)?C.cloneElement(h,void 0,p):null})}return r.jsx(e,{...c,ref:i,children:o})});return t.displayName=`${n}.Slot`,t}var Yp=Kp("Slot");function n4(n){const e=C.forwardRef((t,s)=>{let{children:i,...o}=t;if(sw(i)&&typeof Sp=="function"&&(i=Sp(i._payload)),C.isValidElement(i)){const c=o4(i),u=a4(o,i.props);return i.type!==C.Fragment&&(u.ref=s?ml(s,c):c),C.cloneElement(i,u)}return C.Children.count(i)>1?C.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var s4=Symbol("radix.slottable");function i4(n){return C.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===s4}function a4(n,e){const t={...e};for(const s in e){const i=n[s],o=e[s];/^on[A-Z]/.test(s)?i&&o?t[s]=(...u)=>{const d=o(...u);return i(...u),d}:i&&(t[s]=i):s==="style"?t[s]={...i,...o}:s==="className"&&(t[s]=[i,o].filter(Boolean).join(" "))}return{...n,...t}}function o4(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function iw(n){var e,t,s="";if(typeof n=="string"||typeof n=="number")s+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=iw(n[e]))&&(s&&(s+=" "),s+=t)}else for(t in n)n[t]&&(s&&(s+=" "),s+=t);return s}function aw(){for(var n,e,t=0,s="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=iw(n))&&(s&&(s+=" "),s+=e);return s}const py=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,my=aw,Jp=(n,e)=>t=>{var s;if(e?.variants==null)return my(n,t?.class,t?.className);const{variants:i,defaultVariants:o}=e,c=Object.keys(i).map(h=>{const p=t?.[h],g=o?.[h];if(p===null)return null;const w=py(p)||py(g);return i[h][w]}),u=t&&Object.entries(t).reduce((h,p)=>{let[g,w]=p;return w===void 0||(h[g]=w),h},{}),d=e==null||(s=e.compoundVariants)===null||s===void 0?void 0:s.reduce((h,p)=>{let{class:g,className:w,...x}=p;return Object.entries(x).every(S=>{let[_,k]=S;return Array.isArray(k)?k.includes({...o,...u}[_]):{...o,...u}[_]===k})?[...h,g,w]:h},[]);return my(n,c,d,t?.class,t?.className)},l4=(n,e)=>{const t=new Array(n.length+e.length);for(let s=0;s<n.length;s++)t[s]=n[s];for(let s=0;s<e.length;s++)t[n.length+s]=e[s];return t},c4=(n,e)=>({classGroupId:n,validator:e}),ow=(n=new Map,e=null,t)=>({nextPart:n,validators:e,classGroupId:t}),kp="-",gy=[],u4="arbitrary..",d4=n=>{const e=f4(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:s}=n;return{getClassGroupId:c=>{if(c.startsWith("[")&&c.endsWith("]"))return h4(c);const u=c.split(kp),d=u[0]===""&&u.length>1?1:0;return lw(u,d,e)},getConflictingClassGroupIds:(c,u)=>{if(u){const d=s[c],h=t[c];return d?h?l4(h,d):d:h||gy}return t[c]||gy}}},lw=(n,e,t)=>{if(n.length-e===0)return t.classGroupId;const i=n[e],o=t.nextPart.get(i);if(o){const h=lw(n,e+1,o);if(h)return h}const c=t.validators;if(c===null)return;const u=e===0?n.join(kp):n.slice(e).join(kp),d=c.length;for(let h=0;h<d;h++){const p=c[h];if(p.validator(u))return p.classGroupId}},h4=n=>n.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=n.slice(1,-1),t=e.indexOf(":"),s=e.slice(0,t);return s?u4+s:void 0})(),f4=n=>{const{theme:e,classGroups:t}=n;return p4(t,e)},p4=(n,e)=>{const t=ow();for(const s in n){const i=n[s];t0(i,t,s,e)}return t},t0=(n,e,t,s)=>{const i=n.length;for(let o=0;o<i;o++){const c=n[o];m4(c,e,t,s)}},m4=(n,e,t,s)=>{if(typeof n=="string"){g4(n,e,t);return}if(typeof n=="function"){x4(n,e,t,s);return}v4(n,e,t,s)},g4=(n,e,t)=>{const s=n===""?e:cw(e,n);s.classGroupId=t},x4=(n,e,t,s)=>{if(y4(n)){t0(n(s),e,t,s);return}e.validators===null&&(e.validators=[]),e.validators.push(c4(t,n))},v4=(n,e,t,s)=>{const i=Object.entries(n),o=i.length;for(let c=0;c<o;c++){const[u,d]=i[c];t0(d,cw(e,u),t,s)}},cw=(n,e)=>{let t=n;const s=e.split(kp),i=s.length;for(let o=0;o<i;o++){const c=s[o];let u=t.nextPart.get(c);u||(u=ow(),t.nextPart.set(c,u)),t=u}return t},y4=n=>"isThemeGetter"in n&&n.isThemeGetter===!0,w4=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=Object.create(null),s=Object.create(null);const i=(o,c)=>{t[o]=c,e++,e>n&&(e=0,s=t,t=Object.create(null))};return{get(o){let c=t[o];if(c!==void 0)return c;if((c=s[o])!==void 0)return i(o,c),c},set(o,c){o in t?t[o]=c:i(o,c)}}},ux="!",xy=":",b4=[],vy=(n,e,t,s,i)=>({modifiers:n,hasImportantModifier:e,baseClassName:t,maybePostfixModifierPosition:s,isExternal:i}),j4=n=>{const{prefix:e,experimentalParseClassName:t}=n;let s=i=>{const o=[];let c=0,u=0,d=0,h;const p=i.length;for(let _=0;_<p;_++){const k=i[_];if(c===0&&u===0){if(k===xy){o.push(i.slice(d,_)),d=_+1;continue}if(k==="/"){h=_;continue}}k==="["?c++:k==="]"?c--:k==="("?u++:k===")"&&u--}const g=o.length===0?i:i.slice(d);let w=g,x=!1;g.endsWith(ux)?(w=g.slice(0,-1),x=!0):g.startsWith(ux)&&(w=g.slice(1),x=!0);const S=h&&h>d?h-d:void 0;return vy(o,x,w,S)};if(e){const i=e+xy,o=s;s=c=>c.startsWith(i)?o(c.slice(i.length)):vy(b4,!1,c,void 0,!0)}if(t){const i=s;s=o=>t({className:o,parseClassName:i})}return s},N4=n=>{const e=new Map;return n.orderSensitiveModifiers.forEach((t,s)=>{e.set(t,1e6+s)}),t=>{const s=[];let i=[];for(let o=0;o<t.length;o++){const c=t[o],u=c[0]==="[",d=e.has(c);u||d?(i.length>0&&(i.sort(),s.push(...i),i=[]),s.push(c)):i.push(c)}return i.length>0&&(i.sort(),s.push(...i)),s}},_4=n=>({cache:w4(n.cacheSize),parseClassName:j4(n),sortModifiers:N4(n),...d4(n)}),S4=/\s+/,k4=(n,e)=>{const{parseClassName:t,getClassGroupId:s,getConflictingClassGroupIds:i,sortModifiers:o}=e,c=[],u=n.trim().split(S4);let d="";for(let h=u.length-1;h>=0;h-=1){const p=u[h],{isExternal:g,modifiers:w,hasImportantModifier:x,baseClassName:S,maybePostfixModifierPosition:_}=t(p);if(g){d=p+(d.length>0?" "+d:d);continue}let k=!!_,b=s(k?S.substring(0,_):S);if(!b){if(!k){d=p+(d.length>0?" "+d:d);continue}if(b=s(S),!b){d=p+(d.length>0?" "+d:d);continue}k=!1}const R=w.length===0?"":w.length===1?w[0]:o(w).join(":"),P=x?R+ux:R,T=P+b;if(c.indexOf(T)>-1)continue;c.push(T);const F=i(b,k);for(let ne=0;ne<F.length;++ne){const ee=F[ne];c.push(P+ee)}d=p+(d.length>0?" "+d:d)}return d},C4=(...n)=>{let e=0,t,s,i="";for(;e<n.length;)(t=n[e++])&&(s=uw(t))&&(i&&(i+=" "),i+=s);return i},uw=n=>{if(typeof n=="string")return n;let e,t="";for(let s=0;s<n.length;s++)n[s]&&(e=uw(n[s]))&&(t&&(t+=" "),t+=e);return t},A4=(n,...e)=>{let t,s,i,o;const c=d=>{const h=e.reduce((p,g)=>g(p),n());return t=_4(h),s=t.cache.get,i=t.cache.set,o=u,u(d)},u=d=>{const h=s(d);if(h)return h;const p=k4(d,t);return i(d,p),p};return o=c,(...d)=>o(C4(...d))},E4=[],os=n=>{const e=t=>t[n]||E4;return e.isThemeGetter=!0,e},dw=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,hw=/^\((?:(\w[\w-]*):)?(.+)\)$/i,P4=/^\d+\/\d+$/,T4=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,L4=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,I4=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,R4=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,O4=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,td=n=>P4.test(n),hr=n=>!!n&&!Number.isNaN(Number(n)),Ql=n=>!!n&&Number.isInteger(Number(n)),yg=n=>n.endsWith("%")&&hr(n.slice(0,-1)),al=n=>T4.test(n),D4=()=>!0,M4=n=>L4.test(n)&&!I4.test(n),fw=()=>!1,F4=n=>R4.test(n),B4=n=>O4.test(n),U4=n=>!kt(n)&&!Ct(n),$4=n=>Dd(n,gw,fw),kt=n=>dw.test(n),Gc=n=>Dd(n,xw,M4),wg=n=>Dd(n,W4,hr),yy=n=>Dd(n,pw,fw),z4=n=>Dd(n,mw,B4),Uf=n=>Dd(n,vw,F4),Ct=n=>hw.test(n),wh=n=>Md(n,xw),q4=n=>Md(n,G4),wy=n=>Md(n,pw),V4=n=>Md(n,gw),H4=n=>Md(n,mw),$f=n=>Md(n,vw,!0),Dd=(n,e,t)=>{const s=dw.exec(n);return s?s[1]?e(s[1]):t(s[2]):!1},Md=(n,e,t=!1)=>{const s=hw.exec(n);return s?s[1]?e(s[1]):t:!1},pw=n=>n==="position"||n==="percentage",mw=n=>n==="image"||n==="url",gw=n=>n==="length"||n==="size"||n==="bg-size",xw=n=>n==="length",W4=n=>n==="number",G4=n=>n==="family-name",vw=n=>n==="shadow",K4=()=>{const n=os("color"),e=os("font"),t=os("text"),s=os("font-weight"),i=os("tracking"),o=os("leading"),c=os("breakpoint"),u=os("container"),d=os("spacing"),h=os("radius"),p=os("shadow"),g=os("inset-shadow"),w=os("text-shadow"),x=os("drop-shadow"),S=os("blur"),_=os("perspective"),k=os("aspect"),b=os("ease"),R=os("animate"),P=()=>["auto","avoid","all","avoid-page","page","left","right","column"],T=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],F=()=>[...T(),Ct,kt],ne=()=>["auto","hidden","clip","visible","scroll"],ee=()=>["auto","contain","none"],K=()=>[Ct,kt,d],Y=()=>[td,"full","auto",...K()],q=()=>[Ql,"none","subgrid",Ct,kt],L=()=>["auto",{span:["full",Ql,Ct,kt]},Ql,Ct,kt],z=()=>[Ql,"auto",Ct,kt],U=()=>["auto","min","max","fr",Ct,kt],te=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],re=()=>["start","end","center","stretch","center-safe","end-safe"],ue=()=>["auto",...K()],fe=()=>[td,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...K()],B=()=>[n,Ct,kt],Z=()=>[...T(),wy,yy,{position:[Ct,kt]}],me=()=>["no-repeat",{repeat:["","x","y","space","round"]}],H=()=>["auto","cover","contain",V4,$4,{size:[Ct,kt]}],O=()=>[yg,wh,Gc],V=()=>["","none","full",h,Ct,kt],X=()=>["",hr,wh,Gc],se=()=>["solid","dashed","dotted","double"],de=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],le=()=>[hr,yg,wy,yy],ge=()=>["","none",S,Ct,kt],be=()=>["none",hr,Ct,kt],Se=()=>["none",hr,Ct,kt],De=()=>[hr,Ct,kt],Je=()=>[td,"full",...K()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[al],breakpoint:[al],color:[D4],container:[al],"drop-shadow":[al],ease:["in","out","in-out"],font:[U4],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[al],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[al],shadow:[al],spacing:["px",hr],text:[al],"text-shadow":[al],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",td,kt,Ct,k]}],container:["container"],columns:[{columns:[hr,kt,Ct,u]}],"break-after":[{"break-after":P()}],"break-before":[{"break-before":P()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:F()}],overflow:[{overflow:ne()}],"overflow-x":[{"overflow-x":ne()}],"overflow-y":[{"overflow-y":ne()}],overscroll:[{overscroll:ee()}],"overscroll-x":[{"overscroll-x":ee()}],"overscroll-y":[{"overscroll-y":ee()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:Y()}],"inset-x":[{"inset-x":Y()}],"inset-y":[{"inset-y":Y()}],start:[{start:Y()}],end:[{end:Y()}],top:[{top:Y()}],right:[{right:Y()}],bottom:[{bottom:Y()}],left:[{left:Y()}],visibility:["visible","invisible","collapse"],z:[{z:[Ql,"auto",Ct,kt]}],basis:[{basis:[td,"full","auto",u,...K()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[hr,td,"auto","initial","none",kt]}],grow:[{grow:["",hr,Ct,kt]}],shrink:[{shrink:["",hr,Ct,kt]}],order:[{order:[Ql,"first","last","none",Ct,kt]}],"grid-cols":[{"grid-cols":q()}],"col-start-end":[{col:L()}],"col-start":[{"col-start":z()}],"col-end":[{"col-end":z()}],"grid-rows":[{"grid-rows":q()}],"row-start-end":[{row:L()}],"row-start":[{"row-start":z()}],"row-end":[{"row-end":z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":U()}],"auto-rows":[{"auto-rows":U()}],gap:[{gap:K()}],"gap-x":[{"gap-x":K()}],"gap-y":[{"gap-y":K()}],"justify-content":[{justify:[...te(),"normal"]}],"justify-items":[{"justify-items":[...re(),"normal"]}],"justify-self":[{"justify-self":["auto",...re()]}],"align-content":[{content:["normal",...te()]}],"align-items":[{items:[...re(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...re(),{baseline:["","last"]}]}],"place-content":[{"place-content":te()}],"place-items":[{"place-items":[...re(),"baseline"]}],"place-self":[{"place-self":["auto",...re()]}],p:[{p:K()}],px:[{px:K()}],py:[{py:K()}],ps:[{ps:K()}],pe:[{pe:K()}],pt:[{pt:K()}],pr:[{pr:K()}],pb:[{pb:K()}],pl:[{pl:K()}],m:[{m:ue()}],mx:[{mx:ue()}],my:[{my:ue()}],ms:[{ms:ue()}],me:[{me:ue()}],mt:[{mt:ue()}],mr:[{mr:ue()}],mb:[{mb:ue()}],ml:[{ml:ue()}],"space-x":[{"space-x":K()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":K()}],"space-y-reverse":["space-y-reverse"],size:[{size:fe()}],w:[{w:[u,"screen",...fe()]}],"min-w":[{"min-w":[u,"screen","none",...fe()]}],"max-w":[{"max-w":[u,"screen","none","prose",{screen:[c]},...fe()]}],h:[{h:["screen","lh",...fe()]}],"min-h":[{"min-h":["screen","lh","none",...fe()]}],"max-h":[{"max-h":["screen","lh",...fe()]}],"font-size":[{text:["base",t,wh,Gc]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,Ct,wg]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",yg,kt]}],"font-family":[{font:[q4,kt,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,Ct,kt]}],"line-clamp":[{"line-clamp":[hr,"none",Ct,wg]}],leading:[{leading:[o,...K()]}],"list-image":[{"list-image":["none",Ct,kt]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ct,kt]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:B()}],"text-color":[{text:B()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...se(),"wavy"]}],"text-decoration-thickness":[{decoration:[hr,"from-font","auto",Ct,Gc]}],"text-decoration-color":[{decoration:B()}],"underline-offset":[{"underline-offset":[hr,"auto",Ct,kt]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:K()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ct,kt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ct,kt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Z()}],"bg-repeat":[{bg:me()}],"bg-size":[{bg:H()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Ql,Ct,kt],radial:["",Ct,kt],conic:[Ql,Ct,kt]},H4,z4]}],"bg-color":[{bg:B()}],"gradient-from-pos":[{from:O()}],"gradient-via-pos":[{via:O()}],"gradient-to-pos":[{to:O()}],"gradient-from":[{from:B()}],"gradient-via":[{via:B()}],"gradient-to":[{to:B()}],rounded:[{rounded:V()}],"rounded-s":[{"rounded-s":V()}],"rounded-e":[{"rounded-e":V()}],"rounded-t":[{"rounded-t":V()}],"rounded-r":[{"rounded-r":V()}],"rounded-b":[{"rounded-b":V()}],"rounded-l":[{"rounded-l":V()}],"rounded-ss":[{"rounded-ss":V()}],"rounded-se":[{"rounded-se":V()}],"rounded-ee":[{"rounded-ee":V()}],"rounded-es":[{"rounded-es":V()}],"rounded-tl":[{"rounded-tl":V()}],"rounded-tr":[{"rounded-tr":V()}],"rounded-br":[{"rounded-br":V()}],"rounded-bl":[{"rounded-bl":V()}],"border-w":[{border:X()}],"border-w-x":[{"border-x":X()}],"border-w-y":[{"border-y":X()}],"border-w-s":[{"border-s":X()}],"border-w-e":[{"border-e":X()}],"border-w-t":[{"border-t":X()}],"border-w-r":[{"border-r":X()}],"border-w-b":[{"border-b":X()}],"border-w-l":[{"border-l":X()}],"divide-x":[{"divide-x":X()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":X()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...se(),"hidden","none"]}],"divide-style":[{divide:[...se(),"hidden","none"]}],"border-color":[{border:B()}],"border-color-x":[{"border-x":B()}],"border-color-y":[{"border-y":B()}],"border-color-s":[{"border-s":B()}],"border-color-e":[{"border-e":B()}],"border-color-t":[{"border-t":B()}],"border-color-r":[{"border-r":B()}],"border-color-b":[{"border-b":B()}],"border-color-l":[{"border-l":B()}],"divide-color":[{divide:B()}],"outline-style":[{outline:[...se(),"none","hidden"]}],"outline-offset":[{"outline-offset":[hr,Ct,kt]}],"outline-w":[{outline:["",hr,wh,Gc]}],"outline-color":[{outline:B()}],shadow:[{shadow:["","none",p,$f,Uf]}],"shadow-color":[{shadow:B()}],"inset-shadow":[{"inset-shadow":["none",g,$f,Uf]}],"inset-shadow-color":[{"inset-shadow":B()}],"ring-w":[{ring:X()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:B()}],"ring-offset-w":[{"ring-offset":[hr,Gc]}],"ring-offset-color":[{"ring-offset":B()}],"inset-ring-w":[{"inset-ring":X()}],"inset-ring-color":[{"inset-ring":B()}],"text-shadow":[{"text-shadow":["none",w,$f,Uf]}],"text-shadow-color":[{"text-shadow":B()}],opacity:[{opacity:[hr,Ct,kt]}],"mix-blend":[{"mix-blend":[...de(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":de()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[hr]}],"mask-image-linear-from-pos":[{"mask-linear-from":le()}],"mask-image-linear-to-pos":[{"mask-linear-to":le()}],"mask-image-linear-from-color":[{"mask-linear-from":B()}],"mask-image-linear-to-color":[{"mask-linear-to":B()}],"mask-image-t-from-pos":[{"mask-t-from":le()}],"mask-image-t-to-pos":[{"mask-t-to":le()}],"mask-image-t-from-color":[{"mask-t-from":B()}],"mask-image-t-to-color":[{"mask-t-to":B()}],"mask-image-r-from-pos":[{"mask-r-from":le()}],"mask-image-r-to-pos":[{"mask-r-to":le()}],"mask-image-r-from-color":[{"mask-r-from":B()}],"mask-image-r-to-color":[{"mask-r-to":B()}],"mask-image-b-from-pos":[{"mask-b-from":le()}],"mask-image-b-to-pos":[{"mask-b-to":le()}],"mask-image-b-from-color":[{"mask-b-from":B()}],"mask-image-b-to-color":[{"mask-b-to":B()}],"mask-image-l-from-pos":[{"mask-l-from":le()}],"mask-image-l-to-pos":[{"mask-l-to":le()}],"mask-image-l-from-color":[{"mask-l-from":B()}],"mask-image-l-to-color":[{"mask-l-to":B()}],"mask-image-x-from-pos":[{"mask-x-from":le()}],"mask-image-x-to-pos":[{"mask-x-to":le()}],"mask-image-x-from-color":[{"mask-x-from":B()}],"mask-image-x-to-color":[{"mask-x-to":B()}],"mask-image-y-from-pos":[{"mask-y-from":le()}],"mask-image-y-to-pos":[{"mask-y-to":le()}],"mask-image-y-from-color":[{"mask-y-from":B()}],"mask-image-y-to-color":[{"mask-y-to":B()}],"mask-image-radial":[{"mask-radial":[Ct,kt]}],"mask-image-radial-from-pos":[{"mask-radial-from":le()}],"mask-image-radial-to-pos":[{"mask-radial-to":le()}],"mask-image-radial-from-color":[{"mask-radial-from":B()}],"mask-image-radial-to-color":[{"mask-radial-to":B()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":T()}],"mask-image-conic-pos":[{"mask-conic":[hr]}],"mask-image-conic-from-pos":[{"mask-conic-from":le()}],"mask-image-conic-to-pos":[{"mask-conic-to":le()}],"mask-image-conic-from-color":[{"mask-conic-from":B()}],"mask-image-conic-to-color":[{"mask-conic-to":B()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Z()}],"mask-repeat":[{mask:me()}],"mask-size":[{mask:H()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ct,kt]}],filter:[{filter:["","none",Ct,kt]}],blur:[{blur:ge()}],brightness:[{brightness:[hr,Ct,kt]}],contrast:[{contrast:[hr,Ct,kt]}],"drop-shadow":[{"drop-shadow":["","none",x,$f,Uf]}],"drop-shadow-color":[{"drop-shadow":B()}],grayscale:[{grayscale:["",hr,Ct,kt]}],"hue-rotate":[{"hue-rotate":[hr,Ct,kt]}],invert:[{invert:["",hr,Ct,kt]}],saturate:[{saturate:[hr,Ct,kt]}],sepia:[{sepia:["",hr,Ct,kt]}],"backdrop-filter":[{"backdrop-filter":["","none",Ct,kt]}],"backdrop-blur":[{"backdrop-blur":ge()}],"backdrop-brightness":[{"backdrop-brightness":[hr,Ct,kt]}],"backdrop-contrast":[{"backdrop-contrast":[hr,Ct,kt]}],"backdrop-grayscale":[{"backdrop-grayscale":["",hr,Ct,kt]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[hr,Ct,kt]}],"backdrop-invert":[{"backdrop-invert":["",hr,Ct,kt]}],"backdrop-opacity":[{"backdrop-opacity":[hr,Ct,kt]}],"backdrop-saturate":[{"backdrop-saturate":[hr,Ct,kt]}],"backdrop-sepia":[{"backdrop-sepia":["",hr,Ct,kt]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":K()}],"border-spacing-x":[{"border-spacing-x":K()}],"border-spacing-y":[{"border-spacing-y":K()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ct,kt]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[hr,"initial",Ct,kt]}],ease:[{ease:["linear","initial",b,Ct,kt]}],delay:[{delay:[hr,Ct,kt]}],animate:[{animate:["none",R,Ct,kt]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[_,Ct,kt]}],"perspective-origin":[{"perspective-origin":F()}],rotate:[{rotate:be()}],"rotate-x":[{"rotate-x":be()}],"rotate-y":[{"rotate-y":be()}],"rotate-z":[{"rotate-z":be()}],scale:[{scale:Se()}],"scale-x":[{"scale-x":Se()}],"scale-y":[{"scale-y":Se()}],"scale-z":[{"scale-z":Se()}],"scale-3d":["scale-3d"],skew:[{skew:De()}],"skew-x":[{"skew-x":De()}],"skew-y":[{"skew-y":De()}],transform:[{transform:[Ct,kt,"","none","gpu","cpu"]}],"transform-origin":[{origin:F()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Je()}],"translate-x":[{"translate-x":Je()}],"translate-y":[{"translate-y":Je()}],"translate-z":[{"translate-z":Je()}],"translate-none":["translate-none"],accent:[{accent:B()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:B()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ct,kt]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":K()}],"scroll-mx":[{"scroll-mx":K()}],"scroll-my":[{"scroll-my":K()}],"scroll-ms":[{"scroll-ms":K()}],"scroll-me":[{"scroll-me":K()}],"scroll-mt":[{"scroll-mt":K()}],"scroll-mr":[{"scroll-mr":K()}],"scroll-mb":[{"scroll-mb":K()}],"scroll-ml":[{"scroll-ml":K()}],"scroll-p":[{"scroll-p":K()}],"scroll-px":[{"scroll-px":K()}],"scroll-py":[{"scroll-py":K()}],"scroll-ps":[{"scroll-ps":K()}],"scroll-pe":[{"scroll-pe":K()}],"scroll-pt":[{"scroll-pt":K()}],"scroll-pr":[{"scroll-pr":K()}],"scroll-pb":[{"scroll-pb":K()}],"scroll-pl":[{"scroll-pl":K()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ct,kt]}],fill:[{fill:["none",...B()]}],"stroke-w":[{stroke:[hr,wh,Gc,wg]}],stroke:[{stroke:["none",...B()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Y4=A4(K4);function Nt(...n){return Y4(aw(n))}const J4=Jp("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}}),Ae=C.forwardRef(({className:n,variant:e,size:t,asChild:s=!1,...i},o)=>{const c=s?Yp:"button";return r.jsx(c,{"data-slot":"button",className:Nt(J4({variant:e,size:t,className:n})),ref:o,...i})});Ae.displayName="Button";function Fe({className:n,...e}){return r.jsx("div",{"data-slot":"card",className:Nt("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",n),...e})}function qe({className:n,...e}){return r.jsx("div",{"data-slot":"card-header",className:Nt("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",n),...e})}function He({className:n,...e}){return r.jsx("h4",{"data-slot":"card-title",className:Nt("leading-none",n),...e})}function ur({className:n,...e}){return r.jsx("p",{"data-slot":"card-description",className:Nt("text-muted-foreground",n),...e})}function Ue({className:n,...e}){return r.jsx("div",{"data-slot":"card-content",className:Nt("px-6 [&:last-child]:pb-6",n),...e})}function vd({className:n,...e}){return r.jsx("div",{"data-slot":"card-footer",className:Nt("flex items-center px-6 pb-6 [.border-t]:pt-6",n),...e})}const X4=Jp("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function qt({className:n,variant:e,asChild:t=!1,...s}){const i=t?Yp:"span";return r.jsx(i,{"data-slot":"badge",className:Nt(X4({variant:e}),n),...s})}/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q4=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Z4=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase()),by=n=>{const e=Z4(n);return e.charAt(0).toUpperCase()+e.slice(1)},yw=(...n)=>n.filter((e,t,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var eS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tS=C.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:s,className:i="",children:o,iconNode:c,...u},d)=>C.createElement("svg",{ref:d,...eS,width:e,height:e,stroke:n,strokeWidth:s?Number(t)*24/Number(e):t,className:yw("lucide",i),...u},[...c.map(([h,p])=>C.createElement(h,p)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const at=(n,e)=>{const t=C.forwardRef(({className:s,...i},o)=>C.createElement(tS,{ref:o,iconNode:e,className:yw(`lucide-${Q4(by(n))}`,`lucide-${n}`,s),...i}));return t.displayName=by(n),t};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rS=[["path",{d:"M17 7 7 17",key:"15tmo1"}],["path",{d:"M17 17H7V7",key:"1org7z"}]],nS=at("arrow-down-left",rS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sS=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],bg=at("arrow-right",sS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iS=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],aS=at("arrow-up-right",iS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oS=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],lS=at("bell",oS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cS=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],jy=at("bot",cS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uS=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],r0=at("building-2",uS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dS=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],ac=at("calculator",dS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hS=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Xp=at("calendar",hS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fS=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],pS=at("camera",fS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mS=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],gS=at("chart-column",mS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xS=[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]],mp=at("chart-no-axes-column-increasing",xS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vS=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],Ny=at("chart-pie",vS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yS=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Rt=at("check",yS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wS=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],ww=at("chevron-down",wS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bS=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],jS=at("chevron-right",bS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NS=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],_S=at("chevron-up",NS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],ua=at("circle-alert",SS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kS=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Ed=at("circle-check-big",kS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],AS=at("circle-check",CS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ES=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Cp=at("clock",ES);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PS=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],_y=at("credit-card",PS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TS=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Ch=at("crown",TS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LS=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],IS=at("database",LS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RS=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],da=at("dollar-sign",RS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OS=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],Un=at("download",OS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DS=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],MS=at("ellipsis-vertical",DS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FS=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Sy=at("external-link",FS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BS=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],nc=at("eye",BS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const US=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],$S=at("file-spreadsheet",US);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zS=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],vs=at("file-text",zS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qS=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],bw=at("funnel",qS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],HS=at("globe",VS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WS=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],GS=at("grid-3x3",WS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],YS=at("info",KS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JS=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],XS=at("key",JS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QS=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],ZS=at("layout-dashboard",QS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e3=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],jw=at("lightbulb",e3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t3=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],Ap=at("list",t3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r3=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],an=at("loader-circle",r3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n3=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Lh=at("lock",n3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s3=[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]],i3=at("log-in",s3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a3=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],o3=at("log-out",a3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l3=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],n0=at("mail",l3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c3=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Nw=at("map-pin",c3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u3=[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]],d3=at("maximize-2",u3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h3=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],f3=at("message-square",h3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p3=[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]],m3=at("minimize-2",p3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g3=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],x3=at("moon",g3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v3=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Fa=at("package",v3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y3=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]],w3=at("panel-left",y3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b3=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],s0=at("pen",b3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j3=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],_w=at("phone",j3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N3=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],ky=at("play",N3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _3=[["path",{d:"M12 22v-5",key:"1ega77"}],["path",{d:"M9 8V2",key:"14iosj"}],["path",{d:"M15 8V2",key:"18g5xt"}],["path",{d:"M18 8v5a4 4 0 0 1-4 4h-4a4 4 0 0 1-4-4V8Z",key:"osxo6l"}]],S3=at("plug",_3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k3=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],la=at("plus",k3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C3=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],Sw=at("printer",C3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A3=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],Pd=at("receipt",A3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E3=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Qp=at("refresh-cw",E3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P3=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],iu=at("rocket",P3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T3=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],i0=at("save",T3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L3=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]],kw=at("scan",L3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I3=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],vu=at("search",I3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R3=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],O3=at("send",R3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D3=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],M3=at("settings",D3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F3=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Ih=at("shield",F3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B3=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],dx=at("shopping-cart",B3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U3=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],Cy=at("smartphone",U3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $3=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],xi=at("sparkles",$3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z3=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],q3=at("star",z3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V3=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],H3=at("sun",V3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W3=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],G3=at("tag",W3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Y3=at("target",K3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J3=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],yu=at("trash-2",J3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X3=[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]],Cw=at("trending-down",X3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q3=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],Td=at("trending-up",Q3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z3=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Aw=at("triangle-alert",Z3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ek=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],nu=at("truck",ek);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tk=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],wd=at("upload",tk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rk=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Ew=at("user-plus",rk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nk=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Ay=at("user",nk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sk=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],vi=at("users",sk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ik=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ur=at("x",ik);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ak=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],lu=at("zap",ak);function ok({onGetStarted:n}){return r.jsxs("div",{className:"min-h-screen bg-background",children:[r.jsx("header",{className:"sticky top-0 z-50 border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:r.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"flex items-center justify-between h-16",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-0 bg-primary/20 blur-xl rounded-full"}),r.jsx("div",{className:"relative flex h-10 w-10 items-center justify-center rounded-xl bg-primary text-primary-foreground shadow-sm",children:r.jsx(ac,{className:"h-5 w-5"})})]}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-lg tracking-tight",children:"EaziBook"}),r.jsx("p",{className:"text-[10px] text-muted-foreground leading-none",children:"by LifeisEazi Group"})]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Ae,{variant:"ghost",onClick:n,className:"hidden sm:inline-flex",children:"Sign In"}),r.jsxs(Ae,{onClick:n,className:"group",children:["Get Started",r.jsx(jS,{className:"ml-1 h-4 w-4 transition-transform group-hover:translate-x-0.5"})]})]})]})})}),r.jsxs("section",{className:"relative overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 -z-10 bg-[linear-gradient(to_right,#80808012_1px,transparent_1px),linear-gradient(to_bottom,#80808012_1px,transparent_1px)] bg-[size:24px_24px]"}),r.jsx("div",{className:"absolute inset-0 -z-10 bg-gradient-to-b from-background via-background to-muted/30"}),r.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 pt-20 pb-24 md:pt-28 md:pb-32",children:[r.jsxs("div",{className:"max-w-5xl mx-auto text-center",children:[r.jsxs(qt,{variant:"secondary",className:"mb-6 px-4 py-1.5 border shadow-sm",children:[r.jsx(xi,{className:"h-3 w-3 mr-1.5 inline"}),"Powered by AI Technology"]}),r.jsxs("h1",{className:"text-5xl sm:text-6xl md:text-7xl lg:text-8xl mb-6 tracking-tight",children:[r.jsx("span",{className:"block",children:"Smart Business"}),r.jsx("span",{className:"block",children:"Management for"}),r.jsxs("span",{className:"inline-block relative",children:[r.jsx("span",{className:"relative z-10",children:"Nigerian SMEs"}),r.jsx("div",{className:"absolute -inset-2 bg-primary/5 -skew-x-12 -z-10"})]})]}),r.jsx("p",{className:"text-lg sm:text-xl text-muted-foreground mb-10 max-w-2xl mx-auto leading-relaxed",children:"Comprehensive ERP solution with AI-powered features, multi-currency support, and seamless tax compliance. Get started in 30 minutes."}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center mb-12",children:[r.jsxs(Ae,{onClick:n,size:"lg",className:"group px-8 shadow-lg",children:["Start Free Trial",r.jsx(bg,{className:"ml-2 h-4 w-4 transition-transform group-hover:translate-x-1"})]}),r.jsxs(Ae,{variant:"outline",size:"lg",className:"px-8 group border-2",children:[r.jsx(ky,{className:"mr-2 h-4 w-4"}),"Watch Demo"]})]}),r.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-x-8 gap-y-4 text-sm text-muted-foreground",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"h-5 w-5 rounded-full bg-primary/10 flex items-center justify-center",children:r.jsx(Rt,{className:"h-3 w-3"})}),r.jsx("span",{children:"Free forever plan"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"h-5 w-5 rounded-full bg-primary/10 flex items-center justify-center",children:r.jsx(Rt,{className:"h-3 w-3"})}),r.jsx("span",{children:"No credit card required"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"h-5 w-5 rounded-full bg-primary/10 flex items-center justify-center",children:r.jsx(Rt,{className:"h-3 w-3"})}),r.jsx("span",{children:"24/7 Support available"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 max-w-4xl mx-auto mt-20",children:[r.jsxs("div",{className:"bg-card border rounded-xl p-4 shadow-sm hover:shadow-md transition-shadow",children:[r.jsx("div",{className:"text-3xl mb-1",children:"500+"}),r.jsx("div",{className:"text-xs text-muted-foreground",children:"Active Users"})]}),r.jsxs("div",{className:"bg-card border rounded-xl p-4 shadow-sm hover:shadow-md transition-shadow",children:[r.jsx("div",{className:"text-3xl mb-1",children:"99.9%"}),r.jsx("div",{className:"text-xs text-muted-foreground",children:"Uptime SLA"})]}),r.jsxs("div",{className:"bg-card border rounded-xl p-4 shadow-sm hover:shadow-md transition-shadow",children:[r.jsx("div",{className:"text-3xl mb-1",children:"50K+"}),r.jsx("div",{className:"text-xs text-muted-foreground",children:"Invoices Generated"})]}),r.jsxs("div",{className:"bg-card border rounded-xl p-4 shadow-sm hover:shadow-md transition-shadow",children:[r.jsx("div",{className:"text-3xl mb-1",children:"4.9/5"}),r.jsx("div",{className:"text-xs text-muted-foreground",children:"User Rating"})]})]})]})]}),r.jsx("section",{className:"py-20 md:py-28 bg-muted/30",children:r.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"text-center mb-16 max-w-3xl mx-auto",children:[r.jsx(qt,{variant:"outline",className:"mb-4",children:"Features"}),r.jsxs("h2",{className:"text-4xl sm:text-5xl md:text-6xl mb-6 tracking-tight",children:["Everything You Need,",r.jsx("br",{}),"Nothing You Don't"]}),r.jsx("p",{className:"text-lg text-muted-foreground",children:"Built specifically for Nigerian businesses with features that actually matter for your growth."})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 max-w-7xl mx-auto",children:[{icon:Pd,title:"Smart Invoicing",description:"Create professional invoices instantly with automated calculations, multi-currency support, and custom branding.",highlight:!1},{icon:xi,title:"AI-Powered Insights",description:"Get intelligent business recommendations and financial insights from our AI consultant chatbot.",highlight:!0},{icon:gS,title:"Real-Time Analytics",description:"Track your business performance with comprehensive dashboards and customizable reports.",highlight:!1},{icon:Fa,title:"Inventory Control",description:"Manage stock levels, track orders, and optimize your inventory across multiple warehouses.",highlight:!1},{icon:vs,title:"Tax Compliance",description:"Stay compliant with automated VAT and GST calculations designed for Nigerian regulations.",highlight:!1},{icon:Ih,title:"OCR Scanner",description:"Scan invoices and receipts with AI-powered OCR for automatic data extraction and categorization.",highlight:!0}].map((e,t)=>r.jsx(Fe,{className:`group hover:shadow-xl transition-all duration-300 border-2 ${e.highlight?"border-primary/20 bg-primary/5":"hover:border-border"}`,children:r.jsxs(qe,{className:"space-y-4",children:[r.jsx("div",{className:`w-14 h-14 rounded-xl flex items-center justify-center transition-colors ${e.highlight?"bg-primary text-primary-foreground":"bg-muted group-hover:bg-primary group-hover:text-primary-foreground"}`,children:r.jsx(e.icon,{className:"h-7 w-7"})}),r.jsxs("div",{children:[r.jsxs(He,{className:"text-xl mb-3 flex items-center gap-2",children:[e.title,e.highlight&&r.jsx(qt,{variant:"secondary",className:"text-[10px] px-2 py-0",children:"AI"})]}),r.jsx("p",{className:"text-muted-foreground text-sm leading-relaxed",children:e.description})]})]})},t))})]})}),r.jsx("section",{className:"py-20 md:py-28 bg-background",children:r.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"text-center mb-16 max-w-3xl mx-auto",children:[r.jsx(qt,{variant:"outline",className:"mb-4",children:"Process"}),r.jsx("h2",{className:"text-4xl sm:text-5xl md:text-6xl mb-6 tracking-tight",children:"Get Started in Minutes"}),r.jsx("p",{className:"text-lg text-muted-foreground",children:"Three simple steps to transform your business operations"})]}),r.jsx("div",{className:"max-w-5xl mx-auto",children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[{number:"01",title:"Create Account",description:"Sign up in under 2 minutes. No credit card needed to get started with our free plan.",icon:vi},{number:"02",title:"Set Up Profile",description:"Add your company details and customize your branding. Our setup wizard makes it effortless.",icon:r0},{number:"03",title:"Start Managing",description:"Begin creating invoices, tracking inventory, and growing your business with AI insights.",icon:iu}].map((e,t)=>r.jsxs("div",{className:"relative",children:[t<2&&r.jsx("div",{className:"hidden md:block absolute top-16 left-1/2 w-full h-0.5 bg-border"}),r.jsxs("div",{className:"relative bg-card border-2 rounded-2xl p-8 hover:shadow-lg transition-all hover:-translate-y-1",children:[r.jsxs("div",{className:"relative mb-6",children:[r.jsx("div",{className:"w-16 h-16 rounded-2xl bg-primary text-primary-foreground flex items-center justify-center mx-auto shadow-lg",children:r.jsx(e.icon,{className:"h-8 w-8"})}),r.jsx("div",{className:"absolute -top-3 -right-3 w-12 h-12 rounded-full bg-muted border-4 border-background flex items-center justify-center",children:r.jsx("span",{className:"text-sm",children:e.number})})]}),r.jsx("h3",{className:"text-2xl mb-3 text-center",children:e.title}),r.jsx("p",{className:"text-muted-foreground text-center text-sm leading-relaxed",children:e.description})]})]},t))})}),r.jsx("div",{className:"text-center mt-12",children:r.jsxs(Ae,{onClick:n,size:"lg",className:"group px-8",children:["Start Your Free Trial",r.jsx(bg,{className:"ml-2 h-4 w-4 transition-transform group-hover:translate-x-1"})]})})]})}),r.jsx("section",{className:"py-20 md:py-28 bg-muted/30",children:r.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"text-center mb-16 max-w-3xl mx-auto",children:[r.jsx(qt,{variant:"outline",className:"mb-4",children:"Why EaziBook"}),r.jsxs("h2",{className:"text-4xl sm:text-5xl md:text-6xl mb-6 tracking-tight",children:["Built for Nigerian",r.jsx("br",{}),"Business Reality"]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 max-w-5xl mx-auto",children:[{icon:HS,title:"Multi-Currency Support",description:"Handle transactions in Naira, Dollar, Rand, and Cedi with automatic exchange rate updates."},{icon:Ih,title:"Tax Compliance Ready",description:"Built-in VAT and GST calculations that comply with Nigerian tax regulations."},{icon:Lh,title:"Bank-Level Security",description:"Your data is encrypted and protected with enterprise-grade security measures."},{icon:jw,title:"AI-Powered Automation",description:"Save hours with automated invoice processing, smart categorization, and insights."},{icon:Cp,title:"24/7 Support",description:"Get help whenever you need it with our dedicated customer support team."},{icon:Y3,title:"Nigerian-First Design",description:"Built specifically for the unique needs of Nigerian SMEs and business culture."}].map((e,t)=>r.jsxs("div",{className:"flex gap-4 p-6 rounded-xl bg-card border hover:shadow-lg transition-all",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("div",{className:"w-12 h-12 rounded-lg bg-primary/10 flex items-center justify-center",children:r.jsx(e.icon,{className:"h-6 w-6"})})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg mb-2",children:e.title}),r.jsx("p",{className:"text-muted-foreground text-sm leading-relaxed",children:e.description})]})]},t))})]})}),r.jsx("section",{className:"py-20 md:py-28 bg-background",children:r.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"text-center mb-16 max-w-3xl mx-auto",children:[r.jsx(qt,{variant:"outline",className:"mb-4",children:"Pricing"}),r.jsxs("h2",{className:"text-4xl sm:text-5xl md:text-6xl mb-6 tracking-tight",children:["Plans That Scale",r.jsx("br",{}),"With Your Growth"]}),r.jsx("p",{className:"text-lg text-muted-foreground",children:"Start free, upgrade when you're ready. All plans include core features."})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 max-w-7xl mx-auto",children:[r.jsxs(Fe,{className:"border-2 hover:shadow-xl transition-all duration-300 relative overflow-hidden",children:[r.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-muted to-muted"}),r.jsxs(qe,{className:"text-center pb-6 pt-8",children:[r.jsx("div",{className:"w-12 h-12 rounded-xl bg-muted flex items-center justify-center mx-auto mb-4",children:r.jsx(lu,{className:"h-6 w-6"})}),r.jsx(He,{className:"text-2xl mb-2",children:"Free"}),r.jsx("div",{className:"mb-2",children:r.jsx("span",{className:"text-5xl",children:"0"})}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Perfect for trying out"})]}),r.jsxs(Ue,{children:[r.jsxs("ul",{className:"space-y-3 mb-8",children:[r.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[r.jsx(Rt,{className:"h-5 w-5 flex-shrink-0 mt-0.5 text-primary"}),r.jsx("span",{children:"5 invoices/month"})]}),r.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[r.jsx(Rt,{className:"h-5 w-5 flex-shrink-0 mt-0.5 text-primary"}),r.jsx("span",{children:"5 bills/month"})]}),r.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[r.jsx(Rt,{className:"h-5 w-5 flex-shrink-0 mt-0.5 text-primary"}),r.jsx("span",{children:"Basic templates"})]}),r.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[r.jsx(Rt,{className:"h-5 w-5 flex-shrink-0 mt-0.5 text-primary"}),r.jsx("span",{children:"Multi-currency"})]}),r.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[r.jsx(Ur,{className:"h-5 w-5 text-muted-foreground flex-shrink-0 mt-0.5"}),r.jsx("span",{className:"text-muted-foreground",children:"Company branding"})]}),r.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[r.jsx(Ur,{className:"h-5 w-5 text-muted-foreground flex-shrink-0 mt-0.5"}),r.jsx("span",{className:"text-muted-foreground",children:"AI features"})]})]}),r.jsx(Ae,{onClick:n,variant:"outline",className:"w-full",children:"Start Free"})]})]}),r.jsxs(Fe,{className:"border-2 hover:shadow-xl transition-all duration-300 relative overflow-hidden",children:[r.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-primary/50 to-primary/50"}),r.jsxs(qe,{className:"text-center pb-6 pt-8",children:[r.jsx("div",{className:"w-12 h-12 rounded-xl bg-primary/10 flex items-center justify-center mx-auto mb-4",children:r.jsx(iu,{className:"h-6 w-6"})}),r.jsx(He,{className:"text-2xl mb-2",children:"Starter"}),r.jsx("div",{className:"mb-2",children:r.jsx("span",{className:"text-5xl",children:"5K"})}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"For small businesses"})]}),r.jsxs(Ue,{children:[r.jsxs("ul",{className:"space-y-3 mb-8",children:[r.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[r.jsx(Rt,{className:"h-5 w-5 flex-shrink-0 mt-0.5 text-primary"}),r.jsx("span",{children:"50 invoices/month"})]}),r.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[r.jsx(Rt,{className:"h-5 w-5 flex-shrink-0 mt-0.5 text-primary"}),r.jsx("span",{children:"50 bills/month"})]}),r.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[r.jsx(Rt,{className:"h-5 w-5 flex-shrink-0 mt-0.5 text-primary"}),r.jsx("span",{children:"Company branding"})]}),r.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[r.jsx(Rt,{className:"h-5 w-5 flex-shrink-0 mt-0.5 text-primary"}),r.jsx("span",{children:"Basic accounting"})]}),r.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[r.jsx(Rt,{className:"h-5 w-5 flex-shrink-0 mt-0.5 text-primary"}),r.jsx("span",{children:"Basic reports"})]}),r.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[r.jsx(Ur,{className:"h-5 w-5 text-muted-foreground flex-shrink-0 mt-0.5"}),r.jsx("span",{className:"text-muted-foreground",children:"AI features"})]})]}),r.jsx(Ae,{onClick:n,className:"w-full",children:"Choose Starter"})]})]}),r.jsxs(Fe,{className:"border-2 border-primary hover:shadow-2xl transition-all duration-300 relative overflow-hidden scale-105",children:[r.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-primary to-primary"}),r.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2 px-4 py-1.5 bg-primary text-primary-foreground text-xs rounded-full shadow-lg",children:"MOST POPULAR"}),r.jsxs(qe,{className:"text-center pb-6 pt-8",children:[r.jsx("div",{className:"w-12 h-12 rounded-xl bg-primary text-primary-foreground flex items-center justify-center mx-auto mb-4",children:r.jsx(Ch,{className:"h-6 w-6"})}),r.jsx(He,{className:"text-2xl mb-2",children:"Professional"}),r.jsx("div",{className:"mb-2",children:r.jsx("span",{className:"text-5xl",children:"10K"})}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"For growing businesses"})]}),r.jsxs(Ue,{children:[r.jsxs("ul",{className:"space-y-3 mb-8",children:[r.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[r.jsx(Rt,{className:"h-5 w-5 flex-shrink-0 mt-0.5 text-primary"}),r.jsx("span",{children:"Unlimited invoices"})]}),r.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[r.jsx(Rt,{className:"h-5 w-5 flex-shrink-0 mt-0.5 text-primary"}),r.jsx("span",{children:"Full accounting suite"})]}),r.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[r.jsx(Rt,{className:"h-5 w-5 flex-shrink-0 mt-0.5 text-primary"}),r.jsx("span",{children:"Inventory management"})]}),r.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[r.jsx(Rt,{className:"h-5 w-5 flex-shrink-0 mt-0.5 text-primary"}),r.jsx("span",{children:"Tax compliance tools"})]}),r.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[r.jsx(Rt,{className:"h-5 w-5 flex-shrink-0 mt-0.5 text-primary"}),r.jsx("span",{children:"Advanced reports"})]}),r.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[r.jsx(Ur,{className:"h-5 w-5 text-muted-foreground flex-shrink-0 mt-0.5"}),r.jsx("span",{className:"text-muted-foreground",children:"AI features"})]})]}),r.jsx(Ae,{onClick:n,className:"w-full",children:"Choose Professional"})]})]}),r.jsxs(Fe,{className:"border-2 hover:shadow-xl transition-all duration-300 relative overflow-hidden",children:[r.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-primary via-primary to-primary"}),r.jsxs(qe,{className:"text-center pb-6 pt-8",children:[r.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-primary to-primary/80 text-primary-foreground flex items-center justify-center mx-auto mb-4",children:r.jsx(xi,{className:"h-6 w-6"})}),r.jsx(He,{className:"text-2xl mb-2",children:"Premium"}),r.jsx("div",{className:"mb-2",children:r.jsx("span",{className:"text-5xl",children:"15K"})}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"All features + AI"})]}),r.jsxs(Ue,{children:[r.jsxs("ul",{className:"space-y-3 mb-8",children:[r.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[r.jsx(Rt,{className:"h-5 w-5 flex-shrink-0 mt-0.5 text-primary"}),r.jsx("span",{children:"Everything in Pro"})]}),r.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[r.jsx(xi,{className:"h-5 w-5 flex-shrink-0 mt-0.5 text-primary"}),r.jsx("span",{className:"font-medium",children:"AI OCR Scanner"})]}),r.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[r.jsx(xi,{className:"h-5 w-5 flex-shrink-0 mt-0.5 text-primary"}),r.jsx("span",{className:"font-medium",children:"AI Consultant Bot"})]}),r.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[r.jsx(Rt,{className:"h-5 w-5 flex-shrink-0 mt-0.5 text-primary"}),r.jsx("span",{children:"Payroll processing"})]}),r.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[r.jsx(Rt,{className:"h-5 w-5 flex-shrink-0 mt-0.5 text-primary"}),r.jsx("span",{children:"Priority support"})]}),r.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[r.jsx(Rt,{className:"h-5 w-5 flex-shrink-0 mt-0.5 text-primary"}),r.jsx("span",{children:"API access"})]})]}),r.jsx(Ae,{onClick:n,className:"w-full",children:"Choose Premium"})]})]})]}),r.jsx("div",{className:"text-center mt-12",children:r.jsx("p",{className:"text-muted-foreground text-sm",children:"All plans include multi-currency support, secure cloud storage, and data encryption"})})]})}),r.jsx("section",{className:"py-20 md:py-28 bg-muted/30",children:r.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"text-center mb-16 max-w-3xl mx-auto",children:[r.jsx(qt,{variant:"outline",className:"mb-4",children:"Testimonials"}),r.jsxs("h2",{className:"text-4xl sm:text-5xl md:text-6xl mb-6 tracking-tight",children:["Trusted by Nigerian",r.jsx("br",{}),"Entrepreneurs"]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 max-w-6xl mx-auto",children:[{quote:"EaziBook transformed how we handle invoicing. The AI features save us hours every week.",author:"Chidi Okafor",role:"CEO, Lagos Trading Co",rating:5},{quote:"Finally, accounting software that understands Nigerian business needs. The tax compliance is perfect.",author:"Amina Hassan",role:"Owner, Kano Textiles",rating:5},{quote:"Best investment for our business. The multi-currency support and reporting are game changers.",author:"Tunde Williams",role:"MD, Abuja Ventures",rating:5}].map((e,t)=>r.jsx(Fe,{className:"border-2 hover:shadow-lg transition-all",children:r.jsxs(Ue,{className:"pt-6",children:[r.jsx("div",{className:"flex gap-1 mb-4",children:[...Array(e.rating)].map((s,i)=>r.jsx(q3,{className:"h-4 w-4 fill-primary text-primary"},i))}),r.jsxs("p",{className:"text-sm mb-6 leading-relaxed",children:['"',e.quote,'"']}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-full bg-muted flex items-center justify-center",children:r.jsx(vi,{className:"h-5 w-5"})}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm",children:e.author}),r.jsx("div",{className:"text-xs text-muted-foreground",children:e.role})]})]})]})},t))})]})}),r.jsxs("section",{className:"py-20 md:py-28 bg-primary text-primary-foreground relative overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 opacity-10 bg-[linear-gradient(to_right,#ffffff12_1px,transparent_1px),linear-gradient(to_bottom,#ffffff12_1px,transparent_1px)] bg-[size:24px_24px]"}),r.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 relative",children:r.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[r.jsxs(qt,{variant:"secondary",className:"mb-6 bg-primary-foreground/20 text-primary-foreground border-0",children:[r.jsx(iu,{className:"h-3 w-3 mr-1.5 inline"}),"Ready to get started?"]}),r.jsxs("h2",{className:"text-4xl sm:text-5xl md:text-6xl mb-6 tracking-tight",children:["Transform Your Business",r.jsx("br",{}),"Operations Today"]}),r.jsx("p",{className:"text-xl text-primary-foreground/90 mb-10 max-w-2xl mx-auto leading-relaxed",children:"Join hundreds of Nigerian SMEs using EaziBook to streamline their operations. Start your free trial today - no credit card required."}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center mb-12",children:[r.jsxs(Ae,{onClick:n,size:"lg",variant:"secondary",className:"px-10 group shadow-xl",children:["Get Started Free",r.jsx(bg,{className:"ml-2 h-4 w-4 transition-transform group-hover:translate-x-1"})]}),r.jsxs(Ae,{variant:"outline",size:"lg",className:"border-2 border-primary-foreground bg-transparent text-primary-foreground hover:bg-primary-foreground/10 px-10",children:[r.jsx(ky,{className:"mr-2 h-4 w-4"}),"Watch Demo"]})]}),r.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-x-8 gap-y-4 text-sm text-primary-foreground/80",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Rt,{className:"h-5 w-5"}),r.jsx("span",{children:"Free forever plan available"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Rt,{className:"h-5 w-5"}),r.jsx("span",{children:"No credit card needed"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Rt,{className:"h-5 w-5"}),r.jsx("span",{children:"Start in under 5 minutes"})]})]})]})})]}),r.jsx("footer",{className:"bg-primary text-primary-foreground border-t border-primary-foreground/10",children:r.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-16",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-12 mb-12",children:[r.jsxs("div",{className:"lg:col-span-2",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-primary-foreground/20 text-primary-foreground",children:r.jsx(ac,{className:"h-5 w-5"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg",children:"EaziBook"}),r.jsx("p",{className:"text-xs text-primary-foreground/60",children:"by LifeisEazi Group"})]})]}),r.jsx("p",{className:"text-primary-foreground/70 text-sm mb-6 max-w-sm leading-relaxed",children:"Smart accounting and business management solution designed specifically for Nigerian SMEs."}),r.jsx("div",{className:"flex gap-3",children:["fb","tw","in","ig"].map(e=>r.jsx("a",{href:"#",className:"w-9 h-9 rounded-lg bg-primary-foreground/10 hover:bg-primary-foreground/20 flex items-center justify-center transition-colors",children:r.jsx("span",{className:"text-xs uppercase",children:e})},e))})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"mb-4 text-sm",children:"Product"}),r.jsxs("ul",{className:"space-y-3 text-sm text-primary-foreground/70",children:[r.jsx("li",{children:r.jsx("a",{href:"#",className:"hover:text-primary-foreground transition-colors",children:"Features"})}),r.jsx("li",{children:r.jsx("a",{href:"#",className:"hover:text-primary-foreground transition-colors",children:"Pricing"})}),r.jsx("li",{children:r.jsx("a",{href:"#",className:"hover:text-primary-foreground transition-colors",children:"Security"})}),r.jsx("li",{children:r.jsx("a",{href:"#",className:"hover:text-primary-foreground transition-colors",children:"Roadmap"})}),r.jsx("li",{children:r.jsx("a",{href:"#",className:"hover:text-primary-foreground transition-colors",children:"Enterprise"})})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"mb-4 text-sm",children:"Company"}),r.jsxs("ul",{className:"space-y-3 text-sm text-primary-foreground/70",children:[r.jsx("li",{children:r.jsx("a",{href:"#",className:"hover:text-primary-foreground transition-colors",children:"About Us"})}),r.jsx("li",{children:r.jsx("a",{href:"#",className:"hover:text-primary-foreground transition-colors",children:"Blog"})}),r.jsx("li",{children:r.jsx("a",{href:"#",className:"hover:text-primary-foreground transition-colors",children:"Careers"})}),r.jsx("li",{children:r.jsx("a",{href:"#",className:"hover:text-primary-foreground transition-colors",children:"Press Kit"})}),r.jsx("li",{children:r.jsx("a",{href:"#",className:"hover:text-primary-foreground transition-colors",children:"Partners"})})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"mb-4 text-sm",children:"Resources"}),r.jsxs("ul",{className:"space-y-3 text-sm text-primary-foreground/70",children:[r.jsx("li",{children:r.jsx("a",{href:"#",className:"hover:text-primary-foreground transition-colors",children:"Help Center"})}),r.jsx("li",{children:r.jsx("a",{href:"#",className:"hover:text-primary-foreground transition-colors",children:"Contact"})}),r.jsx("li",{children:r.jsx("a",{href:"#",className:"hover:text-primary-foreground transition-colors",children:"Documentation"})}),r.jsx("li",{children:r.jsx("a",{href:"#",className:"hover:text-primary-foreground transition-colors",children:"Privacy Policy"})}),r.jsx("li",{children:r.jsx("a",{href:"#",className:"hover:text-primary-foreground transition-colors",children:"Terms of Service"})})]})]})]}),r.jsx("div",{className:"pt-8 border-t border-primary-foreground/10",children:r.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[r.jsx("p",{className:"text-sm text-primary-foreground/60",children:" 2025 LifeisEazi Group Enterprises. All rights reserved."}),r.jsxs("div",{className:"flex gap-6 text-sm text-primary-foreground/60",children:[r.jsx("a",{href:"#",className:"hover:text-primary-foreground transition-colors",children:"Privacy"}),r.jsx("a",{href:"#",className:"hover:text-primary-foreground transition-colors",children:"Terms"}),r.jsx("a",{href:"#",className:"hover:text-primary-foreground transition-colors",children:"Cookies"})]})]})})]})})]})}function Ve({className:n,type:e,...t}){return r.jsx("input",{type:e,"data-slot":"input",className:Nt("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",n),...t})}var Wh=nw();const Pw=Qx(Wh);var lk=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ck=lk.reduce((n,e)=>{const t=Kp(`Primitive.${e}`),s=C.forwardRef((i,o)=>{const{asChild:c,...u}=i,d=c?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(d,{...u,ref:o})});return s.displayName=`Primitive.${e}`,{...n,[e]:s}},{}),uk="Label",Tw=C.forwardRef((n,e)=>r.jsx(ck.label,{...n,ref:e,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(n.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));Tw.displayName=uk;var dk=Tw;function Re({className:n,...e}){return r.jsx(dk,{"data-slot":"label",className:Nt("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",n),...e})}const hk=Jp("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function oc({className:n,variant:e,...t}){return r.jsx("div",{"data-slot":"alert",role:"alert",className:Nt(hk({variant:e}),n),...t})}function fk({className:n,...e}){return r.jsx("div",{"data-slot":"alert-title",className:Nt("col-start-2 line-clamp-1 min-h-4 font-medium tracking-tight",n),...e})}function lc({className:n,...e}){return r.jsx("div",{"data-slot":"alert-description",className:Nt("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",n),...e})}var hx=function(n,e){return hx=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,s){t.__proto__=s}||function(t,s){for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(t[i]=s[i])},hx(n,e)};function Lw(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");hx(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var oa=function(){return oa=Object.assign||function(e){for(var t,s=1,i=arguments.length;s<i;s++){t=arguments[s];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},oa.apply(this,arguments)};function hc(n,e){var t={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&e.indexOf(s)<0&&(t[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(n);i<s.length;i++)e.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(n,s[i])&&(t[s[i]]=n[s[i]]);return t}function Iw(n,e,t,s){var i=arguments.length,o=i<3?e:s===null?s=Object.getOwnPropertyDescriptor(e,t):s,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,s);else for(var u=n.length-1;u>=0;u--)(c=n[u])&&(o=(i<3?c(o):i>3?c(e,t,o):c(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o}function Rw(n,e){return function(t,s){e(t,s,n)}}function Ow(n,e,t,s,i,o){function c(b){if(b!==void 0&&typeof b!="function")throw new TypeError("Function expected");return b}for(var u=s.kind,d=u==="getter"?"get":u==="setter"?"set":"value",h=!e&&n?s.static?n:n.prototype:null,p=e||(h?Object.getOwnPropertyDescriptor(h,s.name):{}),g,w=!1,x=t.length-1;x>=0;x--){var S={};for(var _ in s)S[_]=_==="access"?{}:s[_];for(var _ in s.access)S.access[_]=s.access[_];S.addInitializer=function(b){if(w)throw new TypeError("Cannot add initializers after decoration has completed");o.push(c(b||null))};var k=(0,t[x])(u==="accessor"?{get:p.get,set:p.set}:p[d],S);if(u==="accessor"){if(k===void 0)continue;if(k===null||typeof k!="object")throw new TypeError("Object expected");(g=c(k.get))&&(p.get=g),(g=c(k.set))&&(p.set=g),(g=c(k.init))&&i.unshift(g)}else(g=c(k))&&(u==="field"?i.unshift(g):p[d]=g)}h&&Object.defineProperty(h,s.name,p),w=!0}function Dw(n,e,t){for(var s=arguments.length>2,i=0;i<e.length;i++)t=s?e[i].call(n,t):e[i].call(n);return s?t:void 0}function Mw(n){return typeof n=="symbol"?n:"".concat(n)}function Fw(n,e,t){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(n,"name",{configurable:!0,value:t?"".concat(t," ",e):e})}function Bw(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)}function bt(n,e,t,s){function i(o){return o instanceof t?o:new t(function(c){c(o)})}return new(t||(t=Promise))(function(o,c){function u(p){try{h(s.next(p))}catch(g){c(g)}}function d(p){try{h(s.throw(p))}catch(g){c(g)}}function h(p){p.done?o(p.value):i(p.value).then(u,d)}h((s=s.apply(n,e||[])).next())})}function Uw(n,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},s,i,o,c=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return c.next=u(0),c.throw=u(1),c.return=u(2),typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function u(h){return function(p){return d([h,p])}}function d(h){if(s)throw new TypeError("Generator is already executing.");for(;c&&(c=0,h[0]&&(t=0)),t;)try{if(s=1,i&&(o=h[0]&2?i.return:h[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,h[1])).done)return o;switch(i=0,o&&(h=[h[0]&2,o.value]),h[0]){case 0:case 1:o=h;break;case 4:return t.label++,{value:h[1],done:!1};case 5:t.label++,i=h[1],h=[0];continue;case 7:h=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(h[0]===6||h[0]===2)){t=0;continue}if(h[0]===3&&(!o||h[1]>o[0]&&h[1]<o[3])){t.label=h[1];break}if(h[0]===6&&t.label<o[1]){t.label=o[1],o=h;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(h);break}o[2]&&t.ops.pop(),t.trys.pop();continue}h=e.call(n,t)}catch(p){h=[6,p],i=0}finally{s=o=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}var Zp=Object.create?(function(n,e,t,s){s===void 0&&(s=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,s,i)}):(function(n,e,t,s){s===void 0&&(s=t),n[s]=e[t]});function $w(n,e){for(var t in n)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Zp(e,n,t)}function Ep(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],s=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&s>=n.length&&(n=void 0),{value:n&&n[s++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function a0(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var s=t.call(n),i,o=[],c;try{for(;(e===void 0||e-- >0)&&!(i=s.next()).done;)o.push(i.value)}catch(u){c={error:u}}finally{try{i&&!i.done&&(t=s.return)&&t.call(s)}finally{if(c)throw c.error}}return o}function zw(){for(var n=[],e=0;e<arguments.length;e++)n=n.concat(a0(arguments[e]));return n}function qw(){for(var n=0,e=0,t=arguments.length;e<t;e++)n+=arguments[e].length;for(var s=Array(n),i=0,e=0;e<t;e++)for(var o=arguments[e],c=0,u=o.length;c<u;c++,i++)s[i]=o[c];return s}function o0(n,e,t){if(t||arguments.length===2)for(var s=0,i=e.length,o;s<i;s++)(o||!(s in e))&&(o||(o=Array.prototype.slice.call(e,0,s)),o[s]=e[s]);return n.concat(o||Array.prototype.slice.call(e))}function Ld(n){return this instanceof Ld?(this.v=n,this):new Ld(n)}function Vw(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",c),i[Symbol.asyncIterator]=function(){return this},i;function c(x){return function(S){return Promise.resolve(S).then(x,g)}}function u(x,S){s[x]&&(i[x]=function(_){return new Promise(function(k,b){o.push([x,_,k,b])>1||d(x,_)})},S&&(i[x]=S(i[x])))}function d(x,S){try{h(s[x](S))}catch(_){w(o[0][3],_)}}function h(x){x.value instanceof Ld?Promise.resolve(x.value.v).then(p,g):w(o[0][2],x)}function p(x){d("next",x)}function g(x){d("throw",x)}function w(x,S){x(S),o.shift(),o.length&&d(o[0][0],o[0][1])}}function Hw(n){var e,t;return e={},s("next"),s("throw",function(i){throw i}),s("return"),e[Symbol.iterator]=function(){return this},e;function s(i,o){e[i]=n[i]?function(c){return(t=!t)?{value:Ld(n[i](c)),done:!1}:o?o(c):c}:o}}function Ww(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof Ep=="function"?Ep(n):n[Symbol.iterator](),t={},s("next"),s("throw"),s("return"),t[Symbol.asyncIterator]=function(){return this},t);function s(o){t[o]=n[o]&&function(c){return new Promise(function(u,d){c=n[o](c),i(u,d,c.done,c.value)})}}function i(o,c,u,d){Promise.resolve(d).then(function(h){o({value:h,done:u})},c)}}function Gw(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n}var pk=Object.create?(function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}):function(n,e){n.default=e},fx=function(n){return fx=Object.getOwnPropertyNames||function(e){var t=[];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[t.length]=s);return t},fx(n)};function Kw(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t=fx(n),s=0;s<t.length;s++)t[s]!=="default"&&Zp(e,n,t[s]);return pk(e,n),e}function Yw(n){return n&&n.__esModule?n:{default:n}}function Jw(n,e,t,s){if(t==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!s:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?s:t==="a"?s.call(n):s?s.value:e.get(n)}function Xw(n,e,t,s,i){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?n!==e||!i:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?i.call(n,t):i?i.value=t:e.set(n,t),t}function Qw(n,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof n=="function"?e===n:n.has(e)}function Zw(n,e,t){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var s,i;if(t){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");s=e[Symbol.asyncDispose]}if(s===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");s=e[Symbol.dispose],t&&(i=s)}if(typeof s!="function")throw new TypeError("Object not disposable.");i&&(s=function(){try{i.call(this)}catch(o){return Promise.reject(o)}}),n.stack.push({value:e,dispose:s,async:t})}else t&&n.stack.push({async:!0});return e}var mk=typeof SuppressedError=="function"?SuppressedError:function(n,e,t){var s=new Error(t);return s.name="SuppressedError",s.error=n,s.suppressed=e,s};function eb(n){function e(o){n.error=n.hasError?new mk(o,n.error,"An error was suppressed during disposal."):o,n.hasError=!0}var t,s=0;function i(){for(;t=n.stack.pop();)try{if(!t.async&&s===1)return s=0,n.stack.push(t),Promise.resolve().then(i);if(t.dispose){var o=t.dispose.call(t.value);if(t.async)return s|=2,Promise.resolve(o).then(i,function(c){return e(c),i()})}else s|=1}catch(c){e(c)}if(s===1)return n.hasError?Promise.reject(n.error):Promise.resolve();if(n.hasError)throw n.error}return i()}function tb(n,e){return typeof n=="string"&&/^\.\.?\//.test(n)?n.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(t,s,i,o,c){return s?e?".jsx":".js":i&&(!o||!c)?t:i+o+"."+c.toLowerCase()+"js"}):n}const gk={__extends:Lw,__assign:oa,__rest:hc,__decorate:Iw,__param:Rw,__esDecorate:Ow,__runInitializers:Dw,__propKey:Mw,__setFunctionName:Fw,__metadata:Bw,__awaiter:bt,__generator:Uw,__createBinding:Zp,__exportStar:$w,__values:Ep,__read:a0,__spread:zw,__spreadArrays:qw,__spreadArray:o0,__await:Ld,__asyncGenerator:Vw,__asyncDelegator:Hw,__asyncValues:Ww,__makeTemplateObject:Gw,__importStar:Kw,__importDefault:Yw,__classPrivateFieldGet:Jw,__classPrivateFieldSet:Xw,__classPrivateFieldIn:Qw,__addDisposableResource:Zw,__disposeResources:eb,__rewriteRelativeImportExtension:tb},xk=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:Zw,get __assign(){return oa},__asyncDelegator:Hw,__asyncGenerator:Vw,__asyncValues:Ww,__await:Ld,__awaiter:bt,__classPrivateFieldGet:Jw,__classPrivateFieldIn:Qw,__classPrivateFieldSet:Xw,__createBinding:Zp,__decorate:Iw,__disposeResources:eb,__esDecorate:Ow,__exportStar:$w,__extends:Lw,__generator:Uw,__importDefault:Yw,__importStar:Kw,__makeTemplateObject:Gw,__metadata:Bw,__param:Rw,__propKey:Mw,__read:a0,__rest:hc,__rewriteRelativeImportExtension:tb,__runInitializers:Dw,__setFunctionName:Fw,__spread:zw,__spreadArray:o0,__spreadArrays:qw,__values:Ep,default:gk},Symbol.toStringTag,{value:"Module"})),vk=n=>n?(...e)=>n(...e):(...e)=>fetch(...e);class l0 extends Error{constructor(e,t="FunctionsError",s){super(e),this.name=t,this.context=s}}class yk extends l0{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Ey extends l0{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Py extends l0{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var px;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(px||(px={}));class wk{constructor(e,{headers:t={},customFetch:s,region:i=px.Any}={}){this.url=e,this.headers=t,this.region=i,this.fetch=vk(s)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return bt(this,arguments,void 0,function*(t,s={}){var i;let o,c;try{const{headers:u,method:d,body:h,signal:p,timeout:g}=s;let w={},{region:x}=s;x||(x=this.region);const S=new URL(`${this.url}/${t}`);x&&x!=="any"&&(w["x-region"]=x,S.searchParams.set("forceFunctionRegion",x));let _;h&&(u&&!Object.prototype.hasOwnProperty.call(u,"Content-Type")||!u)?typeof Blob<"u"&&h instanceof Blob||h instanceof ArrayBuffer?(w["Content-Type"]="application/octet-stream",_=h):typeof h=="string"?(w["Content-Type"]="text/plain",_=h):typeof FormData<"u"&&h instanceof FormData?_=h:(w["Content-Type"]="application/json",_=JSON.stringify(h)):_=h;let k=p;g&&(c=new AbortController,o=setTimeout(()=>c.abort(),g),p?(k=c.signal,p.addEventListener("abort",()=>c.abort())):k=c.signal);const b=yield this.fetch(S.toString(),{method:d||"POST",headers:Object.assign(Object.assign(Object.assign({},w),this.headers),u),body:_,signal:k}).catch(F=>{throw new yk(F)}),R=b.headers.get("x-relay-error");if(R&&R==="true")throw new Ey(b);if(!b.ok)throw new Py(b);let P=((i=b.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),T;return P==="application/json"?T=yield b.json():P==="application/octet-stream"||P==="application/pdf"?T=yield b.blob():P==="text/event-stream"?T=b:P==="multipart/form-data"?T=yield b.formData():T=yield b.text(),{data:T,error:null,response:b}}catch(u){return{data:null,error:u,response:u instanceof Py||u instanceof Ey?u.context:void 0}}finally{o&&clearTimeout(o)}})}}var Ds={};const Fd=W_(xk);var zf={},qf={},Vf={},Hf={},Wf={},Gf={},Ty;function rb(){if(Ty)return Gf;Ty=1,Object.defineProperty(Gf,"__esModule",{value:!0});class n extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}}return Gf.default=n,Gf}var Ly;function nb(){if(Ly)return Wf;Ly=1,Object.defineProperty(Wf,"__esModule",{value:!0});const e=Fd.__importDefault(rb());class t{constructor(i){var o,c;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(o=i.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=i.signal,this.isMaybeSingle=(c=i.isMaybeSingle)!==null&&c!==void 0?c:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,o){return this.headers=new Headers(this.headers),this.headers.set(i,o),this}then(i,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const c=this.fetch;let u=c(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async d=>{var h,p,g,w;let x=null,S=null,_=null,k=d.status,b=d.statusText;if(d.ok){if(this.method!=="HEAD"){const F=await d.text();F===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((h=this.headers.get("Accept"))===null||h===void 0)&&h.includes("application/vnd.pgrst.plan+text"))?S=F:S=JSON.parse(F))}const P=(p=this.headers.get("Prefer"))===null||p===void 0?void 0:p.match(/count=(exact|planned|estimated)/),T=(g=d.headers.get("content-range"))===null||g===void 0?void 0:g.split("/");P&&T&&T.length>1&&(_=parseInt(T[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(S)&&(S.length>1?(x={code:"PGRST116",details:`Results contain ${S.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},S=null,_=null,k=406,b="Not Acceptable"):S.length===1?S=S[0]:S=null)}else{const P=await d.text();try{x=JSON.parse(P),Array.isArray(x)&&d.status===404&&(S=[],x=null,k=200,b="OK")}catch{d.status===404&&P===""?(k=204,b="No Content"):x={message:P}}if(x&&this.isMaybeSingle&&(!((w=x?.details)===null||w===void 0)&&w.includes("0 rows"))&&(x=null,k=200,b="OK"),x&&this.shouldThrowOnError)throw new e.default(x)}return{error:x,data:S,count:_,status:k,statusText:b}});return this.shouldThrowOnError||(u=u.catch(d=>{var h,p,g,w,x,S;let _="";const k=d?.cause;if(k){const b=(h=k?.message)!==null&&h!==void 0?h:"",R=(p=k?.code)!==null&&p!==void 0?p:"";_=`${(g=d?.name)!==null&&g!==void 0?g:"FetchError"}: ${d?.message}`,_+=`

Caused by: ${(w=k?.name)!==null&&w!==void 0?w:"Error"}: ${b}`,R&&(_+=` (${R})`),k?.stack&&(_+=`
${k.stack}`)}else _=(x=d?.stack)!==null&&x!==void 0?x:"";return{error:{message:`${(S=d?.name)!==null&&S!==void 0?S:"FetchError"}: ${d?.message}`,details:_,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),u.then(i,o)}returns(){return this}overrideTypes(){return this}}return Wf.default=t,Wf}var Iy;function sb(){if(Iy)return Hf;Iy=1,Object.defineProperty(Hf,"__esModule",{value:!0});const e=Fd.__importDefault(nb());class t extends e.default{select(i){let o=!1;const c=(i??"*").split("").map(u=>/\s/.test(u)&&!o?"":(u==='"'&&(o=!o),u)).join("");return this.url.searchParams.set("select",c),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:o=!0,nullsFirst:c,foreignTable:u,referencedTable:d=u}={}){const h=d?`${d}.order`:"order",p=this.url.searchParams.get(h);return this.url.searchParams.set(h,`${p?`${p},`:""}${i}.${o?"asc":"desc"}${c===void 0?"":c?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:o,referencedTable:c=o}={}){const u=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(u,`${i}`),this}range(i,o,{foreignTable:c,referencedTable:u=c}={}){const d=typeof u>"u"?"offset":`${u}.offset`,h=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(d,`${i}`),this.url.searchParams.set(h,`${o-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:o=!1,settings:c=!1,buffers:u=!1,wal:d=!1,format:h="text"}={}){var p;const g=[i?"analyze":null,o?"verbose":null,c?"settings":null,u?"buffers":null,d?"wal":null].filter(Boolean).join("|"),w=(p=this.headers.get("Accept"))!==null&&p!==void 0?p:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${h}; for="${w}"; options=${g};`),h==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return Hf.default=t,Hf}var Ry;function c0(){if(Ry)return Vf;Ry=1,Object.defineProperty(Vf,"__esModule",{value:!0});const e=Fd.__importDefault(sb()),t=new RegExp("[,()]");class s extends e.default{eq(o,c){return this.url.searchParams.append(o,`eq.${c}`),this}neq(o,c){return this.url.searchParams.append(o,`neq.${c}`),this}gt(o,c){return this.url.searchParams.append(o,`gt.${c}`),this}gte(o,c){return this.url.searchParams.append(o,`gte.${c}`),this}lt(o,c){return this.url.searchParams.append(o,`lt.${c}`),this}lte(o,c){return this.url.searchParams.append(o,`lte.${c}`),this}like(o,c){return this.url.searchParams.append(o,`like.${c}`),this}likeAllOf(o,c){return this.url.searchParams.append(o,`like(all).{${c.join(",")}}`),this}likeAnyOf(o,c){return this.url.searchParams.append(o,`like(any).{${c.join(",")}}`),this}ilike(o,c){return this.url.searchParams.append(o,`ilike.${c}`),this}ilikeAllOf(o,c){return this.url.searchParams.append(o,`ilike(all).{${c.join(",")}}`),this}ilikeAnyOf(o,c){return this.url.searchParams.append(o,`ilike(any).{${c.join(",")}}`),this}regexMatch(o,c){return this.url.searchParams.append(o,`match.${c}`),this}regexIMatch(o,c){return this.url.searchParams.append(o,`imatch.${c}`),this}is(o,c){return this.url.searchParams.append(o,`is.${c}`),this}isDistinct(o,c){return this.url.searchParams.append(o,`isdistinct.${c}`),this}in(o,c){const u=Array.from(new Set(c)).map(d=>typeof d=="string"&&t.test(d)?`"${d}"`:`${d}`).join(",");return this.url.searchParams.append(o,`in.(${u})`),this}contains(o,c){return typeof c=="string"?this.url.searchParams.append(o,`cs.${c}`):Array.isArray(c)?this.url.searchParams.append(o,`cs.{${c.join(",")}}`):this.url.searchParams.append(o,`cs.${JSON.stringify(c)}`),this}containedBy(o,c){return typeof c=="string"?this.url.searchParams.append(o,`cd.${c}`):Array.isArray(c)?this.url.searchParams.append(o,`cd.{${c.join(",")}}`):this.url.searchParams.append(o,`cd.${JSON.stringify(c)}`),this}rangeGt(o,c){return this.url.searchParams.append(o,`sr.${c}`),this}rangeGte(o,c){return this.url.searchParams.append(o,`nxl.${c}`),this}rangeLt(o,c){return this.url.searchParams.append(o,`sl.${c}`),this}rangeLte(o,c){return this.url.searchParams.append(o,`nxr.${c}`),this}rangeAdjacent(o,c){return this.url.searchParams.append(o,`adj.${c}`),this}overlaps(o,c){return typeof c=="string"?this.url.searchParams.append(o,`ov.${c}`):this.url.searchParams.append(o,`ov.{${c.join(",")}}`),this}textSearch(o,c,{config:u,type:d}={}){let h="";d==="plain"?h="pl":d==="phrase"?h="ph":d==="websearch"&&(h="w");const p=u===void 0?"":`(${u})`;return this.url.searchParams.append(o,`${h}fts${p}.${c}`),this}match(o){return Object.entries(o).forEach(([c,u])=>{this.url.searchParams.append(c,`eq.${u}`)}),this}not(o,c,u){return this.url.searchParams.append(o,`not.${c}.${u}`),this}or(o,{foreignTable:c,referencedTable:u=c}={}){const d=u?`${u}.or`:"or";return this.url.searchParams.append(d,`(${o})`),this}filter(o,c,u){return this.url.searchParams.append(o,`${c}.${u}`),this}}return Vf.default=s,Vf}var Oy;function ib(){if(Oy)return qf;Oy=1,Object.defineProperty(qf,"__esModule",{value:!0});const e=Fd.__importDefault(c0());class t{constructor(i,{headers:o={},schema:c,fetch:u}){this.url=i,this.headers=new Headers(o),this.schema=c,this.fetch=u}select(i,o){const{head:c=!1,count:u}=o??{},d=c?"HEAD":"GET";let h=!1;const p=(i??"*").split("").map(g=>/\s/.test(g)&&!h?"":(g==='"'&&(h=!h),g)).join("");return this.url.searchParams.set("select",p),u&&this.headers.append("Prefer",`count=${u}`),new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:o,defaultToNull:c=!0}={}){var u;const d="POST";if(o&&this.headers.append("Prefer",`count=${o}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const h=i.reduce((p,g)=>p.concat(Object.keys(g)),[]);if(h.length>0){const p=[...new Set(h)].map(g=>`"${g}"`);this.url.searchParams.set("columns",p.join(","))}}return new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}upsert(i,{onConflict:o,ignoreDuplicates:c=!1,count:u,defaultToNull:d=!0}={}){var h;const p="POST";if(this.headers.append("Prefer",`resolution=${c?"ignore":"merge"}-duplicates`),o!==void 0&&this.url.searchParams.set("on_conflict",o),u&&this.headers.append("Prefer",`count=${u}`),d||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const g=i.reduce((w,x)=>w.concat(Object.keys(x)),[]);if(g.length>0){const w=[...new Set(g)].map(x=>`"${x}"`);this.url.searchParams.set("columns",w.join(","))}}return new e.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}update(i,{count:o}={}){var c;const u="PATCH";return o&&this.headers.append("Prefer",`count=${o}`),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}delete({count:i}={}){var o;const c="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}}return qf.default=t,qf}var Dy;function bk(){if(Dy)return zf;Dy=1,Object.defineProperty(zf,"__esModule",{value:!0});const n=Fd,e=n.__importDefault(ib()),t=n.__importDefault(c0());class s{constructor(o,{headers:c={},schema:u,fetch:d}={}){this.url=o,this.headers=new Headers(c),this.schemaName=u,this.fetch=d}from(o){if(!o||typeof o!="string"||o.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const c=new URL(`${this.url}/${o}`);return new e.default(c,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new s(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,c={},{head:u=!1,get:d=!1,count:h}={}){var p;let g;const w=new URL(`${this.url}/rpc/${o}`);let x;u||d?(g=u?"HEAD":"GET",Object.entries(c).filter(([_,k])=>k!==void 0).map(([_,k])=>[_,Array.isArray(k)?`{${k.join(",")}}`:`${k}`]).forEach(([_,k])=>{w.searchParams.append(_,k)})):(g="POST",x=c);const S=new Headers(this.headers);return h&&S.set("Prefer",`count=${h}`),new t.default({method:g,url:w,headers:S,schema:this.schemaName,body:x,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}}return zf.default=s,zf}var My;function jk(){if(My)return Ds;My=1,Object.defineProperty(Ds,"__esModule",{value:!0}),Ds.PostgrestError=Ds.PostgrestBuilder=Ds.PostgrestTransformBuilder=Ds.PostgrestFilterBuilder=Ds.PostgrestQueryBuilder=Ds.PostgrestClient=void 0;const n=Fd,e=n.__importDefault(bk());Ds.PostgrestClient=e.default;const t=n.__importDefault(ib());Ds.PostgrestQueryBuilder=t.default;const s=n.__importDefault(c0());Ds.PostgrestFilterBuilder=s.default;const i=n.__importDefault(sb());Ds.PostgrestTransformBuilder=i.default;const o=n.__importDefault(nb());Ds.PostgrestBuilder=o.default;const c=n.__importDefault(rb());return Ds.PostgrestError=c.default,Ds.default={PostgrestClient:e.default,PostgrestQueryBuilder:t.default,PostgrestFilterBuilder:s.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:o.default,PostgrestError:c.default},Ds}var ab=jk();const ob=Qx(ab),Nk=rw({__proto__:null,default:ob},[ab]),{PostgrestClient:_k,PostgrestQueryBuilder:qM,PostgrestFilterBuilder:VM,PostgrestTransformBuilder:HM,PostgrestBuilder:WM,PostgrestError:GM}=ob||Nk;class Sk{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const t=process.versions;if(t&&t.node){const s=t.node,i=parseInt(s.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+=`

Suggested solution: ${e.workaround}`),new Error(t)}static createWebSocket(e,t){const s=this.getWebSocketConstructor();return new s(e,t)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const kk="2.86.0",Ck=`realtime-js/${kk}`,lb="1.0.0",Ak="2.0.0",Fy=lb,mx=1e4,Ek=1e3,Pk=100;var Zc;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(Zc||(Zc={}));var ls;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(ls||(ls={}));var Ma;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(Ma||(Ma={}));var gx;(function(n){n.websocket="websocket"})(gx||(gx={}));var eu;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(eu||(eu={}));class Tk{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,t){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return t(this._binaryEncodeUserBroadcastPush(e));let s=[e.join_ref,e.ref,e.topic,e.event,e.payload];return t(JSON.stringify(s))}_binaryEncodeUserBroadcastPush(e){var t;return this._isArrayBuffer((t=e.payload)===null||t===void 0?void 0:t.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var t,s;const i=(s=(t=e.payload)===null||t===void 0?void 0:t.payload)!==null&&s!==void 0?s:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(e){var t,s;const i=(s=(t=e.payload)===null||t===void 0?void 0:t.payload)!==null&&s!==void 0?s:{},c=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,c)}_encodeUserBroadcastPush(e,t,s){var i,o;const c=e.topic,u=(i=e.ref)!==null&&i!==void 0?i:"",d=(o=e.join_ref)!==null&&o!==void 0?o:"",h=e.payload.event,p=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},g=Object.keys(p).length===0?"":JSON.stringify(p);if(d.length>255)throw new Error(`joinRef length ${d.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`ref length ${u.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`topic length ${c.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`userEvent length ${h.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`metadata length ${g.length} exceeds maximum of 255`);const w=this.USER_BROADCAST_PUSH_META_LENGTH+d.length+u.length+c.length+h.length+g.length,x=new ArrayBuffer(this.HEADER_LENGTH+w);let S=new DataView(x),_=0;S.setUint8(_++,this.KINDS.userBroadcastPush),S.setUint8(_++,d.length),S.setUint8(_++,u.length),S.setUint8(_++,c.length),S.setUint8(_++,h.length),S.setUint8(_++,g.length),S.setUint8(_++,t),Array.from(d,b=>S.setUint8(_++,b.charCodeAt(0))),Array.from(u,b=>S.setUint8(_++,b.charCodeAt(0))),Array.from(c,b=>S.setUint8(_++,b.charCodeAt(0))),Array.from(h,b=>S.setUint8(_++,b.charCodeAt(0))),Array.from(g,b=>S.setUint8(_++,b.charCodeAt(0)));var k=new Uint8Array(x.byteLength+s.byteLength);return k.set(new Uint8Array(x),0),k.set(new Uint8Array(s),x.byteLength),k.buffer}decode(e,t){if(this._isArrayBuffer(e)){let s=this._binaryDecode(e);return t(s)}if(typeof e=="string"){const s=JSON.parse(e),[i,o,c,u,d]=s;return t({join_ref:i,ref:o,topic:c,event:u,payload:d})}return t({})}_binaryDecode(e){const t=new DataView(e),s=t.getUint8(0),i=new TextDecoder;switch(s){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,t,i)}}_decodeUserBroadcast(e,t,s){const i=t.getUint8(1),o=t.getUint8(2),c=t.getUint8(3),u=t.getUint8(4);let d=this.HEADER_LENGTH+4;const h=s.decode(e.slice(d,d+i));d=d+i;const p=s.decode(e.slice(d,d+o));d=d+o;const g=s.decode(e.slice(d,d+c));d=d+c;const w=e.slice(d,e.byteLength),x=u===this.JSON_ENCODING?JSON.parse(s.decode(w)):w,S={type:this.BROADCAST_EVENT,event:p,payload:x};return c>0&&(S.meta=JSON.parse(g)),{join_ref:null,ref:null,topic:h,event:this.BROADCAST_EVENT,payload:S}}_isArrayBuffer(e){var t;return e instanceof ArrayBuffer||((t=e?.constructor)===null||t===void 0?void 0:t.name)==="ArrayBuffer"}_pick(e,t){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([s])=>t.includes(s)))}}class cb{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var hn;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(hn||(hn={}));const By=(n,e,t={})=>{var s;const i=(s=t.skipTypes)!==null&&s!==void 0?s:[];return e?Object.keys(e).reduce((o,c)=>(o[c]=Lk(c,n,e,i),o),{}):{}},Lk=(n,e,t,s)=>{const i=e.find(u=>u.name===n),o=i?.type,c=t[n];return o&&!s.includes(o)?ub(o,c):xx(c)},ub=(n,e)=>{if(n.charAt(0)==="_"){const t=n.slice(1,n.length);return Dk(e,t)}switch(n){case hn.bool:return Ik(e);case hn.float4:case hn.float8:case hn.int2:case hn.int4:case hn.int8:case hn.numeric:case hn.oid:return Rk(e);case hn.json:case hn.jsonb:return Ok(e);case hn.timestamp:return Mk(e);case hn.abstime:case hn.date:case hn.daterange:case hn.int4range:case hn.int8range:case hn.money:case hn.reltime:case hn.text:case hn.time:case hn.timestamptz:case hn.timetz:case hn.tsrange:case hn.tstzrange:return xx(e);default:return xx(e)}},xx=n=>n,Ik=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},Rk=n=>{if(typeof n=="string"){const e=parseFloat(n);if(!Number.isNaN(e))return e}return n},Ok=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(e){return console.log(`JSON parse error: ${e}`),n}return n},Dk=(n,e)=>{if(typeof n!="string")return n;const t=n.length-1,s=n[t];if(n[0]==="{"&&s==="}"){let o;const c=n.slice(1,t);try{o=JSON.parse("["+c+"]")}catch{o=c?c.split(","):[]}return o.map(u=>ub(e,u))}return n},Mk=n=>typeof n=="string"?n.replace(" ","T"):n,db=n=>{const e=new URL(n);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class jg{constructor(e,t,s={},i=mx){this.channel=e,this.event=t,this.payload=s,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var s;return this._hasReceived(e)&&t((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(s=>s.status===e).forEach(s=>s.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Uy;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(Uy||(Uy={}));class Ah{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=t?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},i=>{const{onJoin:o,onLeave:c,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ah.syncState(this.state,i,o,c),this.pendingDiffs.forEach(d=>{this.state=Ah.syncDiff(this.state,d,o,c)}),this.pendingDiffs=[],u()}),this.channel._on(s.diff,{},i=>{const{onJoin:o,onLeave:c,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Ah.syncDiff(this.state,i,o,c),u())}),this.onJoin((i,o,c)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:c})}),this.onLeave((i,o,c)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,s,i){const o=this.cloneDeep(e),c=this.transformState(t),u={},d={};return this.map(o,(h,p)=>{c[h]||(d[h]=p)}),this.map(c,(h,p)=>{const g=o[h];if(g){const w=p.map(k=>k.presence_ref),x=g.map(k=>k.presence_ref),S=p.filter(k=>x.indexOf(k.presence_ref)<0),_=g.filter(k=>w.indexOf(k.presence_ref)<0);S.length>0&&(u[h]=S),_.length>0&&(d[h]=_)}else u[h]=p}),this.syncDiff(o,{joins:u,leaves:d},s,i)}static syncDiff(e,t,s,i){const{joins:o,leaves:c}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return s||(s=()=>{}),i||(i=()=>{}),this.map(o,(u,d)=>{var h;const p=(h=e[u])!==null&&h!==void 0?h:[];if(e[u]=this.cloneDeep(d),p.length>0){const g=e[u].map(x=>x.presence_ref),w=p.filter(x=>g.indexOf(x.presence_ref)<0);e[u].unshift(...w)}s(u,p,d)}),this.map(c,(u,d)=>{let h=e[u];if(!h)return;const p=d.map(g=>g.presence_ref);h=h.filter(g=>p.indexOf(g.presence_ref)<0),e[u]=h,i(u,h,d),h.length===0&&delete e[u]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(s=>t(s,e[s]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,s)=>{const i=e[s];return"metas"in i?t[s]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):t[s]=i,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var $y;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})($y||($y={}));var Eh;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(Eh||(Eh={}));var cl;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(cl||(cl={}));class u0{constructor(e,t={config:{}},s){var i,o;if(this.topic=e,this.params=t,this.socket=s,this.bindings={},this.state=ls.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new jg(this,Ma.join,this.params,this.timeout),this.rejoinTimer=new cb(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ls.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ls.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=ls.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ls.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=ls.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ma.reply,{},(c,u)=>{this._trigger(this._replyEventName(u),c)}),this.presence=new Ah(this),this.broadcastEndpointURL=db(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,t=this.timeout){var s,i,o;if(this.socket.isConnected()||this.socket.connect(),this.state==ls.closed){const{config:{broadcast:c,presence:u,private:d}}=this.params,h=(i=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(x=>x.filter))!==null&&i!==void 0?i:[],p=!!this.bindings[Eh.PRESENCE]&&this.bindings[Eh.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,g={},w={broadcast:c,presence:Object.assign(Object.assign({},u),{enabled:p}),postgres_changes:h,private:d};this.socket.accessTokenValue&&(g.access_token=this.socket.accessTokenValue),this._onError(x=>e?.(cl.CHANNEL_ERROR,x)),this._onClose(()=>e?.(cl.CLOSED)),this.updateJoinPayload(Object.assign({config:w},g)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:x})=>{var S;if(this.socket.setAuth(),x===void 0){e?.(cl.SUBSCRIBED);return}else{const _=this.bindings.postgres_changes,k=(S=_?.length)!==null&&S!==void 0?S:0,b=[];for(let R=0;R<k;R++){const P=_[R],{filter:{event:T,schema:F,table:ne,filter:ee}}=P,K=x&&x[R];if(K&&K.event===T&&K.schema===F&&K.table===ne&&K.filter===ee)b.push(Object.assign(Object.assign({},P),{id:K.id}));else{this.unsubscribe(),this.state=ls.errored,e?.(cl.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,e&&e(cl.SUBSCRIBED);return}}).receive("error",x=>{this.state=ls.errored,e?.(cl.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(x).join(", ")||"error")))}).receive("timeout",()=>{e?.(cl.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,s){return this.state===ls.joined&&e===Eh.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,t,s)}async httpSend(e,t,s={}){var i;const o=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(t==null)return Promise.reject("Payload is required for httpSend()");const c={method:"POST",headers:{Authorization:o,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:t,private:this.private}]})},u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(i=s.timeout)!==null&&i!==void 0?i:this.timeout);if(u.status===202)return{success:!0};let d=u.statusText;try{const h=await u.json();d=h.error||h.message||d}catch{}return Promise.reject(new Error(d))}async send(e,t={}){var s,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:c}=e,d={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:c,private:this.private}]})};try{const h=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(s=t.timeout)!==null&&s!==void 0?s:this.timeout);return await((i=h.body)===null||i===void 0?void 0:i.cancel()),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var c,u,d;const h=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((d=(u=(c=this.params)===null||c===void 0?void 0:c.config)===null||u===void 0?void 0:u.broadcast)===null||d===void 0)&&d.ack)&&o("ok"),h.receive("ok",()=>o("ok")),h.receive("error",()=>o("error")),h.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ls.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ma.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(i=>{s=new jg(this,Ma.leave,{},e),s.receive("ok",()=>{t(),i("ok")}).receive("timeout",()=>{t(),i("timed out")}).receive("error",()=>{i("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ls.closed,this.bindings={}}async _fetchWithTimeout(e,t,s){const i=new AbortController,o=setTimeout(()=>i.abort(),s),c=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:i.signal}));return clearTimeout(o),c}_push(e,t,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new jg(this,e,t,s);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Pk){const t=this.pushBuffer.shift();t&&(t.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${t.event}`,t.payload))}}_onMessage(e,t,s){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,s){var i,o;const c=e.toLocaleLowerCase(),{close:u,error:d,leave:h,join:p}=Ma;if(s&&[u,d,h,p].indexOf(c)>=0&&s!==this._joinRef())return;let w=this._onMessage(c,t,s);if(t&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(x=>{var S,_,k;return((S=x.filter)===null||S===void 0?void 0:S.event)==="*"||((k=(_=x.filter)===null||_===void 0?void 0:_.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===c}).map(x=>x.callback(w,s)):(o=this.bindings[c])===null||o===void 0||o.filter(x=>{var S,_,k,b,R,P;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in x){const T=x.id,F=(S=x.filter)===null||S===void 0?void 0:S.event;return T&&((_=t.ids)===null||_===void 0?void 0:_.includes(T))&&(F==="*"||F?.toLocaleLowerCase()===((k=t.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))}else{const T=(R=(b=x?.filter)===null||b===void 0?void 0:b.event)===null||R===void 0?void 0:R.toLocaleLowerCase();return T==="*"||T===((P=t?.event)===null||P===void 0?void 0:P.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===c}).map(x=>{if(typeof w=="object"&&"ids"in w){const S=w.data,{schema:_,table:k,commit_timestamp:b,type:R,errors:P}=S;w=Object.assign(Object.assign({},{schema:_,table:k,commit_timestamp:b,eventType:R,new:{},old:{},errors:P}),this._getPayloadRecords(S))}x.callback(w,s)})}_isClosed(){return this.state===ls.closed}_isJoined(){return this.state===ls.joined}_isJoining(){return this.state===ls.joining}_isLeaving(){return this.state===ls.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,s){const i=e.toLocaleLowerCase(),o={type:i,filter:t,callback:s};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(e,t){const s=e.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===s&&u0.isEqual(i.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const s in e)if(e[s]!==t[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ma.close,{},e)}_onError(e){this._on(Ma.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ls.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=By(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=By(e.columns,e.old_record)),t}}const Ng=()=>{},Kf={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Fk=[1e3,2e3,5e3,1e4],Bk=1e4,Uk=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class $k{constructor(e,t){var s;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=mx,this.transport=null,this.heartbeatIntervalMs=Kf.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ng,this.ref=0,this.reconnectTimer=null,this.vsn=Fy,this.logger=Ng,this.conn=null,this.sendBuffer=[],this.serializer=new Tk,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...o)=>i(...o):(...o)=>fetch(...o),!(!((s=t?.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint=`${e}/${gx.websocket}`,this.httpEndpoint=db(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(t?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Sk.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const t=e.message;throw t.includes("Node.js")?new Error(`${t}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${t}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,t??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,s){this.logger(e,t,s)}connectionState(){switch(this.conn&&this.conn.readyState){case Zc.connecting:return eu.Connecting;case Zc.open:return eu.Open;case Zc.closing:return eu.Closing;default:return eu.Closed}}isConnected(){return this.connectionState()===eu.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,t={config:{}}){const s=`realtime:${e}`,i=this.getChannels().find(o=>o.topic===s);if(i)return i;{const o=new u0(`realtime:${e}`,t,this);return this.channels.push(o),o}}push(e){const{topic:t,event:s,payload:i,ref:o}=e,c=()=>{this.encode(e,u=>{var d;(d=this.conn)===null||d===void 0||d.send(u)})};this.log("push",`${t} ${s} (${o})`,i),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(t){this.log("error","error in heartbeat callback",t)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(t){this.log("error","error in heartbeat callback",t)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Ek,"heartbeat timeout"),setTimeout(()=>{var t;this.isConnected()||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout()},Kf.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(t){this.log("error","error in heartbeat callback",t)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(s=>s.topic===e&&(s._isJoined()||s._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,t=>{if(t.topic==="phoenix"&&t.event==="phx_reply")try{this.heartbeatCallback(t.payload.status==="ok"?"ok":"error")}catch(h){this.log("error","error in heartbeat callback",h)}t.ref&&t.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:s,event:i,payload:o,ref:c}=t,u=c?`(${c})`:"",d=o.status||"";this.log("receive",`${d} ${s} ${i} ${u}`.trim(),o),this.channels.filter(h=>h._isMember(s)).forEach(h=>h._trigger(i,o,c)),this._triggerStateCallbacks("message",t)})}_clearTimer(e){var t;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((t=this.reconnectTimer)===null||t===void 0||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Zc.open||this.conn.readyState===Zc.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(t=>{this.log("error","error waiting for auth on connect",t),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ma.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const s=e.match(/\?/)?"&":"?",i=new URLSearchParams(t);return`${e}${s}${i}`}_workerObjectUrl(e){let t;if(e)t=e;else{const s=new Blob([Uk],{type:"application/javascript"});t=URL.createObjectURL(s)}return t}_setConnectionState(e,t=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=t)}async _performAuth(e=null){let t;e?t=e:this.accessToken?t=await this.accessToken():t=this.accessTokenValue,this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(s=>{const i={access_token:t,version:Ck};t&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(Ma.access_token,{access_token:t})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(t=>{this.log("error",`error setting auth in ${e}`,t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(s=>{try{s(t)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(s){this.log("error",`error triggering ${e} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new cb(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Kf.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var t,s,i,o,c,u,d,h,p,g,w,x;switch(this.transport=(t=e?.transport)!==null&&t!==void 0?t:null,this.timeout=(s=e?.timeout)!==null&&s!==void 0?s:mx,this.heartbeatIntervalMs=(i=e?.heartbeatIntervalMs)!==null&&i!==void 0?i:Kf.HEARTBEAT_INTERVAL,this.worker=(o=e?.worker)!==null&&o!==void 0?o:!1,this.accessToken=(c=e?.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(u=e?.heartbeatCallback)!==null&&u!==void 0?u:Ng,this.vsn=(d=e?.vsn)!==null&&d!==void 0?d:Fy,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(h=e?.reconnectAfterMs)!==null&&h!==void 0?h:(S=>Fk[S-1]||Bk),this.vsn){case lb:this.encode=(p=e?.encode)!==null&&p!==void 0?p:((S,_)=>_(JSON.stringify(S))),this.decode=(g=e?.decode)!==null&&g!==void 0?g:((S,_)=>_(JSON.parse(S)));break;case Ak:this.encode=(w=e?.encode)!==null&&w!==void 0?w:this.serializer.encode.bind(this.serializer),this.decode=(x=e?.decode)!==null&&x!==void 0?x:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}class em extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Pn(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}class zk extends em{constructor(e,t,s){super(e),this.name="StorageApiError",this.status=t,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class vx extends em{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}const d0=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),qk=()=>Response,yx=n=>{if(Array.isArray(n))return n.map(t=>yx(t));if(typeof n=="function"||n!==Object(n))return n;const e={};return Object.entries(n).forEach(([t,s])=>{const i=t.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[i]=yx(s)}),e},Vk=n=>{if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},Hk=n=>!n||typeof n!="string"||n.length===0||n.length>100||n.trim()!==n||n.includes("/")||n.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(n),_g=n=>{var e;return n.msg||n.message||n.error_description||(typeof n.error=="string"?n.error:(e=n.error)===null||e===void 0?void 0:e.message)||JSON.stringify(n)},Wk=(n,e,t)=>bt(void 0,void 0,void 0,function*(){const s=yield qk();n instanceof s&&!t?.noResolveJson?n.json().then(i=>{const o=n.status||500,c=i?.statusCode||o+"";e(new zk(_g(i),o,c))}).catch(i=>{e(new vx(_g(i),i))}):e(new vx(_g(n),n))}),Gk=(n,e,t,s)=>{const i={method:n,headers:e?.headers||{}};return n==="GET"||!s?i:(Vk(s)?(i.headers=Object.assign({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(s)):i.body=s,e?.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),t))};function Gh(n,e,t,s,i,o){return bt(this,void 0,void 0,function*(){return new Promise((c,u)=>{n(t,Gk(e,s,i,o)).then(d=>{if(!d.ok)throw d;return s?.noResolveJson?d:d.json()}).then(d=>c(d)).catch(d=>Wk(d,u,s))})})}function Rh(n,e,t,s){return bt(this,void 0,void 0,function*(){return Gh(n,"GET",e,t,s)})}function Da(n,e,t,s,i){return bt(this,void 0,void 0,function*(){return Gh(n,"POST",e,s,i,t)})}function wx(n,e,t,s,i){return bt(this,void 0,void 0,function*(){return Gh(n,"PUT",e,s,i,t)})}function Kk(n,e,t,s){return bt(this,void 0,void 0,function*(){return Gh(n,"HEAD",e,Object.assign(Object.assign({},t),{noResolveJson:!0}),s)})}function h0(n,e,t,s,i){return bt(this,void 0,void 0,function*(){return Gh(n,"DELETE",e,s,i,t)})}class Yk{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}execute(){return bt(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Pn(e))return{data:null,error:e};throw e}})}}var hb;class Jk{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[hb]="BlobDownloadBuilder",this.promise=null}asStream(){return new Yk(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return bt(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Pn(e))return{data:null,error:e};throw e}})}}hb=Symbol.toStringTag;const Xk={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},zy={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Qk{constructor(e,t={},s,i){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=s,this.fetch=d0(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,t,s,i){return bt(this,void 0,void 0,function*(){try{let o;const c=Object.assign(Object.assign({},zy),i);let u=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(c.upsert)});const d=c.metadata;typeof Blob<"u"&&s instanceof Blob?(o=new FormData,o.append("cacheControl",c.cacheControl),d&&o.append("metadata",this.encodeMetadata(d)),o.append("",s)):typeof FormData<"u"&&s instanceof FormData?(o=s,o.has("cacheControl")||o.append("cacheControl",c.cacheControl),d&&!o.has("metadata")&&o.append("metadata",this.encodeMetadata(d))):(o=s,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType,d&&(u["x-metadata"]=this.toBase64(this.encodeMetadata(d))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!c.duplex&&(c.duplex="half")),i?.headers&&(u=Object.assign(Object.assign({},u),i.headers));const h=this._removeEmptyFolders(t),p=this._getFinalPath(h),g=yield(e=="PUT"?wx:Da)(this.fetch,`${this.url}/object/${p}`,o,Object.assign({headers:u},c?.duplex?{duplex:c.duplex}:{}));return{data:{path:h,id:g.Id,fullPath:g.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Pn(o))return{data:null,error:o};throw o}})}upload(e,t,s){return bt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,s)})}uploadToSignedUrl(e,t,s,i){return bt(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(e),c=this._getFinalPath(o),u=new URL(this.url+`/object/upload/sign/${c}`);u.searchParams.set("token",t);try{let d;const h=Object.assign({upsert:zy.upsert},i),p=Object.assign(Object.assign({},this.headers),{"x-upsert":String(h.upsert)});typeof Blob<"u"&&s instanceof Blob?(d=new FormData,d.append("cacheControl",h.cacheControl),d.append("",s)):typeof FormData<"u"&&s instanceof FormData?(d=s,d.append("cacheControl",h.cacheControl)):(d=s,p["cache-control"]=`max-age=${h.cacheControl}`,p["content-type"]=h.contentType);const g=yield wx(this.fetch,u.toString(),d,{headers:p});return{data:{path:o,fullPath:g.Key},error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(Pn(d))return{data:null,error:d};throw d}})}createSignedUploadUrl(e,t){return bt(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e);const i=Object.assign({},this.headers);t?.upsert&&(i["x-upsert"]="true");const o=yield Da(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:i}),c=new URL(this.url+o.url),u=c.searchParams.get("token");if(!u)throw new em("No token returned by API");return{data:{signedUrl:c.toString(),path:e,token:u},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Pn(s))return{data:null,error:s};throw s}})}update(e,t,s){return bt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,s)})}move(e,t,s){return bt(this,void 0,void 0,function*(){try{return{data:yield Da(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:s?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Pn(i))return{data:null,error:i};throw i}})}copy(e,t,s){return bt(this,void 0,void 0,function*(){try{return{data:{path:(yield Da(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:s?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Pn(i))return{data:null,error:i};throw i}})}createSignedUrl(e,t,s){return bt(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),o=yield Da(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:t},s?.transform?{transform:s.transform}:{}),{headers:this.headers});const c=s?.download?`&download=${s.download===!0?"":s.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${c}`)},{data:o,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Pn(i))return{data:null,error:i};throw i}})}createSignedUrls(e,t,s){return bt(this,void 0,void 0,function*(){try{const i=yield Da(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),o=s?.download?`&download=${s.download===!0?"":s.download}`:"";return{data:i.map(c=>Object.assign(Object.assign({},c),{signedUrl:c.signedURL?encodeURI(`${this.url}${c.signedURL}${o}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Pn(i))return{data:null,error:i};throw i}})}download(e,t){const i=typeof t?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(t?.transform||{}),c=o?`?${o}`:"",u=this._getFinalPath(e),d=()=>Rh(this.fetch,`${this.url}/${i}/${u}${c}`,{headers:this.headers,noResolveJson:!0});return new Jk(d,this.shouldThrowOnError)}info(e){return bt(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const s=yield Rh(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:yx(s),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Pn(s))return{data:null,error:s};throw s}})}exists(e){return bt(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield Kk(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Pn(s)&&s instanceof vx){const i=s.originalError;if([400,404].includes(i?.status))return{data:!1,error:s}}throw s}})}getPublicUrl(e,t){const s=this._getFinalPath(e),i=[],o=t?.download?`download=${t.download===!0?"":t.download}`:"";o!==""&&i.push(o);const u=typeof t?.transform<"u"?"render/image":"object",d=this.transformOptsToQueryString(t?.transform||{});d!==""&&i.push(d);let h=i.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${s}${h}`)}}}remove(e){return bt(this,void 0,void 0,function*(){try{return{data:yield h0(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Pn(t))return{data:null,error:t};throw t}})}list(e,t,s){return bt(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},Xk),t),{prefix:e||""});return{data:yield Da(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},s),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Pn(i))return{data:null,error:i};throw i}})}listV2(e,t){return bt(this,void 0,void 0,function*(){try{const s=Object.assign({},e);return{data:yield Da(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,s,{headers:this.headers},t),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Pn(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const fb="2.86.0",pb={"X-Client-Info":`storage-js/${fb}`};class Zk{constructor(e,t={},s,i){this.shouldThrowOnError=!1;const o=new URL(e);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},pb),t),this.fetch=d0(s)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return bt(this,void 0,void 0,function*(){try{const t=this.listBucketOptionsToQueryString(e);return{data:yield Rh(this.fetch,`${this.url}/bucket${t}`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Pn(t))return{data:null,error:t};throw t}})}getBucket(e){return bt(this,void 0,void 0,function*(){try{return{data:yield Rh(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Pn(t))return{data:null,error:t};throw t}})}createBucket(e){return bt(this,arguments,void 0,function*(t,s={public:!1}){try{return{data:yield Da(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:s.type,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Pn(i))return{data:null,error:i};throw i}})}updateBucket(e,t){return bt(this,void 0,void 0,function*(){try{return{data:yield wx(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Pn(s))return{data:null,error:s};throw s}})}emptyBucket(e){return bt(this,void 0,void 0,function*(){try{return{data:yield Da(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Pn(t))return{data:null,error:t};throw t}})}deleteBucket(e){return bt(this,void 0,void 0,function*(){try{return{data:yield h0(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Pn(t))return{data:null,error:t};throw t}})}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}}var Oh=class extends Error{constructor(n,e){super(n),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&e.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function eC(n,e,t){const s=new URL(e,n);if(t)for(const[i,o]of Object.entries(t))o!==void 0&&s.searchParams.set(i,o);return s.toString()}async function tC(n){return!n||n.type==="none"?{}:n.type==="bearer"?{Authorization:`Bearer ${n.token}`}:n.type==="header"?{[n.name]:n.value}:n.type==="custom"?await n.getHeaders():{}}function rC(n){const e=n.fetchImpl??globalThis.fetch;return{async request({method:t,path:s,query:i,body:o,headers:c}){const u=eC(n.baseUrl,s,i),d=await tC(n.auth),h=await e(u,{method:t,headers:{...o?{"Content-Type":"application/json"}:{},...d,...c},body:o?JSON.stringify(o):void 0}),p=await h.text(),g=(h.headers.get("content-type")||"").includes("application/json"),w=g&&p?JSON.parse(p):p;if(!h.ok){const x=g?w:void 0,S=x?.error;throw new Oh(S?.message??`Request failed with status ${h.status}`,{status:h.status,icebergType:S?.type,icebergCode:S?.code,details:x})}return{status:h.status,headers:h.headers,data:w}}}}function Yf(n){return n.join("")}var nC=class{constructor(n,e=""){this.client=n,this.prefix=e}async listNamespaces(n){const e=n?{parent:Yf(n.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(s=>({namespace:s}))}async createNamespace(n,e){const t={namespace:n.namespace,properties:e?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:t})).data}async dropNamespace(n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Yf(n.namespace)}`})}async loadNamespaceMetadata(n){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Yf(n.namespace)}`})).data.properties}}async namespaceExists(n){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Yf(n.namespace)}`}),!0}catch(e){if(e instanceof Oh&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(n,e){try{return await this.createNamespace(n,e)}catch(t){if(t instanceof Oh&&t.status===409)return;throw t}}};function rd(n){return n.join("")}var sC=class{constructor(n,e="",t){this.client=n,this.prefix=e,this.accessDelegation=t}async listTables(n){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${rd(n.namespace)}/tables`})).data.identifiers}async createTable(n,e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${rd(n.namespace)}/tables`,body:e,headers:t})).data.metadata}async updateTable(n,e){const t=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${rd(n.namespace)}/tables/${n.name}`,body:e});return{"metadata-location":t.data["metadata-location"],metadata:t.data.metadata}}async dropTable(n,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${rd(n.namespace)}/tables/${n.name}`,query:{purgeRequested:String(e?.purge??!1)}})}async loadTable(n){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${rd(n.namespace)}/tables/${n.name}`,headers:e})).data.metadata}async tableExists(n){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${rd(n.namespace)}/tables/${n.name}`,headers:e}),!0}catch(t){if(t instanceof Oh&&t.status===404)return!1;throw t}}async createTableIfNotExists(n,e){try{return await this.createTable(n,e)}catch(t){if(t instanceof Oh&&t.status===409)return await this.loadTable({namespace:n.namespace,name:e.name});throw t}}},iC=class{constructor(n){let e="v1";n.catalogName&&(e+=`/${n.catalogName}`);const t=n.baseUrl.endsWith("/")?n.baseUrl:`${n.baseUrl}/`;this.client=rC({baseUrl:t,auth:n.auth,fetchImpl:n.fetch}),this.accessDelegation=n.accessDelegation?.join(","),this.namespaceOps=new nC(this.client,e),this.tableOps=new sC(this.client,e,this.accessDelegation)}async listNamespaces(n){return this.namespaceOps.listNamespaces(n)}async createNamespace(n,e){return this.namespaceOps.createNamespace(n,e)}async dropNamespace(n){await this.namespaceOps.dropNamespace(n)}async loadNamespaceMetadata(n){return this.namespaceOps.loadNamespaceMetadata(n)}async listTables(n){return this.tableOps.listTables(n)}async createTable(n,e){return this.tableOps.createTable(n,e)}async updateTable(n,e){return this.tableOps.updateTable(n,e)}async dropTable(n,e){await this.tableOps.dropTable(n,e)}async loadTable(n){return this.tableOps.loadTable(n)}async namespaceExists(n){return this.namespaceOps.namespaceExists(n)}async tableExists(n){return this.tableOps.tableExists(n)}async createNamespaceIfNotExists(n,e){return this.namespaceOps.createNamespaceIfNotExists(n,e)}async createTableIfNotExists(n,e){return this.tableOps.createTableIfNotExists(n,e)}};class aC{constructor(e,t={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},pb),t),this.fetch=d0(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return bt(this,void 0,void 0,function*(){try{return{data:yield Da(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Pn(t))return{data:null,error:t};throw t}})}listBuckets(e){return bt(this,void 0,void 0,function*(){try{const t=new URLSearchParams;e?.limit!==void 0&&t.set("limit",e.limit.toString()),e?.offset!==void 0&&t.set("offset",e.offset.toString()),e?.sortColumn&&t.set("sortColumn",e.sortColumn),e?.sortOrder&&t.set("sortOrder",e.sortOrder),e?.search&&t.set("search",e.search);const s=t.toString(),i=s?`${this.url}/bucket?${s}`:`${this.url}/bucket`;return{data:yield Rh(this.fetch,i,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Pn(t))return{data:null,error:t};throw t}})}deleteBucket(e){return bt(this,void 0,void 0,function*(){try{return{data:yield h0(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Pn(t))return{data:null,error:t};throw t}})}from(e){if(!Hk(e))throw new em("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");return new iC({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:()=>bt(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch})}}const f0={"X-Client-Info":`storage-js/${fb}`,"Content-Type":"application/json"};class mb extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Ui(n){return typeof n=="object"&&n!==null&&"__isStorageVectorsError"in n}class Sg extends mb{constructor(e,t,s){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class oC extends mb{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}}var qy;(function(n){n.InternalError="InternalError",n.S3VectorConflictException="S3VectorConflictException",n.S3VectorNotFoundException="S3VectorNotFoundException",n.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",n.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",n.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(qy||(qy={}));const p0=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),lC=n=>{if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},Vy=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),cC=(n,e,t)=>bt(void 0,void 0,void 0,function*(){if(n&&typeof n=="object"&&"status"in n&&"ok"in n&&typeof n.status=="number"&&!t?.noResolveJson){const i=n.status||500,o=n;if(typeof o.json=="function")o.json().then(c=>{const u=c?.statusCode||c?.code||i+"";e(new Sg(Vy(c),i,u))}).catch(()=>{const c=i+"",u=o.statusText||`HTTP ${i} error`;e(new Sg(u,i,c))});else{const c=i+"",u=o.statusText||`HTTP ${i} error`;e(new Sg(u,i,c))}}else e(new oC(Vy(n),n))}),uC=(n,e,t,s)=>{const i={method:n,headers:e?.headers||{}};return s?(lC(s)?(i.headers=Object.assign({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(s)):i.body=s,Object.assign(Object.assign({},i),t)):i};function dC(n,e,t,s,i,o){return bt(this,void 0,void 0,function*(){return new Promise((c,u)=>{n(t,uC(e,s,i,o)).then(d=>{if(!d.ok)throw d;if(s?.noResolveJson)return d;const h=d.headers.get("content-type");return!h||!h.includes("application/json")?{}:d.json()}).then(d=>c(d)).catch(d=>cC(d,u,s))})})}function $i(n,e,t,s,i){return bt(this,void 0,void 0,function*(){return dC(n,"POST",e,s,i,t)})}class hC{constructor(e,t={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},f0),t),this.fetch=p0(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return bt(this,void 0,void 0,function*(){try{return{data:(yield $i(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ui(t))return{data:null,error:t};throw t}})}getIndex(e,t){return bt(this,void 0,void 0,function*(){try{return{data:yield $i(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ui(s))return{data:null,error:s};throw s}})}listIndexes(e){return bt(this,void 0,void 0,function*(){try{return{data:yield $i(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ui(t))return{data:null,error:t};throw t}})}deleteIndex(e,t){return bt(this,void 0,void 0,function*(){try{return{data:(yield $i(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ui(s))return{data:null,error:s};throw s}})}}class fC{constructor(e,t={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},f0),t),this.fetch=p0(s)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return bt(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield $i(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ui(t))return{data:null,error:t};throw t}})}getVectors(e){return bt(this,void 0,void 0,function*(){try{return{data:yield $i(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ui(t))return{data:null,error:t};throw t}})}listVectors(e){return bt(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield $i(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ui(t))return{data:null,error:t};throw t}})}queryVectors(e){return bt(this,void 0,void 0,function*(){try{return{data:yield $i(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ui(t))return{data:null,error:t};throw t}})}deleteVectors(e){return bt(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield $i(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ui(t))return{data:null,error:t};throw t}})}}class pC{constructor(e,t={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},f0),t),this.fetch=p0(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return bt(this,void 0,void 0,function*(){try{return{data:(yield $i(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ui(t))return{data:null,error:t};throw t}})}getBucket(e){return bt(this,void 0,void 0,function*(){try{return{data:yield $i(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ui(t))return{data:null,error:t};throw t}})}listBuckets(){return bt(this,arguments,void 0,function*(e={}){try{return{data:yield $i(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ui(t))return{data:null,error:t};throw t}})}deleteBucket(e){return bt(this,void 0,void 0,function*(){try{return{data:(yield $i(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ui(t))return{data:null,error:t};throw t}})}}class mC extends pC{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new gC(this.url,this.headers,e,this.fetch)}createBucket(e){const t=Object.create(null,{createBucket:{get:()=>super.createBucket}});return bt(this,void 0,void 0,function*(){return t.createBucket.call(this,e)})}getBucket(e){const t=Object.create(null,{getBucket:{get:()=>super.getBucket}});return bt(this,void 0,void 0,function*(){return t.getBucket.call(this,e)})}listBuckets(){const e=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return bt(this,arguments,void 0,function*(t={}){return e.listBuckets.call(this,t)})}deleteBucket(e){const t=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return bt(this,void 0,void 0,function*(){return t.deleteBucket.call(this,e)})}}class gC extends hC{constructor(e,t,s,i){super(e,t,i),this.vectorBucketName=s}createIndex(e){const t=Object.create(null,{createIndex:{get:()=>super.createIndex}});return bt(this,void 0,void 0,function*(){return t.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return bt(this,arguments,void 0,function*(t={}){return e.listIndexes.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const t=Object.create(null,{getIndex:{get:()=>super.getIndex}});return bt(this,void 0,void 0,function*(){return t.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const t=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return bt(this,void 0,void 0,function*(){return t.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new xC(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class xC extends fC{constructor(e,t,s,i,o){super(e,t,o),this.vectorBucketName=s,this.indexName=i}putVectors(e){const t=Object.create(null,{putVectors:{get:()=>super.putVectors}});return bt(this,void 0,void 0,function*(){return t.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const t=Object.create(null,{getVectors:{get:()=>super.getVectors}});return bt(this,void 0,void 0,function*(){return t.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return bt(this,arguments,void 0,function*(t={}){return e.listVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const t=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return bt(this,void 0,void 0,function*(){return t.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const t=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return bt(this,void 0,void 0,function*(){return t.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class vC extends Zk{constructor(e,t={},s,i){super(e,t,s,i)}from(e){return new Qk(this.url,this.headers,e,this.fetch)}get vectors(){return new mC(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new aC(this.url+"/iceberg",this.headers,this.fetch)}}const yC="2.86.0";let _h="";typeof Deno<"u"?_h="deno":typeof document<"u"?_h="web":typeof navigator<"u"&&navigator.product==="ReactNative"?_h="react-native":_h="node";const wC={"X-Client-Info":`supabase-js-${_h}/${yC}`},bC={headers:wC},jC={schema:"public"},NC={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},_C={},SC=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),kC=()=>Headers,CC=(n,e,t)=>{const s=SC(t),i=kC();return async(o,c)=>{var u;const d=(u=await e())!==null&&u!==void 0?u:n;let h=new i(c?.headers);return h.has("apikey")||h.set("apikey",n),h.has("Authorization")||h.set("Authorization",`Bearer ${d}`),s(o,Object.assign(Object.assign({},c),{headers:h}))}};function AC(n){return n.endsWith("/")?n:n+"/"}function EC(n,e){var t,s;const{db:i,auth:o,realtime:c,global:u}=n,{db:d,auth:h,realtime:p,global:g}=e,w={db:Object.assign(Object.assign({},d),i),auth:Object.assign(Object.assign({},h),o),realtime:Object.assign(Object.assign({},p),c),storage:{},global:Object.assign(Object.assign(Object.assign({},g),u),{headers:Object.assign(Object.assign({},(t=g?.headers)!==null&&t!==void 0?t:{}),(s=u?.headers)!==null&&s!==void 0?s:{})}),accessToken:async()=>""};return n.accessToken?w.accessToken=n.accessToken:delete w.accessToken,w}function PC(n){const e=n?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(AC(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const gb="2.86.0",pd=30*1e3,bx=3,kg=bx*pd,TC="http://localhost:9999",LC="supabase.auth.token",IC={"X-Client-Info":`gotrue-js/${gb}`},jx="X-Supabase-Api-Version",xb={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},RC=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,OC=600*1e3;class Dh extends Error{constructor(e,t,s){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=s}}function Mt(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class DC extends Dh{constructor(e,t,s){super(e,t,s),this.name="AuthApiError",this.status=t,this.code=s}}function MC(n){return Mt(n)&&n.name==="AuthApiError"}class tu extends Dh{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class fc extends Dh{constructor(e,t,s,i){super(e,s,i),this.name=t,this.status=s}}class Fi extends fc{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function FC(n){return Mt(n)&&n.name==="AuthSessionMissingError"}class nd extends fc{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Jf extends fc{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Xf extends fc{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function BC(n){return Mt(n)&&n.name==="AuthImplicitGrantRedirectError"}class Hy extends fc{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Nx extends fc{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function Cg(n){return Mt(n)&&n.name==="AuthRetryableFetchError"}class Wy extends fc{constructor(e,t,s){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=s}}class _x extends fc{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Pp="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Gy=` 	
\r=`.split(""),UC=(()=>{const n=new Array(128);for(let e=0;e<n.length;e+=1)n[e]=-1;for(let e=0;e<Gy.length;e+=1)n[Gy[e].charCodeAt(0)]=-2;for(let e=0;e<Pp.length;e+=1)n[Pp[e].charCodeAt(0)]=e;return n})();function Ky(n,e,t){if(n!==null)for(e.queue=e.queue<<8|n,e.queuedBits+=8;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;t(Pp[s]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;t(Pp[s]),e.queuedBits-=6}}function vb(n,e,t){const s=UC[n];if(s>-1)for(e.queue=e.queue<<6|s,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function Yy(n){const e=[],t=c=>{e.push(String.fromCodePoint(c))},s={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=c=>{qC(c,s,t)};for(let c=0;c<n.length;c+=1)vb(n.charCodeAt(c),i,o);return e.join("")}function $C(n,e){if(n<=127){e(n);return}else if(n<=2047){e(192|n>>6),e(128|n&63);return}else if(n<=65535){e(224|n>>12),e(128|n>>6&63),e(128|n&63);return}else if(n<=1114111){e(240|n>>18),e(128|n>>12&63),e(128|n>>6&63),e(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function zC(n,e){for(let t=0;t<n.length;t+=1){let s=n.charCodeAt(t);if(s>55295&&s<=56319){const i=(s-55296)*1024&65535;s=(n.charCodeAt(t+1)-56320&65535|i)+65536,t+=1}$C(s,e)}}function qC(n,e,t){if(e.utf8seq===0){if(n<=127){t(n);return}for(let s=1;s<6;s+=1)if((n>>7-s&1)===0){e.utf8seq=s;break}if(e.utf8seq===2)e.codepoint=n&31;else if(e.utf8seq===3)e.codepoint=n&15;else if(e.utf8seq===4)e.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|n&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function bd(n){const e=[],t={queue:0,queuedBits:0},s=i=>{e.push(i)};for(let i=0;i<n.length;i+=1)vb(n.charCodeAt(i),t,s);return new Uint8Array(e)}function VC(n){const e=[];return zC(n,t=>e.push(t)),new Uint8Array(e)}function su(n){const e=[],t={queue:0,queuedBits:0},s=i=>{e.push(i)};return n.forEach(i=>Ky(i,t,s)),Ky(null,t,s),e.join("")}function HC(n){return Math.round(Date.now()/1e3)+n}function WC(){return Symbol("auth-callback")}const _s=()=>typeof window<"u"&&typeof document<"u",Kc={tested:!1,writable:!1},yb=()=>{if(!_s())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Kc.tested)return Kc.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),Kc.tested=!0,Kc.writable=!0}catch{Kc.tested=!0,Kc.writable=!1}return Kc.writable};function GC(n){const e={},t=new URL(n);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((i,o)=>{e[o]=i})}catch{}return t.searchParams.forEach((s,i)=>{e[i]=s}),e}const wb=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),KC=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",md=async(n,e,t)=>{await n.setItem(e,JSON.stringify(t))},Yc=async(n,e)=>{const t=await n.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},Zl=async(n,e)=>{await n.removeItem(e)};class tm{constructor(){this.promise=new tm.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}tm.promiseConstructor=Promise;function Ag(n){const e=n.split(".");if(e.length!==3)throw new _x("Invalid JWT structure");for(let s=0;s<e.length;s++)if(!RC.test(e[s]))throw new _x("JWT not in base64url format");return{header:JSON.parse(Yy(e[0])),payload:JSON.parse(Yy(e[1])),signature:bd(e[2]),raw:{header:e[0],payload:e[1]}}}async function YC(n){return await new Promise(e=>{setTimeout(()=>e(null),n)})}function JC(n,e){return new Promise((s,i)=>{(async()=>{for(let o=0;o<1/0;o++)try{const c=await n(o);if(!e(o,null,c)){s(c);return}}catch(c){if(!e(o,c)){i(c);return}}})()})}function XC(n){return("0"+n.toString(16)).substr(-2)}function QC(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=t.length;let i="";for(let o=0;o<56;o++)i+=t.charAt(Math.floor(Math.random()*s));return i}return crypto.getRandomValues(e),Array.from(e,XC).join("")}async function ZC(n){const t=new TextEncoder().encode(n),s=await crypto.subtle.digest("SHA-256",t),i=new Uint8Array(s);return Array.from(i).map(o=>String.fromCharCode(o)).join("")}async function eA(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const t=await ZC(n);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function sd(n,e,t=!1){const s=QC();let i=s;t&&(i+="/PASSWORD_RECOVERY"),await md(n,`${e}-code-verifier`,i);const o=await eA(s);return[o,s===o?"plain":"s256"]}const tA=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function rA(n){const e=n.headers.get(jx);if(!e||!e.match(tA))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function nA(n){if(!n)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(n<=e)throw new Error("JWT has expired")}function sA(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const iA=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function id(n){if(!iA.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Eg(){const n={};return new Proxy(n,{get:(e,t)=>{if(t==="__isUserNotAvailableProxy")return!0;if(typeof t=="symbol"){const s=t.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function aA(n,e){return new Proxy(n,{get:(t,s,i)=>{if(s==="__isInsecureUserWarningProxy")return!0;if(typeof s=="symbol"){const o=s.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(t,s,i)}return!e.value&&typeof s=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(t,s,i)}})}function Jy(n){return JSON.parse(JSON.stringify(n))}const Xc=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),oA=[502,503,504];async function Xy(n){var e;if(!KC(n))throw new Nx(Xc(n),0);if(oA.includes(n.status))throw new Nx(Xc(n),n.status);let t;try{t=await n.json()}catch(o){throw new tu(Xc(o),o)}let s;const i=rA(n);if(i&&i.getTime()>=xb["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?s=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(s=t.error_code),s){if(s==="weak_password")throw new Wy(Xc(t),n.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(s==="session_not_found")throw new Fi}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((o,c)=>o&&typeof c=="string",!0))throw new Wy(Xc(t),n.status,t.weak_password.reasons);throw new DC(Xc(t),n.status||500,s)}const lA=(n,e,t,s)=>{const i={method:n,headers:e?.headers||{}};return n==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),i.body=JSON.stringify(s),Object.assign(Object.assign({},i),t))};async function Kt(n,e,t,s){var i;const o=Object.assign({},s?.headers);o[jx]||(o[jx]=xb["2024-01-01"].name),s?.jwt&&(o.Authorization=`Bearer ${s.jwt}`);const c=(i=s?.query)!==null&&i!==void 0?i:{};s?.redirectTo&&(c.redirect_to=s.redirectTo);const u=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",d=await cA(n,e,t+u,{headers:o,noResolveJson:s?.noResolveJson},{},s?.body);return s?.xform?s?.xform(d):{data:Object.assign({},d),error:null}}async function cA(n,e,t,s,i,o){const c=lA(e,s,i,o);let u;try{u=await n(t,Object.assign({},c))}catch(d){throw console.error(d),new Nx(Xc(d),0)}if(u.ok||await Xy(u),s?.noResolveJson)return u;try{return await u.json()}catch(d){await Xy(d)}}function Ra(n){var e;let t=null;hA(n)&&(t=Object.assign({},n),n.expires_at||(t.expires_at=HC(n.expires_in)));const s=(e=n.user)!==null&&e!==void 0?e:n;return{data:{session:t,user:s},error:null}}function Qy(n){const e=Ra(n);return!e.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((t,s)=>t&&typeof s=="string",!0)&&(e.data.weak_password=n.weak_password),e}function sc(n){var e;return{data:{user:(e=n.user)!==null&&e!==void 0?e:n},error:null}}function uA(n){return{data:n,error:null}}function dA(n){const{action_link:e,email_otp:t,hashed_token:s,redirect_to:i,verification_type:o}=n,c=hc(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:e,email_otp:t,hashed_token:s,redirect_to:i,verification_type:o},d=Object.assign({},c);return{data:{properties:u,user:d},error:null}}function Zy(n){return n}function hA(n){return n.access_token&&n.refresh_token&&n.expires_in}const Pg=["global","local","others"];class fA{constructor({url:e="",headers:t={},fetch:s}){this.url=e,this.headers=t,this.fetch=wb(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,t=Pg[0]){if(Pg.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Pg.join(", ")}`);try{return await Kt(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(s){if(Mt(s))return{data:null,error:s};throw s}}async inviteUserByEmail(e,t={}){try{return await Kt(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:sc})}catch(s){if(Mt(s))return{data:{user:null},error:s};throw s}}async generateLink(e){try{const{options:t}=e,s=hc(e,["options"]),i=Object.assign(Object.assign({},s),t);return"newEmail"in s&&(i.new_email=s?.newEmail,delete i.newEmail),await Kt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:dA,redirectTo:t?.redirectTo})}catch(t){if(Mt(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await Kt(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:sc})}catch(t){if(Mt(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,s,i,o,c,u,d;try{const h={nextPage:null,lastPage:0,total:0},p=await Kt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(t=e?.page)===null||t===void 0?void 0:t.toString())!==null&&s!==void 0?s:"",per_page:(o=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:Zy});if(p.error)throw p.error;const g=await p.json(),w=(c=p.headers.get("x-total-count"))!==null&&c!==void 0?c:0,x=(d=(u=p.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&d!==void 0?d:[];return x.length>0&&(x.forEach(S=>{const _=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(S.split(";")[1].split("=")[1]);h[`${k}Page`]=_}),h.total=parseInt(w)),{data:Object.assign(Object.assign({},g),h),error:null}}catch(h){if(Mt(h))return{data:{users:[]},error:h};throw h}}async getUserById(e){id(e);try{return await Kt(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:sc})}catch(t){if(Mt(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){id(e);try{return await Kt(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:sc})}catch(s){if(Mt(s))return{data:{user:null},error:s};throw s}}async deleteUser(e,t=!1){id(e);try{return await Kt(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:sc})}catch(s){if(Mt(s))return{data:{user:null},error:s};throw s}}async _listFactors(e){id(e.userId);try{const{data:t,error:s}=await Kt(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:t,error:s}}catch(t){if(Mt(t))return{data:null,error:t};throw t}}async _deleteFactor(e){id(e.userId),id(e.id);try{return{data:await Kt(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(Mt(t))return{data:null,error:t};throw t}}async _listOAuthClients(e){var t,s,i,o,c,u,d;try{const h={nextPage:null,lastPage:0,total:0},p=await Kt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(t=e?.page)===null||t===void 0?void 0:t.toString())!==null&&s!==void 0?s:"",per_page:(o=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:Zy});if(p.error)throw p.error;const g=await p.json(),w=(c=p.headers.get("x-total-count"))!==null&&c!==void 0?c:0,x=(d=(u=p.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&d!==void 0?d:[];return x.length>0&&(x.forEach(S=>{const _=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(S.split(";")[1].split("=")[1]);h[`${k}Page`]=_}),h.total=parseInt(w)),{data:Object.assign(Object.assign({},g),h),error:null}}catch(h){if(Mt(h))return{data:{clients:[]},error:h};throw h}}async _createOAuthClient(e){try{return await Kt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(Mt(t))return{data:null,error:t};throw t}}async _getOAuthClient(e){try{return await Kt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(Mt(t))return{data:null,error:t};throw t}}async _updateOAuthClient(e,t){try{return await Kt(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:t,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(Mt(s))return{data:null,error:s};throw s}}async _deleteOAuthClient(e){try{return await Kt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(t){if(Mt(t))return{data:null,error:t};throw t}}async _regenerateOAuthClientSecret(e){try{return await Kt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(Mt(t))return{data:null,error:t};throw t}}}function e1(n={}){return{getItem:e=>n[e]||null,setItem:(e,t)=>{n[e]=t},removeItem:e=>{delete n[e]}}}const ad={debug:!!(globalThis&&yb()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class bb extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class pA extends bb{}async function mA(n,e,t){ad.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,e);const s=new globalThis.AbortController;return e>0&&setTimeout(()=>{s.abort(),ad.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(n,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async i=>{if(i){ad.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,i.name);try{return await t()}finally{ad.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,i.name)}}else{if(e===0)throw ad.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new pA(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(ad.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}function gA(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function jb(n){if(!/^0x[a-fA-F0-9]{40}$/.test(n))throw new Error(`@supabase/auth-js: Address "${n}" is invalid.`);return n.toLowerCase()}function xA(n){return parseInt(n,16)}function vA(n){const e=new TextEncoder().encode(n);return"0x"+Array.from(e,s=>s.toString(16).padStart(2,"0")).join("")}function yA(n){var e;const{chainId:t,domain:s,expirationTime:i,issuedAt:o=new Date,nonce:c,notBefore:u,requestId:d,resources:h,scheme:p,uri:g,version:w}=n;{if(!Number.isInteger(t))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${t}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!g)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(w!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${w}`);if(!((e=n.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${n.statement}`)}const x=jb(n.address),S=p?`${p}://${s}`:s,_=n.statement?`${n.statement}
`:"",k=`${S} wants you to sign in with your Ethereum account:
${x}

${_}`;let b=`URI: ${g}
Version: ${w}
Chain ID: ${t}${c?`
Nonce: ${c}`:""}
Issued At: ${o.toISOString()}`;if(i&&(b+=`
Expiration Time: ${i.toISOString()}`),u&&(b+=`
Not Before: ${u.toISOString()}`),d&&(b+=`
Request ID: ${d}`),h){let R=`
Resources:`;for(const P of h){if(!P||typeof P!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${P}`);R+=`
- ${P}`}b+=R}return`${k}
${b}`}class Zn extends Error{constructor({message:e,code:t,cause:s,name:i}){var o;super(e,{cause:s}),this.__isWebAuthnError=!0,this.name=(o=i??(s instanceof Error?s.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=t}}class Tp extends Zn{constructor(e,t){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t,message:e}),this.name="WebAuthnUnknownError",this.originalError=t}}function wA({error:n,options:e}){var t,s,i;const{publicKey:o}=e;if(!o)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Zn({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else if(n.name==="ConstraintError"){if(((t=o.authenticatorSelection)===null||t===void 0?void 0:t.requireResidentKey)===!0)return new Zn({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:n});if(e.mediation==="conditional"&&((s=o.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Zn({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:n});if(((i=o.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Zn({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:n})}else{if(n.name==="InvalidStateError")return new Zn({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:n});if(n.name==="NotAllowedError")return new Zn({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="NotSupportedError")return o.pubKeyCredParams.filter(u=>u.type==="public-key").length===0?new Zn({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:n}):new Zn({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:n});if(n.name==="SecurityError"){const c=window.location.hostname;if(Nb(c)){if(o.rp.id!==c)return new Zn({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new Zn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new Zn({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:n})}else if(n.name==="UnknownError")return new Zn({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new Zn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}function bA({error:n,options:e}){const{publicKey:t}=e;if(!t)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Zn({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else{if(n.name==="NotAllowedError")return new Zn({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="SecurityError"){const s=window.location.hostname;if(Nb(s)){if(t.rpId!==s)return new Zn({message:`The RP ID "${t.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new Zn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="UnknownError")return new Zn({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new Zn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}class jA{createNewAbortSignal(){if(this.controller){const t=new Error("Cancelling existing WebAuthn API call for new one");t.name="AbortError",this.controller.abort(t)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const NA=new jA;function _A(n){if(!n)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(n);const{challenge:e,user:t,excludeCredentials:s}=n,i=hc(n,["challenge","user","excludeCredentials"]),o=bd(e).buffer,c=Object.assign(Object.assign({},t),{id:bd(t.id).buffer}),u=Object.assign(Object.assign({},i),{challenge:o,user:c});if(s&&s.length>0){u.excludeCredentials=new Array(s.length);for(let d=0;d<s.length;d++){const h=s[d];u.excludeCredentials[d]=Object.assign(Object.assign({},h),{id:bd(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return u}function SA(n){if(!n)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(n);const{challenge:e,allowCredentials:t}=n,s=hc(n,["challenge","allowCredentials"]),i=bd(e).buffer,o=Object.assign(Object.assign({},s),{challenge:i});if(t&&t.length>0){o.allowCredentials=new Array(t.length);for(let c=0;c<t.length;c++){const u=t[c];o.allowCredentials[c]=Object.assign(Object.assign({},u),{id:bd(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return o}function kA(n){var e;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const t=n;return{id:n.id,rawId:n.id,response:{attestationObject:su(new Uint8Array(n.response.attestationObject)),clientDataJSON:su(new Uint8Array(n.response.clientDataJSON))},type:"public-key",clientExtensionResults:n.getClientExtensionResults(),authenticatorAttachment:(e=t.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function CA(n){var e;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const t=n,s=n.getClientExtensionResults(),i=n.response;return{id:n.id,rawId:n.id,response:{authenticatorData:su(new Uint8Array(i.authenticatorData)),clientDataJSON:su(new Uint8Array(i.clientDataJSON)),signature:su(new Uint8Array(i.signature)),userHandle:i.userHandle?su(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:s,authenticatorAttachment:(e=t.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Nb(n){return n==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(n)}function t1(){var n,e;return!!(_s()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((n=navigator?.credentials)===null||n===void 0?void 0:n.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function AA(n){try{const e=await navigator.credentials.create(n);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Tp("Browser returned unexpected credential type",e)}:{data:null,error:new Tp("Empty credential response",e)}}catch(e){return{data:null,error:wA({error:e,options:n})}}}async function EA(n){try{const e=await navigator.credentials.get(n);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Tp("Browser returned unexpected credential type",e)}:{data:null,error:new Tp("Empty credential response",e)}}catch(e){return{data:null,error:bA({error:e,options:n})}}}const PA={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},TA={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Lp(...n){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),t=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),s={};for(const i of n)if(i)for(const o in i){const c=i[o];if(c!==void 0)if(Array.isArray(c))s[o]=c;else if(t(c))s[o]=c;else if(e(c)){const u=s[o];e(u)?s[o]=Lp(u,c):s[o]=Lp(c)}else s[o]=c}return s}function LA(n,e){return Lp(PA,n,e||{})}function IA(n,e){return Lp(TA,n,e||{})}class RA{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:t,friendlyName:s,signal:i},o){try{const{data:c,error:u}=await this.client.mfa.challenge({factorId:e,webauthn:t});if(!c)return{data:null,error:u};const d=i??NA.createNewAbortSignal();if(c.webauthn.type==="create"){const{user:h}=c.webauthn.credential_options.publicKey;h.name||(h.name=`${h.id}:${s}`),h.displayName||(h.displayName=h.name)}switch(c.webauthn.type){case"create":{const h=LA(c.webauthn.credential_options.publicKey,o?.create),{data:p,error:g}=await AA({publicKey:h,signal:d});return p?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:p}},error:null}:{data:null,error:g}}case"request":{const h=IA(c.webauthn.credential_options.publicKey,o?.request),{data:p,error:g}=await EA(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:h,signal:d}));return p?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:p}},error:null}:{data:null,error:g}}}}catch(c){return Mt(c)?{data:null,error:c}:{data:null,error:new tu("Unexpected error in challenge",c)}}}async _verify({challengeId:e,factorId:t,webauthn:s}){return this.client.mfa.verify({factorId:t,challengeId:e,webauthn:s})}async _authenticate({factorId:e,webauthn:{rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!t)return{data:null,error:new Dh("rpId is required for WebAuthn authentication")};try{if(!t1())return{data:null,error:new tu("Browser does not support WebAuthn",null)};const{data:c,error:u}=await this.challenge({factorId:e,webauthn:{rpId:t,rpOrigins:s},signal:i},{request:o});if(!c)return{data:null,error:u};const{webauthn:d}=c;return this._verify({factorId:e,challengeId:c.challengeId,webauthn:{type:d.type,rpId:t,rpOrigins:s,credential_response:d.credential_response}})}catch(c){return Mt(c)?{data:null,error:c}:{data:null,error:new tu("Unexpected error in authenticate",c)}}}async _register({friendlyName:e,webauthn:{rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!t)return{data:null,error:new Dh("rpId is required for WebAuthn registration")};try{if(!t1())return{data:null,error:new tu("Browser does not support WebAuthn",null)};const{data:c,error:u}=await this._enroll({friendlyName:e});if(!c)return await this.client.mfa.listFactors().then(p=>{var g;return(g=p.data)===null||g===void 0?void 0:g.all.find(w=>w.factor_type==="webauthn"&&w.friendly_name===e&&w.status!=="unverified")}).then(p=>p?this.client.mfa.unenroll({factorId:p?.id}):void 0),{data:null,error:u};const{data:d,error:h}=await this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:t,rpOrigins:s},signal:i},{create:o});return d?this._verify({factorId:c.id,challengeId:d.challengeId,webauthn:{rpId:t,rpOrigins:s,type:d.webauthn.type,credential_response:d.webauthn.credential_response}}):{data:null,error:h}}catch(c){return Mt(c)?{data:null,error:c}:{data:null,error:new tu("Unexpected error in register",c)}}}}gA();const OA={url:TC,storageKey:LC,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:IC,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function r1(n,e,t){return await t()}const od={};class Mh{get jwks(){var e,t;return(t=(e=od[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&t!==void 0?t:{keys:[]}}set jwks(e){od[this.storageKey]=Object.assign(Object.assign({},od[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return(t=(e=od[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&t!==void 0?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){od[this.storageKey]=Object.assign(Object.assign({},od[this.storageKey]),{cachedAt:e})}constructor(e){var t,s,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},OA),e);if(this.storageKey=o.storageKey,this.instanceID=(t=Mh.nextInstanceID[this.storageKey])!==null&&t!==void 0?t:0,Mh.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&_s()){const c=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(c),this.logDebugMessages&&console.trace(c)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new fA({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=wb(o.fetch),this.lock=o.lock||r1,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,o.lock?this.lock=o.lock:_s()&&(!((s=globalThis?.navigator)===null||s===void 0)&&s.locks)?this.lock=mA:this.lock=r1,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new RA(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:yb()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=e1(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=e1(this.memoryStorage)),_s()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${gb}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let t={},s="none";if(_s()&&(t=GC(window.location.href),this._isImplicitGrantCallback(t)?s="implicit":await this._isPKCECallback(t)&&(s="pkce")),_s()&&this.detectSessionInUrl&&s!=="none"){const{data:i,error:o}=await this._getSessionFromURL(t,s);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),BC(o)){const d=(e=o.details)===null||e===void 0?void 0:e.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:c,redirectType:u}=i;return this._debug("#_initialize()","detected session in URL",c,"redirect type",u),await this._saveSession(c),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return Mt(t)?this._returnResult({error:t}):this._returnResult({error:new tu("Unexpected error during initialization",t)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,s,i;try{const o=await Kt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(t=e?.options)===null||t===void 0?void 0:t.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(i=e?.options)===null||i===void 0?void 0:i.captchaToken}},xform:Ra}),{data:c,error:u}=o;if(u||!c)return this._returnResult({data:{user:null,session:null},error:u});const d=c.session,h=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:h,session:d},error:null})}catch(o){if(Mt(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(e){var t,s,i;try{let o;if("email"in e){const{email:p,password:g,options:w}=e;let x=null,S=null;this.flowType==="pkce"&&([x,S]=await sd(this.storage,this.storageKey)),o=await Kt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:w?.emailRedirectTo,body:{email:p,password:g,data:(t=w?.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:w?.captchaToken},code_challenge:x,code_challenge_method:S},xform:Ra})}else if("phone"in e){const{phone:p,password:g,options:w}=e;o=await Kt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:g,data:(s=w?.data)!==null&&s!==void 0?s:{},channel:(i=w?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:w?.captchaToken}},xform:Ra})}else throw new Jf("You must provide either an email or phone number and a password");const{data:c,error:u}=o;if(u||!c)return this._returnResult({data:{user:null,session:null},error:u});const d=c.session,h=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:h,session:d},error:null})}catch(o){if(Mt(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(e){try{let t;if("email"in e){const{email:o,password:c,options:u}=e;t=await Kt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:c,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:Qy})}else if("phone"in e){const{phone:o,password:c,options:u}=e;t=await Kt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:c,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:Qy})}else throw new Jf("You must provide either an email or phone number and a password");const{data:s,error:i}=t;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!s||!s.session||!s.user){const o=new nd;return this._returnResult({data:{user:null,session:null},error:o})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:i})}catch(t){if(Mt(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async signInWithOAuth(e){var t,s,i,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;switch(t){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${t}"`)}}async signInWithEthereum(e){var t,s,i,o,c,u,d,h,p,g,w;let x,S;if("message"in e)x=e.message,S=e.signature;else{const{chain:_,wallet:k,statement:b,options:R}=e;let P;if(_s())if(typeof k=="object")P=k;else{const Y=window;if("ethereum"in Y&&typeof Y.ethereum=="object"&&"request"in Y.ethereum&&typeof Y.ethereum.request=="function")P=Y.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!R?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");P=k}const T=new URL((t=R?.url)!==null&&t!==void 0?t:window.location.href),F=await P.request({method:"eth_requestAccounts"}).then(Y=>Y).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!F||F.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const ne=jb(F[0]);let ee=(s=R?.signInWithEthereum)===null||s===void 0?void 0:s.chainId;if(!ee){const Y=await P.request({method:"eth_chainId"});ee=xA(Y)}const K={domain:T.host,address:ne,statement:b,uri:T.href,version:"1",chainId:ee,nonce:(i=R?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(c=(o=R?.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(u=R?.signInWithEthereum)===null||u===void 0?void 0:u.expirationTime,notBefore:(d=R?.signInWithEthereum)===null||d===void 0?void 0:d.notBefore,requestId:(h=R?.signInWithEthereum)===null||h===void 0?void 0:h.requestId,resources:(p=R?.signInWithEthereum)===null||p===void 0?void 0:p.resources};x=yA(K),S=await P.request({method:"personal_sign",params:[vA(x),ne]})}try{const{data:_,error:k}=await Kt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:x,signature:S},!((g=e.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(w=e.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:Ra});if(k)throw k;if(!_||!_.session||!_.user){const b=new nd;return this._returnResult({data:{user:null,session:null},error:b})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:k})}catch(_){if(Mt(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async signInWithSolana(e){var t,s,i,o,c,u,d,h,p,g,w,x;let S,_;if("message"in e)S=e.message,_=e.signature;else{const{chain:k,wallet:b,statement:R,options:P}=e;let T;if(_s())if(typeof b=="object")T=b;else{const ne=window;if("solana"in ne&&typeof ne.solana=="object"&&("signIn"in ne.solana&&typeof ne.solana.signIn=="function"||"signMessage"in ne.solana&&typeof ne.solana.signMessage=="function"))T=ne.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!P?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");T=b}const F=new URL((t=P?.url)!==null&&t!==void 0?t:window.location.href);if("signIn"in T&&T.signIn){const ne=await T.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},P?.signInWithSolana),{version:"1",domain:F.host,uri:F.href}),R?{statement:R}:null));let ee;if(Array.isArray(ne)&&ne[0]&&typeof ne[0]=="object")ee=ne[0];else if(ne&&typeof ne=="object"&&"signedMessage"in ne&&"signature"in ne)ee=ne;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in ee&&"signature"in ee&&(typeof ee.signedMessage=="string"||ee.signedMessage instanceof Uint8Array)&&ee.signature instanceof Uint8Array)S=typeof ee.signedMessage=="string"?ee.signedMessage:new TextDecoder().decode(ee.signedMessage),_=ee.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in T)||typeof T.signMessage!="function"||!("publicKey"in T)||typeof T!="object"||!T.publicKey||!("toBase58"in T.publicKey)||typeof T.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");S=[`${F.host} wants you to sign in with your Solana account:`,T.publicKey.toBase58(),...R?["",R,""]:[""],"Version: 1",`URI: ${F.href}`,`Issued At: ${(i=(s=P?.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((o=P?.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${P.signInWithSolana.notBefore}`]:[],...!((c=P?.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${P.signInWithSolana.expirationTime}`]:[],...!((u=P?.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${P.signInWithSolana.chainId}`]:[],...!((d=P?.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${P.signInWithSolana.nonce}`]:[],...!((h=P?.signInWithSolana)===null||h===void 0)&&h.requestId?[`Request ID: ${P.signInWithSolana.requestId}`]:[],...!((g=(p=P?.signInWithSolana)===null||p===void 0?void 0:p.resources)===null||g===void 0)&&g.length?["Resources",...P.signInWithSolana.resources.map(ee=>`- ${ee}`)]:[]].join(`
`);const ne=await T.signMessage(new TextEncoder().encode(S),"utf8");if(!ne||!(ne instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=ne}}try{const{data:k,error:b}=await Kt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:S,signature:su(_)},!((w=e.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(x=e.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:Ra});if(b)throw b;if(!k||!k.session||!k.user){const R=new nd;return this._returnResult({data:{user:null,session:null},error:R})}return k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),this._returnResult({data:Object.assign({},k),error:b})}catch(k){if(Mt(k))return this._returnResult({data:{user:null,session:null},error:k});throw k}}async _exchangeCodeForSession(e){const t=await Yc(this.storage,`${this.storageKey}-code-verifier`),[s,i]=(t??"").split("/");try{const{data:o,error:c}=await Kt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:s},xform:Ra});if(await Zl(this.storage,`${this.storageKey}-code-verifier`),c)throw c;if(!o||!o.session||!o.user){const u=new nd;return this._returnResult({data:{user:null,session:null,redirectType:null},error:u})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:i??null}),error:c})}catch(o){if(Mt(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(e){try{const{options:t,provider:s,token:i,access_token:o,nonce:c}=e,u=await Kt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:i,access_token:o,nonce:c,gotrue_meta_security:{captcha_token:t?.captchaToken}},xform:Ra}),{data:d,error:h}=u;if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!d||!d.session||!d.user){const p=new nd;return this._returnResult({data:{user:null,session:null},error:p})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:d,error:h})}catch(t){if(Mt(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async signInWithOtp(e){var t,s,i,o,c;try{if("email"in e){const{email:u,options:d}=e;let h=null,p=null;this.flowType==="pkce"&&([h,p]=await sd(this.storage,this.storageKey));const{error:g}=await Kt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(t=d?.data)!==null&&t!==void 0?t:{},create_user:(s=d?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},code_challenge:h,code_challenge_method:p},redirectTo:d?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:g})}if("phone"in e){const{phone:u,options:d}=e,{data:h,error:p}=await Kt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(i=d?.data)!==null&&i!==void 0?i:{},create_user:(o=d?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},channel:(c=d?.channel)!==null&&c!==void 0?c:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:h?.message_id},error:p})}throw new Jf("You must provide either an email or phone number.")}catch(u){if(Mt(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async verifyOtp(e){var t,s;try{let i,o;"options"in e&&(i=(t=e.options)===null||t===void 0?void 0:t.redirectTo,o=(s=e.options)===null||s===void 0?void 0:s.captchaToken);const{data:c,error:u}=await Kt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:i,xform:Ra});if(u)throw u;if(!c)throw new Error("An error occurred on token verification.");const d=c.session,h=c.user;return d?.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),this._returnResult({data:{user:h,session:d},error:null})}catch(i){if(Mt(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var t,s,i,o,c;try{let u=null,d=null;this.flowType==="pkce"&&([u,d]=await sd(this.storage,this.storageKey));const h=await Kt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(s=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&s!==void 0?s:void 0}),!((i=e?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:u,code_challenge_method:d}),headers:this.headers,xform:uA});return!((o=h.data)===null||o===void 0)&&o.url&&_s()&&!(!((c=e.options)===null||c===void 0)&&c.skipBrowserRedirect)&&window.location.assign(h.data.url),this._returnResult(h)}catch(u){if(Mt(u))return this._returnResult({data:null,error:u});throw u}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:s}=e;if(s)throw s;if(!t)throw new Fi;const{error:i}=await Kt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if(Mt(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:s,type:i,options:o}=e,{error:c}=await Kt(this.fetch,"POST",t,{headers:this.headers,body:{email:s,type:i,gotrue_meta_security:{captcha_token:o?.captchaToken}},redirectTo:o?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:c})}else if("phone"in e){const{phone:s,type:i,options:o}=e,{data:c,error:u}=await Kt(this.fetch,"POST",t,{headers:this.headers,body:{phone:s,type:i,gotrue_meta_security:{captcha_token:o?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:c?.message_id},error:u})}throw new Jf("You must provide either an email or phone number and a type")}catch(t){if(Mt(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await s,await t()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=t();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await Yc(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const s=e.expires_at?e.expires_at*1e3-Date.now()<kg:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",e.expires_at),!s){if(this.userStorage){const c=await Yc(this.userStorage,this.storageKey+"-user");c?.user?e.user=c.user:e.user=Eg()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const c={value:this.suppressGetSessionWarning};e.user=aA(e.user,c),c.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Kt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:sc}):await this._useSession(async t=>{var s,i,o;const{data:c,error:u}=t;if(u)throw u;return!(!((s=c.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Fi}:await Kt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(i=c.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0,xform:sc})})}catch(t){if(Mt(t))return FC(t)&&(await this._removeSession(),await Zl(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:t});throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async s=>{const{data:i,error:o}=s;if(o)throw o;if(!i.session)throw new Fi;const c=i.session;let u=null,d=null;this.flowType==="pkce"&&e.email!=null&&([u,d]=await sd(this.storage,this.storageKey));const{data:h,error:p}=await Kt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:u,code_challenge_method:d}),jwt:c.access_token,xform:sc});if(p)throw p;return c.user=h.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),this._returnResult({data:{user:c.user},error:null})})}catch(s){if(Mt(s))return this._returnResult({data:{user:null},error:s});throw s}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Fi;const t=Date.now()/1e3;let s=t,i=!0,o=null;const{payload:c}=Ag(e.access_token);if(c.exp&&(s=c.exp,i=s<=t),i){const{data:u,error:d}=await this._callRefreshToken(e.refresh_token);if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!u)return{data:{user:null,session:null},error:null};o=u}else{const{data:u,error:d}=await this._getUser(e.access_token);if(d)throw d;o={access_token:e.access_token,refresh_token:e.refresh_token,user:u.user,token_type:"bearer",expires_in:s-t,expires_at:s},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(t){if(Mt(t))return this._returnResult({data:{session:null,user:null},error:t});throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var s;if(!e){const{data:c,error:u}=t;if(u)throw u;e=(s=c.session)!==null&&s!==void 0?s:void 0}if(!e?.refresh_token)throw new Fi;const{data:i,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(t){if(Mt(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async _getSessionFromURL(e,t){try{if(!_s())throw new Xf("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Xf(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new Hy("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Xf("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Hy("No code detected.");const{data:R,error:P}=await this._exchangeCodeForSession(e.code);if(P)throw P;const T=new URL(window.location.href);return T.searchParams.delete("code"),window.history.replaceState(window.history.state,"",T.toString()),{data:{session:R.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:i,access_token:o,refresh_token:c,expires_in:u,expires_at:d,token_type:h}=e;if(!o||!u||!c||!h)throw new Xf("No session defined in URL");const p=Math.round(Date.now()/1e3),g=parseInt(u);let w=p+g;d&&(w=parseInt(d));const x=w-p;x*1e3<=pd&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${g}s`);const S=w-g;p-S>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",S,w,p):p-S<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",S,w,p);const{data:_,error:k}=await this._getUser(o);if(k)throw k;const b={provider_token:s,provider_refresh_token:i,access_token:o,expires_in:g,expires_at:w,refresh_token:c,token_type:h,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:b,redirectType:e.type},error:null})}catch(s){if(Mt(s))return this._returnResult({data:{session:null,redirectType:null},error:s});throw s}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await Yc(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var s;const{data:i,error:o}=t;if(o)return this._returnResult({error:o});const c=(s=i.session)===null||s===void 0?void 0:s.access_token;if(c){const{error:u}=await this.admin.signOut(c,e);if(u&&!(MC(u)&&(u.status===404||u.status===401||u.status===403)))return this._returnResult({error:u})}return e!=="others"&&(await this._removeSession(),await Zl(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const t=WC(),s={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:s}}}async _emitInitialSession(e){return await this._useSession(async t=>{var s,i;try{const{data:{session:o},error:c}=t;if(c)throw c;await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,t={}){let s=null,i=null;this.flowType==="pkce"&&([s,i]=await sd(this.storage,this.storageKey,!0));try{return await Kt(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:s,code_challenge_method:i,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(o){if(Mt(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var e;try{const{data:t,error:s}=await this.getUser();if(s)throw s;return this._returnResult({data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(t){if(Mt(t))return this._returnResult({data:null,error:t});throw t}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var t;try{const{data:s,error:i}=await this._useSession(async o=>{var c,u,d,h,p;const{data:g,error:w}=o;if(w)throw w;const x=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(c=e.options)===null||c===void 0?void 0:c.redirectTo,scopes:(u=e.options)===null||u===void 0?void 0:u.scopes,queryParams:(d=e.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await Kt(this.fetch,"GET",x,{headers:this.headers,jwt:(p=(h=g.session)===null||h===void 0?void 0:h.access_token)!==null&&p!==void 0?p:void 0})});if(i)throw i;return _s()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(s?.url),this._returnResult({data:{provider:e.provider,url:s?.url},error:null})}catch(s){if(Mt(s))return this._returnResult({data:{provider:e.provider,url:null},error:s});throw s}}async linkIdentityIdToken(e){return await this._useSession(async t=>{var s;try{const{error:i,data:{session:o}}=t;if(i)throw i;const{options:c,provider:u,token:d,access_token:h,nonce:p}=e,g=await Kt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(s=o?.access_token)!==null&&s!==void 0?s:void 0,body:{provider:u,id_token:d,access_token:h,nonce:p,link_identity:!0,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:Ra}),{data:w,error:x}=g;return x?this._returnResult({data:{user:null,session:null},error:x}):!w||!w.session||!w.user?this._returnResult({data:{user:null,session:null},error:new nd}):(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("USER_UPDATED",w.session)),this._returnResult({data:w,error:x}))}catch(i){if(Mt(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async t=>{var s,i;const{data:o,error:c}=t;if(c)throw c;return await Kt(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0})})}catch(t){if(Mt(t))return this._returnResult({data:null,error:t});throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const s=Date.now();return await JC(async i=>(i>0&&await YC(200*Math.pow(2,i-1)),this._debug(t,"refreshing attempt",i),await Kt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Ra})),(i,o)=>{const c=200*Math.pow(2,i);return o&&Cg(o)&&Date.now()+c-s<pd})}catch(s){if(this._debug(t,"error",s),Mt(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const s=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",s),_s()&&!t.skipBrowserRedirect&&window.location.assign(s),{data:{provider:e,url:s},error:null}}async _recoverAndRefresh(){var e,t;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const i=await Yc(this.storage,this.storageKey);if(i&&this.userStorage){let c=await Yc(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:i.user},await md(this.userStorage,this.storageKey+"-user",c)),i.user=(e=c?.user)!==null&&e!==void 0?e:Eg()}else if(i&&!i.user&&!i.user){const c=await Yc(this.storage,this.storageKey+"-user");c&&c?.user?(i.user=c.user,await Zl(this.storage,this.storageKey+"-user"),await md(this.storage,this.storageKey,i)):i.user=Eg()}if(this._debug(s,"session from storage",i),!this._isValidSession(i)){this._debug(s,"session is not valid"),i!==null&&await this._removeSession();return}const o=((t=i.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<kg;if(this._debug(s,`session has${o?"":" not"} expired with margin of ${kg}s`),o){if(this.autoRefreshToken&&i.refresh_token){const{error:c}=await this._callRefreshToken(i.refresh_token);c&&(console.error(c),Cg(c)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:u}=await this._getUser(i.access_token);!u&&c?.user?(i.user=c.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(s,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(s,"error",i),console.error(i);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var t,s;if(!e)throw new Fi;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new tm;const{data:o,error:c}=await this._refreshAccessToken(e);if(c)throw c;if(!o.session)throw new Fi;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const u={data:o.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(o){if(this._debug(i,"error",o),Mt(o)){const c={data:null,error:o};return Cg(o)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(c),c}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(o),o}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,t,s=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",t,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:e,session:t});const o=[],c=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(e,t)}catch(d){o.push(d)}});if(await Promise.all(c),o.length>0){for(let u=0;u<o.length;u+=1)console.error(o[u]);throw o[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const t=Object.assign({},e),s=t.user&&t.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&t.user&&await md(this.userStorage,this.storageKey+"-user",{user:t.user});const i=Object.assign({},t);delete i.user;const o=Jy(i);await md(this.storage,this.storageKey,o)}else{const i=Jy(t);await md(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Zl(this.storage,this.storageKey),await Zl(this.storage,this.storageKey+"-code-verifier"),await Zl(this.storage,this.storageKey+"-user"),this.userStorage&&await Zl(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&_s()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),pd);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:s}}=t;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((s.expires_at*1e3-e)/pd);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${pd}ms, refresh threshold is ${bx} ticks`),i<=bx&&await this._callRefreshToken(s.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof bb)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!_s()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,s){const i=[`provider=${encodeURIComponent(t)}`];if(s?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s?.scopes&&i.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[o,c]=await sd(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(c)}`});i.push(u.toString())}if(s?.queryParams){const o=new URLSearchParams(s.queryParams);i.push(o.toString())}return s?.skipBrowserRedirect&&i.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var s;const{data:i,error:o}=t;return o?this._returnResult({data:null,error:o}):await Kt(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(s=i?.session)===null||s===void 0?void 0:s.access_token})})}catch(t){if(Mt(t))return this._returnResult({data:null,error:t});throw t}}async _enroll(e){try{return await this._useSession(async t=>{var s,i;const{data:o,error:c}=t;if(c)return this._returnResult({data:null,error:c});const u=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:d,error:h}=await Kt(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(s=o?.session)===null||s===void 0?void 0:s.access_token});return h?this._returnResult({data:null,error:h}):(e.factorType==="totp"&&d.type==="totp"&&(!((i=d?.totp)===null||i===void 0)&&i.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),this._returnResult({data:d,error:null}))})}catch(t){if(Mt(t))return this._returnResult({data:null,error:t});throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var s;const{data:i,error:o}=t;if(o)return this._returnResult({data:null,error:o});const c=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?kA(e.webauthn.credential_response):CA(e.webauthn.credential_response)})}:{code:e.code}),{data:u,error:d}=await Kt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:c,headers:this.headers,jwt:(s=i?.session)===null||s===void 0?void 0:s.access_token});return d?this._returnResult({data:null,error:d}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),this._returnResult({data:u,error:d}))})}catch(t){if(Mt(t))return this._returnResult({data:null,error:t});throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var s;const{data:i,error:o}=t;if(o)return this._returnResult({data:null,error:o});const c=await Kt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(s=i?.session)===null||s===void 0?void 0:s.access_token});if(c.error)return c;const{data:u}=c;if(u.type!=="webauthn")return{data:u,error:null};switch(u.webauthn.type){case"create":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:_A(u.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:SA(u.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(t){if(Mt(t))return this._returnResult({data:null,error:t});throw t}})}async _challengeAndVerify(e){const{data:t,error:s}=await this._challenge({factorId:e.factorId});return s?this._returnResult({data:null,error:s}):await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){var e;const{data:{user:t},error:s}=await this.getUser();if(s)return{data:null,error:s};const i={all:[],phone:[],totp:[],webauthn:[]};for(const o of(e=t?.factors)!==null&&e!==void 0?e:[])i.all.push(o),o.status==="verified"&&i[o.factor_type].push(o);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var e,t;const{data:{session:s},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Ag(s.access_token);let c=null;o.aal&&(c=o.aal);let u=c;((t=(e=s.user.factors)===null||e===void 0?void 0:e.filter(p=>p.status==="verified"))!==null&&t!==void 0?t:[]).length>0&&(u="aal2");const h=o.amr||[];return{data:{currentLevel:c,nextLevel:u,currentAuthenticationMethods:h},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async t=>{const{data:{session:s},error:i}=t;return i?this._returnResult({data:null,error:i}):s?await Kt(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:s.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new Fi})})}catch(t){if(Mt(t))return this._returnResult({data:null,error:t});throw t}}async _approveAuthorization(e,t){try{return await this._useSession(async s=>{const{data:{session:i},error:o}=s;if(o)return this._returnResult({data:null,error:o});if(!i)return this._returnResult({data:null,error:new Fi});const c=await Kt(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:u=>({data:u,error:null})});return c.data&&c.data.redirect_url&&_s()&&!t?.skipBrowserRedirect&&window.location.assign(c.data.redirect_url),c})}catch(s){if(Mt(s))return this._returnResult({data:null,error:s});throw s}}async _denyAuthorization(e,t){try{return await this._useSession(async s=>{const{data:{session:i},error:o}=s;if(o)return this._returnResult({data:null,error:o});if(!i)return this._returnResult({data:null,error:new Fi});const c=await Kt(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:u=>({data:u,error:null})});return c.data&&c.data.redirect_url&&_s()&&!t?.skipBrowserRedirect&&window.location.assign(c.data.redirect_url),c})}catch(s){if(Mt(s))return this._returnResult({data:null,error:s});throw s}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:t},error:s}=e;return s?this._returnResult({data:null,error:s}):t?await Kt(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:t.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Fi})})}catch(e){if(Mt(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async t=>{const{data:{session:s},error:i}=t;return i?this._returnResult({data:null,error:i}):s?(await Kt(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Fi})})}catch(t){if(Mt(t))return this._returnResult({data:null,error:t});throw t}}async fetchJwk(e,t={keys:[]}){let s=t.keys.find(u=>u.kid===e);if(s)return s;const i=Date.now();if(s=this.jwks.keys.find(u=>u.kid===e),s&&this.jwks_cached_at+OC>i)return s;const{data:o,error:c}=await Kt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=i,s=o.keys.find(u=>u.kid===e),!s)?null:s}async getClaims(e,t={}){try{let s=e;if(!s){const{data:x,error:S}=await this.getSession();if(S||!x.session)return this._returnResult({data:null,error:S});s=x.session.access_token}const{header:i,payload:o,signature:c,raw:{header:u,payload:d}}=Ag(s);t?.allowExpired||nA(o.exp);const h=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,t?.keys?{keys:t.keys}:t?.jwks);if(!h){const{error:x}=await this.getUser(s);if(x)throw x;return{data:{claims:o,header:i,signature:c},error:null}}const p=sA(i.alg),g=await crypto.subtle.importKey("jwk",h,p,!0,["verify"]);if(!await crypto.subtle.verify(p,g,c,VC(`${u}.${d}`)))throw new _x("Invalid JWT signature");return{data:{claims:o,header:i,signature:c},error:null}}catch(s){if(Mt(s))return this._returnResult({data:null,error:s});throw s}}}Mh.nextInstanceID={};const DA=Mh;class MA extends DA{constructor(e){super(e)}}class FA{constructor(e,t,s){var i,o,c;this.supabaseUrl=e,this.supabaseKey=t;const u=PC(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const d=`sb-${u.hostname.split(".")[0]}-auth-token`,h={db:jC,realtime:_C,auth:Object.assign(Object.assign({},NC),{storageKey:d}),global:bC},p=EC(s??{},h);this.storageKey=(i=p.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(o=p.global.headers)!==null&&o!==void 0?o:{},p.accessToken?(this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(g,w)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(w)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((c=p.auth)!==null&&c!==void 0?c:{},this.headers,p.global.fetch),this.fetch=CC(t,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.accessToken&&this.accessToken().then(g=>this.realtime.setAuth(g)).catch(g=>console.warn("Failed to set initial Realtime auth token:",g)),this.rest=new _k(new URL("rest/v1",u).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),this.storage=new vC(this.storageUrl.href,this.headers,this.fetch,s?.storage),p.accessToken||this._listenForAuthEvents()}get functions(){return new wk(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},s={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,s)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,t;if(this.accessToken)return await this.accessToken();const{data:s}=await this.auth.getSession();return(t=(e=s.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:s,storage:i,userStorage:o,storageKey:c,flowType:u,lock:d,debug:h,throwOnError:p},g,w){const x={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new MA({url:this.authUrl.href,headers:Object.assign(Object.assign({},x),g),storageKey:c,autoRefreshToken:e,persistSession:t,detectSessionInUrl:s,storage:i,userStorage:o,flowType:u,lock:d,debug:h,throwOnError:p,fetch:w,hasCustomAuthorizationHeader:Object.keys(this.headers).some(S=>S.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new $k(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,s)=>{this._handleTokenChanged(t,"CLIENT",s?.access_token)})}_handleTokenChanged(e,t,s){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==s?(this.changedAccessToken=s,this.realtime.setAuth(s)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const BA=(n,e,t)=>new FA(n,e,t);function UA(){if(typeof window<"u"||typeof process>"u")return!1;const n=process.version;if(n==null)return!1;const e=n.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}UA()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const $A="khpiznboahwnszaavtig",zA="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtocGl6bmJvYWh3bnN6YWF2dGlnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjE3NTYzNTgsImV4cCI6MjA3NzMzMjM1OH0.yjfWUrxKKKd2blcS6Yru6GBI4sXjh6fEWZbP4sq6mPk",qA=`https://${$A}.supabase.co`,VA=zA,Ge=BA(qA,VA,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0},global:{headers:{"x-client-info":"eazibook-web@1.0.0"},fetch:(n,e={})=>{const t=new AbortController,s=setTimeout(()=>t.abort(),1e4);return fetch(n,{...e,signal:t.signal}).finally(()=>clearTimeout(s))}},db:{schema:"public"},realtime:{params:{eventsPerSecond:10}}}),_b=C.createContext(void 0);function HA({children:n}){const[e,t]=C.useState(null),[s,i]=C.useState(!0);C.useEffect(()=>{o();const{data:{subscription:h}}=Ge.auth.onAuthStateChange(async(p,g)=>{if(g?.user)try{const w=new Promise((k,b)=>setTimeout(()=>b(new Error("profile-timeout")),3e3)),x=Ge.from("profiles").select("full_name").eq("id",g.user.id).single(),_=(await Promise.race([x,w]))?.data;t({id:g.user.id,email:g.user.email||"",name:_?.full_name||g.user.email?.split("@")[0]||"User"})}catch{t({id:g.user.id,email:g.user.email||"",name:g.user.email?.split("@")[0]||"User"})}else t(null)});return()=>{h.unsubscribe()}},[]);const o=async()=>{try{const h=new Promise((w,x)=>setTimeout(()=>x(new Error("timeout")),8e3)),p=Ge.auth.getSession();let g;try{g=(await Promise.race([p,h]))?.data?.session}catch(w){if(w.message==="timeout"){t(null),i(!1);return}throw w}if(g?.user)try{const w=new Promise((k,b)=>setTimeout(()=>b(new Error("profile-timeout")),3e3)),x=Ge.from("profiles").select("full_name").eq("id",g.user.id).single(),_=(await Promise.race([x,w]))?.data;t({id:g.user.id,email:g.user.email||"",name:_?.full_name||g.user.email?.split("@")[0]||"User"})}catch{t({id:g.user.id,email:g.user.email||"",name:g.user.email?.split("@")[0]||"User"})}else t(null)}catch(h){h.message,t(null)}finally{i(!1)}},c=async(h,p,g)=>{const{data:w,error:x}=await Ge.auth.signUp({email:h,password:p,options:{data:{full_name:g}}});if(x)throw new Error(x.message||"Signup failed");if(w.user){try{const{data:S}=await Ge.from("profiles").select("id, company_id").eq("id",w.user.id).single();if(S){if(!S.company_id){const{data:_,error:k}=await Ge.from("companies").insert({name:`${g}'s Company`,email:h,currency:"NGN"}).select().single();!k&&_&&await Ge.from("profiles").update({company_id:_.id}).eq("id",w.user.id)}}else{const{data:_,error:k}=await Ge.from("companies").insert({name:`${g}'s Company`,email:h,currency:"NGN"}).select().single();!k&&_&&await Ge.from("profiles").insert({id:w.user.id,email:w.user.email,full_name:g,company_id:_.id,role:"admin"})}}catch{console.log("Profile setup handled by database trigger or already exists")}t({id:w.user.id,email:w.user.email||"",name:g})}},u=async(h,p)=>{const{data:g,error:w}=await Ge.auth.signInWithPassword({email:h,password:p});if(w)throw new Error(w.message||"Login failed");if(g.user)try{const{data:x}=await Ge.from("profiles").select("full_name").eq("id",g.user.id).single();t({id:g.user.id,email:g.user.email||"",name:x?.full_name||g.user.email?.split("@")[0]||"User"})}catch{t({id:g.user.id,email:g.user.email||"",name:g.user.email?.split("@")[0]||"User"})}},d=async()=>{try{await Ge.auth.signOut()}catch(h){console.error("Error during logout:",h)}finally{t(null)}};return r.jsx(_b.Provider,{value:{user:e,isLoading:s,login:u,signup:c,logout:d},children:n})}function Kh(){const n=C.useContext(_b);if(n===void 0)throw new Error("useAuth must be used within an AuthProvider");return n}function WA(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.appendChild(t),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}const GA=n=>{switch(n){case"success":return JA;case"info":return QA;case"warning":return XA;case"error":return ZA;default:return null}},KA=Array(12).fill(0),YA=({visible:n,className:e})=>nt.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":n},nt.createElement("div",{className:"sonner-spinner"},KA.map((t,s)=>nt.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${s}`})))),JA=nt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},nt.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),XA=nt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},nt.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),QA=nt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},nt.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),ZA=nt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},nt.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),eE=nt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},nt.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),nt.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),tE=()=>{const[n,e]=nt.useState(document.hidden);return nt.useEffect(()=>{const t=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",t),()=>window.removeEventListener("visibilitychange",t)},[]),n};let Sx=1;class rE{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;const{message:s,...i}=e,o=typeof e?.id=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Sx++,c=this.toasts.find(d=>d.id===o),u=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(o)&&this.dismissedToasts.delete(o),c?this.toasts=this.toasts.map(d=>d.id===o?(this.publish({...d,...e,id:o,title:s}),{...d,...e,id:o,dismissible:u,title:s}):d):this.addToast({title:s,...i,dismissible:u,id:o}),o},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(t=>t({id:e,dismiss:!0})))):this.toasts.forEach(t=>{this.subscribers.forEach(s=>s({id:t.id,dismiss:!0}))}),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let s;t.loading!==void 0&&(s=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));const i=Promise.resolve(e instanceof Function?e():e);let o=s!==void 0,c;const u=i.then(async h=>{if(c=["resolve",h],nt.isValidElement(h))o=!1,this.create({id:s,type:"default",message:h});else if(sE(h)&&!h.ok){o=!1;const g=typeof t.error=="function"?await t.error(`HTTP error! status: ${h.status}`):t.error,w=typeof t.description=="function"?await t.description(`HTTP error! status: ${h.status}`):t.description,S=typeof g=="object"&&!nt.isValidElement(g)?g:{message:g};this.create({id:s,type:"error",description:w,...S})}else if(h instanceof Error){o=!1;const g=typeof t.error=="function"?await t.error(h):t.error,w=typeof t.description=="function"?await t.description(h):t.description,S=typeof g=="object"&&!nt.isValidElement(g)?g:{message:g};this.create({id:s,type:"error",description:w,...S})}else if(t.success!==void 0){o=!1;const g=typeof t.success=="function"?await t.success(h):t.success,w=typeof t.description=="function"?await t.description(h):t.description,S=typeof g=="object"&&!nt.isValidElement(g)?g:{message:g};this.create({id:s,type:"success",description:w,...S})}}).catch(async h=>{if(c=["reject",h],t.error!==void 0){o=!1;const p=typeof t.error=="function"?await t.error(h):t.error,g=typeof t.description=="function"?await t.description(h):t.description,x=typeof p=="object"&&!nt.isValidElement(p)?p:{message:p};this.create({id:s,type:"error",description:g,...x})}}).finally(()=>{o&&(this.dismiss(s),s=void 0),t.finally==null||t.finally.call(t)}),d=()=>new Promise((h,p)=>u.then(()=>c[0]==="reject"?p(c[1]):h(c[1])).catch(p));return typeof s!="string"&&typeof s!="number"?{unwrap:d}:Object.assign(s,{unwrap:d})},this.custom=(e,t)=>{const s=t?.id||Sx++;return this.create({jsx:e(s),id:s,...t}),s},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const gi=new rE,nE=(n,e)=>{const t=e?.id||Sx++;return gi.addToast({title:n,...e,id:t}),t},sE=n=>n&&typeof n=="object"&&"ok"in n&&typeof n.ok=="boolean"&&"status"in n&&typeof n.status=="number",iE=nE,aE=()=>gi.toasts,oE=()=>gi.getActiveToasts(),Le=Object.assign(iE,{success:gi.success,info:gi.info,warning:gi.warning,error:gi.error,custom:gi.custom,message:gi.message,promise:gi.promise,dismiss:gi.dismiss,loading:gi.loading},{getHistory:aE,getToasts:oE});WA("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Qf(n){return n.label!==void 0}const lE=3,cE="24px",uE="16px",n1=4e3,dE=356,hE=14,fE=45,pE=200;function fo(...n){return n.filter(Boolean).join(" ")}function mE(n){const[e,t]=n.split("-"),s=[];return e&&s.push(e),t&&s.push(t),s}const gE=n=>{var e,t,s,i,o,c,u,d,h;const{invert:p,toast:g,unstyled:w,interacting:x,setHeights:S,visibleToasts:_,heights:k,index:b,toasts:R,expanded:P,removeToast:T,defaultRichColors:F,closeButton:ne,style:ee,cancelButtonStyle:K,actionButtonStyle:Y,className:q="",descriptionClassName:L="",duration:z,position:U,gap:te,expandByDefault:re,classNames:ue,icons:fe,closeButtonAriaLabel:B="Close toast"}=n,[Z,me]=nt.useState(null),[H,O]=nt.useState(null),[V,X]=nt.useState(!1),[se,de]=nt.useState(!1),[le,ge]=nt.useState(!1),[be,Se]=nt.useState(!1),[De,Je]=nt.useState(!1),[tt,ut]=nt.useState(0),[ie,st]=nt.useState(0),zt=nt.useRef(g.duration||z||n1),Bt=nt.useRef(null),We=nt.useRef(null),Ot=b===0,ct=b+1<=_,ht=g.type,_t=g.dismissible!==!1,_r=g.className||"",lr=g.descriptionClassName||"",Wt=nt.useMemo(()=>k.findIndex(lt=>lt.toastId===g.id)||0,[k,g.id]),cr=nt.useMemo(()=>{var lt;return(lt=g.closeButton)!=null?lt:ne},[g.closeButton,ne]),nr=nt.useMemo(()=>g.duration||z||n1,[g.duration,z]),gt=nt.useRef(0),$t=nt.useRef(0),xt=nt.useRef(0),$r=nt.useRef(null),[pr,sr]=U.split("-"),ir=nt.useMemo(()=>k.reduce((lt,Wr,yr)=>yr>=Wt?lt:lt+Wr.height,0),[k,Wt]),Dr=tE(),Dt=g.invert||p,kr=ht==="loading";$t.current=nt.useMemo(()=>Wt*te+ir,[Wt,ir]),nt.useEffect(()=>{zt.current=nr},[nr]),nt.useEffect(()=>{X(!0)},[]),nt.useEffect(()=>{const lt=We.current;if(lt){const Wr=lt.getBoundingClientRect().height;return st(Wr),S(yr=>[{toastId:g.id,height:Wr,position:g.position},...yr]),()=>S(yr=>yr.filter(on=>on.toastId!==g.id))}},[S,g.id]),nt.useLayoutEffect(()=>{if(!V)return;const lt=We.current,Wr=lt.style.height;lt.style.height="auto";const yr=lt.getBoundingClientRect().height;lt.style.height=Wr,st(yr),S(on=>on.find(dt=>dt.toastId===g.id)?on.map(dt=>dt.toastId===g.id?{...dt,height:yr}:dt):[{toastId:g.id,height:yr,position:g.position},...on])},[V,g.title,g.description,S,g.id,g.jsx,g.action,g.cancel]);const Et=nt.useCallback(()=>{de(!0),ut($t.current),S(lt=>lt.filter(Wr=>Wr.toastId!==g.id)),setTimeout(()=>{T(g)},pE)},[g,T,S,$t]);nt.useEffect(()=>{if(g.promise&&ht==="loading"||g.duration===1/0||g.type==="loading")return;let lt;return P||x||Dr?(()=>{if(xt.current<gt.current){const on=new Date().getTime()-gt.current;zt.current=zt.current-on}xt.current=new Date().getTime()})():(()=>{zt.current!==1/0&&(gt.current=new Date().getTime(),lt=setTimeout(()=>{g.onAutoClose==null||g.onAutoClose.call(g,g),Et()},zt.current))})(),()=>clearTimeout(lt)},[P,x,g,ht,Dr,Et]),nt.useEffect(()=>{g.delete&&(Et(),g.onDismiss==null||g.onDismiss.call(g,g))},[Et,g.delete]);function Yt(){var lt;if(fe?.loading){var Wr;return nt.createElement("div",{className:fo(ue?.loader,g==null||(Wr=g.classNames)==null?void 0:Wr.loader,"sonner-loader"),"data-visible":ht==="loading"},fe.loading)}return nt.createElement(YA,{className:fo(ue?.loader,g==null||(lt=g.classNames)==null?void 0:lt.loader),visible:ht==="loading"})}const Pr=g.icon||fe?.[ht]||GA(ht);var Xt,Ut;return nt.createElement("li",{tabIndex:0,ref:We,className:fo(q,_r,ue?.toast,g==null||(e=g.classNames)==null?void 0:e.toast,ue?.default,ue?.[ht],g==null||(t=g.classNames)==null?void 0:t[ht]),"data-sonner-toast":"","data-rich-colors":(Xt=g.richColors)!=null?Xt:F,"data-styled":!(g.jsx||g.unstyled||w),"data-mounted":V,"data-promise":!!g.promise,"data-swiped":De,"data-removed":se,"data-visible":ct,"data-y-position":pr,"data-x-position":sr,"data-index":b,"data-front":Ot,"data-swiping":le,"data-dismissible":_t,"data-type":ht,"data-invert":Dt,"data-swipe-out":be,"data-swipe-direction":H,"data-expanded":!!(P||re&&V),"data-testid":g.testId,style:{"--index":b,"--toasts-before":b,"--z-index":R.length-b,"--offset":`${se?tt:$t.current}px`,"--initial-height":re?"auto":`${ie}px`,...ee,...g.style},onDragEnd:()=>{ge(!1),me(null),$r.current=null},onPointerDown:lt=>{lt.button!==2&&(kr||!_t||(Bt.current=new Date,ut($t.current),lt.target.setPointerCapture(lt.pointerId),lt.target.tagName!=="BUTTON"&&(ge(!0),$r.current={x:lt.clientX,y:lt.clientY})))},onPointerUp:()=>{var lt,Wr,yr;if(be||!_t)return;$r.current=null;const on=Number(((lt=We.current)==null?void 0:lt.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),es=Number(((Wr=We.current)==null?void 0:Wr.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),dt=new Date().getTime()-((yr=Bt.current)==null?void 0:yr.getTime()),Zr=Z==="x"?on:es,cs=Math.abs(Zr)/dt;if(Math.abs(Zr)>=fE||cs>.11){ut($t.current),g.onDismiss==null||g.onDismiss.call(g,g),O(Z==="x"?on>0?"right":"left":es>0?"down":"up"),Et(),Se(!0);return}else{var zr,ln;(zr=We.current)==null||zr.style.setProperty("--swipe-amount-x","0px"),(ln=We.current)==null||ln.style.setProperty("--swipe-amount-y","0px")}Je(!1),ge(!1),me(null)},onPointerMove:lt=>{var Wr,yr,on;if(!$r.current||!_t||((Wr=window.getSelection())==null?void 0:Wr.toString().length)>0)return;const dt=lt.clientY-$r.current.y,Zr=lt.clientX-$r.current.x;var cs;const zr=(cs=n.swipeDirections)!=null?cs:mE(U);!Z&&(Math.abs(Zr)>1||Math.abs(dt)>1)&&me(Math.abs(Zr)>Math.abs(dt)?"x":"y");let ln={x:0,y:0};const Mr=Fr=>1/(1.5+Math.abs(Fr)/20);if(Z==="y"){if(zr.includes("top")||zr.includes("bottom"))if(zr.includes("top")&&dt<0||zr.includes("bottom")&&dt>0)ln.y=dt;else{const Fr=dt*Mr(dt);ln.y=Math.abs(Fr)<Math.abs(dt)?Fr:dt}}else if(Z==="x"&&(zr.includes("left")||zr.includes("right")))if(zr.includes("left")&&Zr<0||zr.includes("right")&&Zr>0)ln.x=Zr;else{const Fr=Zr*Mr(Zr);ln.x=Math.abs(Fr)<Math.abs(Zr)?Fr:Zr}(Math.abs(ln.x)>0||Math.abs(ln.y)>0)&&Je(!0),(yr=We.current)==null||yr.style.setProperty("--swipe-amount-x",`${ln.x}px`),(on=We.current)==null||on.style.setProperty("--swipe-amount-y",`${ln.y}px`)}},cr&&!g.jsx&&ht!=="loading"?nt.createElement("button",{"aria-label":B,"data-disabled":kr,"data-close-button":!0,onClick:kr||!_t?()=>{}:()=>{Et(),g.onDismiss==null||g.onDismiss.call(g,g)},className:fo(ue?.closeButton,g==null||(s=g.classNames)==null?void 0:s.closeButton)},(Ut=fe?.close)!=null?Ut:eE):null,(ht||g.icon||g.promise)&&g.icon!==null&&(fe?.[ht]!==null||g.icon)?nt.createElement("div",{"data-icon":"",className:fo(ue?.icon,g==null||(i=g.classNames)==null?void 0:i.icon)},g.promise||g.type==="loading"&&!g.icon?g.icon||Yt():null,g.type!=="loading"?Pr:null):null,nt.createElement("div",{"data-content":"",className:fo(ue?.content,g==null||(o=g.classNames)==null?void 0:o.content)},nt.createElement("div",{"data-title":"",className:fo(ue?.title,g==null||(c=g.classNames)==null?void 0:c.title)},g.jsx?g.jsx:typeof g.title=="function"?g.title():g.title),g.description?nt.createElement("div",{"data-description":"",className:fo(L,lr,ue?.description,g==null||(u=g.classNames)==null?void 0:u.description)},typeof g.description=="function"?g.description():g.description):null),nt.isValidElement(g.cancel)?g.cancel:g.cancel&&Qf(g.cancel)?nt.createElement("button",{"data-button":!0,"data-cancel":!0,style:g.cancelButtonStyle||K,onClick:lt=>{Qf(g.cancel)&&_t&&(g.cancel.onClick==null||g.cancel.onClick.call(g.cancel,lt),Et())},className:fo(ue?.cancelButton,g==null||(d=g.classNames)==null?void 0:d.cancelButton)},g.cancel.label):null,nt.isValidElement(g.action)?g.action:g.action&&Qf(g.action)?nt.createElement("button",{"data-button":!0,"data-action":!0,style:g.actionButtonStyle||Y,onClick:lt=>{Qf(g.action)&&(g.action.onClick==null||g.action.onClick.call(g.action,lt),!lt.defaultPrevented&&Et())},className:fo(ue?.actionButton,g==null||(h=g.classNames)==null?void 0:h.actionButton)},g.action.label):null)};function s1(){if(typeof window>"u"||typeof document>"u")return"ltr";const n=document.documentElement.getAttribute("dir");return n==="auto"||!n?window.getComputedStyle(document.documentElement).direction:n}function xE(n,e){const t={};return[n,e].forEach((s,i)=>{const o=i===1,c=o?"--mobile-offset":"--offset",u=o?uE:cE;function d(h){["top","right","bottom","left"].forEach(p=>{t[`${c}-${p}`]=typeof h=="number"?`${h}px`:h})}typeof s=="number"||typeof s=="string"?d(s):typeof s=="object"?["top","right","bottom","left"].forEach(h=>{s[h]===void 0?t[`${c}-${h}`]=u:t[`${c}-${h}`]=typeof s[h]=="number"?`${s[h]}px`:s[h]}):d(u)}),t}const vE=nt.forwardRef(function(e,t){const{id:s,invert:i,position:o="bottom-right",hotkey:c=["altKey","KeyT"],expand:u,closeButton:d,className:h,offset:p,mobileOffset:g,theme:w="light",richColors:x,duration:S,style:_,visibleToasts:k=lE,toastOptions:b,dir:R=s1(),gap:P=hE,icons:T,containerAriaLabel:F="Notifications"}=e,[ne,ee]=nt.useState([]),K=nt.useMemo(()=>s?ne.filter(V=>V.toasterId===s):ne.filter(V=>!V.toasterId),[ne,s]),Y=nt.useMemo(()=>Array.from(new Set([o].concat(K.filter(V=>V.position).map(V=>V.position)))),[K,o]),[q,L]=nt.useState([]),[z,U]=nt.useState(!1),[te,re]=nt.useState(!1),[ue,fe]=nt.useState(w!=="system"?w:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),B=nt.useRef(null),Z=c.join("+").replace(/Key/g,"").replace(/Digit/g,""),me=nt.useRef(null),H=nt.useRef(!1),O=nt.useCallback(V=>{ee(X=>{var se;return(se=X.find(de=>de.id===V.id))!=null&&se.delete||gi.dismiss(V.id),X.filter(({id:de})=>de!==V.id)})},[]);return nt.useEffect(()=>gi.subscribe(V=>{if(V.dismiss){requestAnimationFrame(()=>{ee(X=>X.map(se=>se.id===V.id?{...se,delete:!0}:se))});return}setTimeout(()=>{Pw.flushSync(()=>{ee(X=>{const se=X.findIndex(de=>de.id===V.id);return se!==-1?[...X.slice(0,se),{...X[se],...V},...X.slice(se+1)]:[V,...X]})})})}),[ne]),nt.useEffect(()=>{if(w!=="system"){fe(w);return}if(w==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?fe("dark"):fe("light")),typeof window>"u")return;const V=window.matchMedia("(prefers-color-scheme: dark)");try{V.addEventListener("change",({matches:X})=>{fe(X?"dark":"light")})}catch{V.addListener(({matches:se})=>{try{fe(se?"dark":"light")}catch(de){console.error(de)}})}},[w]),nt.useEffect(()=>{ne.length<=1&&U(!1)},[ne]),nt.useEffect(()=>{const V=X=>{var se;if(c.every(ge=>X[ge]||X.code===ge)){var le;U(!0),(le=B.current)==null||le.focus()}X.code==="Escape"&&(document.activeElement===B.current||(se=B.current)!=null&&se.contains(document.activeElement))&&U(!1)};return document.addEventListener("keydown",V),()=>document.removeEventListener("keydown",V)},[c]),nt.useEffect(()=>{if(B.current)return()=>{me.current&&(me.current.focus({preventScroll:!0}),me.current=null,H.current=!1)}},[B.current]),nt.createElement("section",{ref:t,"aria-label":`${F} ${Z}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},Y.map((V,X)=>{var se;const[de,le]=V.split("-");return K.length?nt.createElement("ol",{key:V,dir:R==="auto"?s1():R,tabIndex:-1,ref:B,className:h,"data-sonner-toaster":!0,"data-sonner-theme":ue,"data-y-position":de,"data-x-position":le,style:{"--front-toast-height":`${((se=q[0])==null?void 0:se.height)||0}px`,"--width":`${dE}px`,"--gap":`${P}px`,..._,...xE(p,g)},onBlur:ge=>{H.current&&!ge.currentTarget.contains(ge.relatedTarget)&&(H.current=!1,me.current&&(me.current.focus({preventScroll:!0}),me.current=null))},onFocus:ge=>{ge.target instanceof HTMLElement&&ge.target.dataset.dismissible==="false"||H.current||(H.current=!0,me.current=ge.relatedTarget)},onMouseEnter:()=>U(!0),onMouseMove:()=>U(!0),onMouseLeave:()=>{te||U(!1)},onDragEnd:()=>U(!1),onPointerDown:ge=>{ge.target instanceof HTMLElement&&ge.target.dataset.dismissible==="false"||re(!0)},onPointerUp:()=>re(!1)},K.filter(ge=>!ge.position&&X===0||ge.position===V).map((ge,be)=>{var Se,De;return nt.createElement(gE,{key:ge.id,icons:T,index:be,toast:ge,defaultRichColors:x,duration:(Se=b?.duration)!=null?Se:S,className:b?.className,descriptionClassName:b?.descriptionClassName,invert:i,visibleToasts:k,closeButton:(De=b?.closeButton)!=null?De:d,interacting:te,position:V,style:b?.style,unstyled:b?.unstyled,classNames:b?.classNames,cancelButtonStyle:b?.cancelButtonStyle,actionButtonStyle:b?.actionButtonStyle,closeButtonAriaLabel:b?.closeButtonAriaLabel,removeToast:O,toasts:K.filter(Je=>Je.position==ge.position),heights:q.filter(Je=>Je.position==ge.position),setHeights:L,expandByDefault:u,gap:P,expanded:z,swipeDirections:e.swipeDirections})})):null}))});function yE({onSwitchToSignup:n}){const{login:e}=Kh(),[t,s]=C.useState(""),[i,o]=C.useState(""),[c,u]=C.useState(""),[d,h]=C.useState(!1),p=async g=>{if(g.preventDefault(),u(""),!t||!i){u("Please fill in all fields");return}h(!0);try{await e(t,i),Le.success("Welcome back!",{description:"You have successfully logged in."})}catch(w){u(w.message||"Invalid email or password")}finally{h(!1)}};return r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background p-4",children:r.jsxs("div",{className:"w-full max-w-md",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("h1",{className:"text-4xl mb-2",children:"EaziBook"}),r.jsx("p",{className:"text-muted-foreground",children:"by LifeisEazi Group Enterprises"})]}),r.jsxs(Fe,{children:[r.jsxs(qe,{children:[r.jsx(He,{children:"Welcome Back"}),r.jsx(ur,{children:"Sign in to your EaziBook account"})]}),r.jsx(Ue,{children:r.jsxs("form",{onSubmit:p,className:"space-y-4",children:[c&&r.jsxs(oc,{variant:"destructive",children:[r.jsx(ua,{className:"h-4 w-4"}),r.jsx(lc,{children:c})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Re,{htmlFor:"email",children:"Email Address"}),r.jsx(Ve,{id:"email",type:"email",placeholder:"you@example.com",value:t,onChange:g=>s(g.target.value),disabled:d,autoComplete:"email"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Re,{htmlFor:"password",children:"Password"}),r.jsx(Ve,{id:"password",type:"password",placeholder:"Enter your password",value:i,onChange:g=>o(g.target.value),disabled:d,autoComplete:"current-password"})]}),r.jsxs(Ae,{type:"submit",className:"w-full gap-2",disabled:d,children:[r.jsx(i3,{className:"w-4 h-4"}),d?"Signing in...":"Sign In"]})]})}),r.jsx(vd,{className:"flex flex-col space-y-4",children:r.jsxs("div",{className:"text-sm text-center text-muted-foreground",children:["Don't have an account?"," ",r.jsx("button",{onClick:n,className:"text-foreground hover:underline font-medium",children:"Sign up"})]})})]}),r.jsx(Fe,{className:"mt-4 border-muted",children:r.jsx(Ue,{className:"pt-6",children:r.jsxs("p",{className:"text-xs text-muted-foreground text-center",children:[r.jsx("strong",{children:"Demo Mode:"})," Create an account to explore EaziBook's features. Start with the Free plan or upgrade to Premium."]})})})]})})}function wE({onSwitchToLogin:n}){const{signup:e}=Kh(),[t,s]=C.useState(""),[i,o]=C.useState(""),[c,u]=C.useState(""),[d,h]=C.useState(""),[p,g]=C.useState(""),[w,x]=C.useState(!1),S=async _=>{if(_.preventDefault(),g(""),!t||!i||!c||!d){g("Please fill in all fields");return}if(c.length<6){g("Password must be at least 6 characters long");return}if(c!==d){g("Passwords do not match");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(i)){g("Please enter a valid email address");return}x(!0);try{await e(i,c,t),Le.success("Account created successfully!",{description:"Welcome to EaziBook. You can start using the Free plan now."})}catch(b){g(b.message||"Failed to create account")}finally{x(!1)}};return r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background p-4",children:r.jsxs("div",{className:"w-full max-w-2xl",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("h1",{className:"text-4xl mb-2",children:"EaziBook"}),r.jsx("p",{className:"text-muted-foreground",children:"by LifeisEazi Group Enterprises"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsxs(Fe,{className:"md:col-span-2",children:[r.jsxs(qe,{children:[r.jsx(He,{children:"Create Account"}),r.jsx(ur,{children:"Get started with EaziBook today"})]}),r.jsx(Ue,{children:r.jsxs("form",{onSubmit:S,className:"space-y-4",children:[p&&r.jsxs(oc,{variant:"destructive",children:[r.jsx(ua,{className:"h-4 w-4"}),r.jsx(lc,{children:p})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Re,{htmlFor:"name",children:"Full Name"}),r.jsx(Ve,{id:"name",type:"text",placeholder:"John Doe",value:t,onChange:_=>s(_.target.value),disabled:w,autoComplete:"name"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Re,{htmlFor:"email",children:"Email Address"}),r.jsx(Ve,{id:"email",type:"email",placeholder:"you@example.com",value:i,onChange:_=>o(_.target.value),disabled:w,autoComplete:"email"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Re,{htmlFor:"password",children:"Password"}),r.jsx(Ve,{id:"password",type:"password",placeholder:"At least 6 characters",value:c,onChange:_=>u(_.target.value),disabled:w,autoComplete:"new-password"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Re,{htmlFor:"confirmPassword",children:"Confirm Password"}),r.jsx(Ve,{id:"confirmPassword",type:"password",placeholder:"Re-enter your password",value:d,onChange:_=>h(_.target.value),disabled:w,autoComplete:"new-password"})]}),r.jsxs(Ae,{type:"submit",className:"w-full gap-2",disabled:w,children:[r.jsx(Ew,{className:"w-4 h-4"}),w?"Creating account...":"Create Account"]})]})}),r.jsx(vd,{children:r.jsxs("div",{className:"text-sm text-center text-muted-foreground w-full",children:["Already have an account?"," ",r.jsx("button",{onClick:n,className:"text-foreground hover:underline font-medium",children:"Sign in"})]})})]}),r.jsxs(Fe,{className:"border-2",children:[r.jsxs(qe,{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx(He,{className:"text-lg",children:"Free Plan"}),r.jsx(qt,{variant:"secondary",children:"0/mo"})]}),r.jsx(ur,{children:"Included with your account"})]}),r.jsxs(Ue,{children:[r.jsxs("ul",{className:"space-y-2",children:[r.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[r.jsx(Rt,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),r.jsx("span",{children:"10 invoices/month"})]}),r.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[r.jsx(Rt,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),r.jsx("span",{children:"10 bills/month"})]}),r.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[r.jsx(Rt,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),r.jsx("span",{children:"Multi-currency"})]}),r.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[r.jsx(Rt,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),r.jsx("span",{children:"Company branding"})]})]}),r.jsx("div",{className:"mt-4 pt-4 border-t",children:r.jsx("p",{className:"text-xs text-muted-foreground",children:"Upgrade to Premium anytime for unlimited access and AI features."})})]})]})]})]})})}const Tg=768;function bE(){const[n,e]=C.useState(void 0);return C.useEffect(()=>{const t=window.matchMedia(`(max-width: ${Tg-1}px)`),s=()=>{e(window.innerWidth<Tg)};return t.addEventListener("change",s),e(window.innerWidth<Tg),()=>t.removeEventListener("change",s)},[]),!!n}var jE=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],NE=jE.reduce((n,e)=>{const t=Kp(`Primitive.${e}`),s=C.forwardRef((i,o)=>{const{asChild:c,...u}=i,d=c?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(d,{...u,ref:o})});return s.displayName=`Primitive.${e}`,{...n,[e]:s}},{}),_E="Separator",i1="horizontal",SE=["horizontal","vertical"],Sb=C.forwardRef((n,e)=>{const{decorative:t,orientation:s=i1,...i}=n,o=kE(s)?s:i1,u=t?{role:"none"}:{"aria-orientation":o==="vertical"?o:void 0,role:"separator"};return r.jsx(NE.div,{"data-orientation":o,...u,...i,ref:e})});Sb.displayName=_E;function kE(n){return SE.includes(n)}var CE=Sb;function Ip({className:n,orientation:e="horizontal",decorative:t=!0,...s}){return r.jsx(CE,{"data-slot":"separator-root",decorative:t,orientation:e,className:Nt("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",n),...s})}function jt(n,e,{checkForDefaultPrevented:t=!0}={}){return function(i){if(n?.(i),t===!1||!i.defaultPrevented)return e?.(i)}}function AE(n,e){const t=C.createContext(e),s=o=>{const{children:c,...u}=o,d=C.useMemo(()=>u,Object.values(u));return r.jsx(t.Provider,{value:d,children:c})};s.displayName=n+"Provider";function i(o){const c=C.useContext(t);if(c)return c;if(e!==void 0)return e;throw new Error(`\`${o}\` must be used within \`${n}\``)}return[s,i]}function gl(n,e=[]){let t=[];function s(o,c){const u=C.createContext(c),d=t.length;t=[...t,c];const h=g=>{const{scope:w,children:x,...S}=g,_=w?.[n]?.[d]||u,k=C.useMemo(()=>S,Object.values(S));return r.jsx(_.Provider,{value:k,children:x})};h.displayName=o+"Provider";function p(g,w){const x=w?.[n]?.[d]||u,S=C.useContext(x);if(S)return S;if(c!==void 0)return c;throw new Error(`\`${g}\` must be used within \`${o}\``)}return[h,p]}const i=()=>{const o=t.map(c=>C.createContext(c));return function(u){const d=u?.[n]||o;return C.useMemo(()=>({[`__scope${n}`]:{...u,[n]:d}}),[u,d])}};return i.scopeName=n,[s,EE(i,...e)]}function EE(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const s=n.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const c=s.reduce((u,{useScope:d,scopeName:h})=>{const g=d(o)[`__scope${h}`];return{...u,...g}},{});return C.useMemo(()=>({[`__scope${e.scopeName}`]:c}),[c])}};return t.scopeName=e.scopeName,t}var $s=globalThis?.document?C.useLayoutEffect:()=>{},PE=e0[" useId ".trim().toString()]||(()=>{}),TE=0;function Ba(n){const[e,t]=C.useState(PE());return $s(()=>{t(s=>s??String(TE++))},[n]),n||(e?`radix-${e}`:"")}var LE=e0[" useInsertionEffect ".trim().toString()]||$s;function cu({prop:n,defaultProp:e,onChange:t=()=>{},caller:s}){const[i,o,c]=IE({defaultProp:e,onChange:t}),u=n!==void 0,d=u?n:i;{const p=C.useRef(n!==void 0);C.useEffect(()=>{const g=p.current;g!==u&&console.warn(`${s} is changing from ${g?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=u},[u,s])}const h=C.useCallback(p=>{if(u){const g=RE(p)?p(n):p;g!==n&&c.current?.(g)}else o(p)},[u,n,o,c]);return[d,h]}function IE({defaultProp:n,onChange:e}){const[t,s]=C.useState(n),i=C.useRef(t),o=C.useRef(e);return LE(()=>{o.current=e},[e]),C.useEffect(()=>{i.current!==t&&(o.current?.(t),i.current=t)},[t,i]),[t,s,o]}function RE(n){return typeof n=="function"}function OE(n){const e=DE(n),t=C.forwardRef((s,i)=>{const{children:o,...c}=s,u=C.Children.toArray(o),d=u.find(FE);if(d){const h=d.props.children,p=u.map(g=>g===d?C.Children.count(h)>1?C.Children.only(null):C.isValidElement(h)?h.props.children:null:g);return r.jsx(e,{...c,ref:i,children:C.isValidElement(h)?C.cloneElement(h,void 0,p):null})}return r.jsx(e,{...c,ref:i,children:o})});return t.displayName=`${n}.Slot`,t}function DE(n){const e=C.forwardRef((t,s)=>{const{children:i,...o}=t;if(C.isValidElement(i)){const c=UE(i),u=BE(o,i.props);return i.type!==C.Fragment&&(u.ref=s?ml(s,c):c),C.cloneElement(i,u)}return C.Children.count(i)>1?C.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var ME=Symbol("radix.slottable");function FE(n){return C.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===ME}function BE(n,e){const t={...e};for(const s in e){const i=n[s],o=e[s];/^on[A-Z]/.test(s)?i&&o?t[s]=(...u)=>{const d=o(...u);return i(...u),d}:i&&(t[s]=i):s==="style"?t[s]={...i,...o}:s==="className"&&(t[s]=[i,o].filter(Boolean).join(" "))}return{...n,...t}}function UE(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var $E=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],fr=$E.reduce((n,e)=>{const t=OE(`Primitive.${e}`),s=C.forwardRef((i,o)=>{const{asChild:c,...u}=i,d=c?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(d,{...u,ref:o})});return s.displayName=`Primitive.${e}`,{...n,[e]:s}},{});function kb(n,e){n&&Wh.flushSync(()=>n.dispatchEvent(e))}function yo(n){const e=C.useRef(n);return C.useEffect(()=>{e.current=n}),C.useMemo(()=>(...t)=>e.current?.(...t),[])}function zE(n,e=globalThis?.document){const t=yo(n);C.useEffect(()=>{const s=i=>{i.key==="Escape"&&t(i)};return e.addEventListener("keydown",s,{capture:!0}),()=>e.removeEventListener("keydown",s,{capture:!0})},[t,e])}var qE="DismissableLayer",kx="dismissableLayer.update",VE="dismissableLayer.pointerDownOutside",HE="dismissableLayer.focusOutside",a1,Cb=C.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Yh=C.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:s,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:c,onDismiss:u,...d}=n,h=C.useContext(Cb),[p,g]=C.useState(null),w=p?.ownerDocument??globalThis?.document,[,x]=C.useState({}),S=Qr(e,ee=>g(ee)),_=Array.from(h.layers),[k]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),b=_.indexOf(k),R=p?_.indexOf(p):-1,P=h.layersWithOutsidePointerEventsDisabled.size>0,T=R>=b,F=KE(ee=>{const K=ee.target,Y=[...h.branches].some(q=>q.contains(K));!T||Y||(i?.(ee),c?.(ee),ee.defaultPrevented||u?.())},w),ne=YE(ee=>{const K=ee.target;[...h.branches].some(q=>q.contains(K))||(o?.(ee),c?.(ee),ee.defaultPrevented||u?.())},w);return zE(ee=>{R===h.layers.size-1&&(s?.(ee),!ee.defaultPrevented&&u&&(ee.preventDefault(),u()))},w),C.useEffect(()=>{if(p)return t&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(a1=w.body.style.pointerEvents,w.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(p)),h.layers.add(p),o1(),()=>{t&&h.layersWithOutsidePointerEventsDisabled.size===1&&(w.body.style.pointerEvents=a1)}},[p,w,t,h]),C.useEffect(()=>()=>{p&&(h.layers.delete(p),h.layersWithOutsidePointerEventsDisabled.delete(p),o1())},[p,h]),C.useEffect(()=>{const ee=()=>x({});return document.addEventListener(kx,ee),()=>document.removeEventListener(kx,ee)},[]),r.jsx(fr.div,{...d,ref:S,style:{pointerEvents:P?T?"auto":"none":void 0,...n.style},onFocusCapture:jt(n.onFocusCapture,ne.onFocusCapture),onBlurCapture:jt(n.onBlurCapture,ne.onBlurCapture),onPointerDownCapture:jt(n.onPointerDownCapture,F.onPointerDownCapture)})});Yh.displayName=qE;var WE="DismissableLayerBranch",GE=C.forwardRef((n,e)=>{const t=C.useContext(Cb),s=C.useRef(null),i=Qr(e,s);return C.useEffect(()=>{const o=s.current;if(o)return t.branches.add(o),()=>{t.branches.delete(o)}},[t.branches]),r.jsx(fr.div,{...n,ref:i})});GE.displayName=WE;function KE(n,e=globalThis?.document){const t=yo(n),s=C.useRef(!1),i=C.useRef(()=>{});return C.useEffect(()=>{const o=u=>{if(u.target&&!s.current){let d=function(){Ab(VE,t,h,{discrete:!0})};const h={originalEvent:u};u.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=d,e.addEventListener("click",i.current,{once:!0})):d()}else e.removeEventListener("click",i.current);s.current=!1},c=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(c),e.removeEventListener("pointerdown",o),e.removeEventListener("click",i.current)}},[e,t]),{onPointerDownCapture:()=>s.current=!0}}function YE(n,e=globalThis?.document){const t=yo(n),s=C.useRef(!1);return C.useEffect(()=>{const i=o=>{o.target&&!s.current&&Ab(HE,t,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,t]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function o1(){const n=new CustomEvent(kx);document.dispatchEvent(n)}function Ab(n,e,t,{discrete:s}){const i=t.originalEvent.target,o=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&i.addEventListener(n,e,{once:!0}),s?kb(i,o):i.dispatchEvent(o)}var Lg="focusScope.autoFocusOnMount",Ig="focusScope.autoFocusOnUnmount",l1={bubbles:!1,cancelable:!0},JE="FocusScope",rm=C.forwardRef((n,e)=>{const{loop:t=!1,trapped:s=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...c}=n,[u,d]=C.useState(null),h=yo(i),p=yo(o),g=C.useRef(null),w=Qr(e,_=>d(_)),x=C.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;C.useEffect(()=>{if(s){let _=function(P){if(x.paused||!u)return;const T=P.target;u.contains(T)?g.current=T:rc(g.current,{select:!0})},k=function(P){if(x.paused||!u)return;const T=P.relatedTarget;T!==null&&(u.contains(T)||rc(g.current,{select:!0}))},b=function(P){if(document.activeElement===document.body)for(const F of P)F.removedNodes.length>0&&rc(u)};document.addEventListener("focusin",_),document.addEventListener("focusout",k);const R=new MutationObserver(b);return u&&R.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",_),document.removeEventListener("focusout",k),R.disconnect()}}},[s,u,x.paused]),C.useEffect(()=>{if(u){u1.add(x);const _=document.activeElement;if(!u.contains(_)){const b=new CustomEvent(Lg,l1);u.addEventListener(Lg,h),u.dispatchEvent(b),b.defaultPrevented||(XE(r6(Eb(u)),{select:!0}),document.activeElement===_&&rc(u))}return()=>{u.removeEventListener(Lg,h),setTimeout(()=>{const b=new CustomEvent(Ig,l1);u.addEventListener(Ig,p),u.dispatchEvent(b),b.defaultPrevented||rc(_??document.body,{select:!0}),u.removeEventListener(Ig,p),u1.remove(x)},0)}}},[u,h,p,x]);const S=C.useCallback(_=>{if(!t&&!s||x.paused)return;const k=_.key==="Tab"&&!_.altKey&&!_.ctrlKey&&!_.metaKey,b=document.activeElement;if(k&&b){const R=_.currentTarget,[P,T]=QE(R);P&&T?!_.shiftKey&&b===T?(_.preventDefault(),t&&rc(P,{select:!0})):_.shiftKey&&b===P&&(_.preventDefault(),t&&rc(T,{select:!0})):b===R&&_.preventDefault()}},[t,s,x.paused]);return r.jsx(fr.div,{tabIndex:-1,...c,ref:w,onKeyDown:S})});rm.displayName=JE;function XE(n,{select:e=!1}={}){const t=document.activeElement;for(const s of n)if(rc(s,{select:e}),document.activeElement!==t)return}function QE(n){const e=Eb(n),t=c1(e,n),s=c1(e.reverse(),n);return[t,s]}function Eb(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const i=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||i?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function c1(n,e){for(const t of n)if(!ZE(t,{upTo:e}))return t}function ZE(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function e6(n){return n instanceof HTMLInputElement&&"select"in n}function rc(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&e6(n)&&e&&n.select()}}var u1=t6();function t6(){let n=[];return{add(e){const t=n[0];e!==t&&t?.pause(),n=d1(n,e),n.unshift(e)},remove(e){n=d1(n,e),n[0]?.resume()}}}function d1(n,e){const t=[...n],s=t.indexOf(e);return s!==-1&&t.splice(s,1),t}function r6(n){return n.filter(e=>e.tagName!=="A")}var n6="Portal",Jh=C.forwardRef((n,e)=>{const{container:t,...s}=n,[i,o]=C.useState(!1);$s(()=>o(!0),[]);const c=t||i&&globalThis?.document?.body;return c?Pw.createPortal(r.jsx(fr.div,{...s,ref:e}),c):null});Jh.displayName=n6;function s6(n,e){return C.useReducer((t,s)=>e[t][s]??t,n)}var qa=n=>{const{present:e,children:t}=n,s=i6(e),i=typeof t=="function"?t({present:s.isPresent}):C.Children.only(t),o=Qr(s.ref,a6(i));return typeof t=="function"||s.isPresent?C.cloneElement(i,{ref:o}):null};qa.displayName="Presence";function i6(n){const[e,t]=C.useState(),s=C.useRef(null),i=C.useRef(n),o=C.useRef("none"),c=n?"mounted":"unmounted",[u,d]=s6(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return C.useEffect(()=>{const h=Zf(s.current);o.current=u==="mounted"?h:"none"},[u]),$s(()=>{const h=s.current,p=i.current;if(p!==n){const w=o.current,x=Zf(h);n?d("MOUNT"):x==="none"||h?.display==="none"?d("UNMOUNT"):d(p&&w!==x?"ANIMATION_OUT":"UNMOUNT"),i.current=n}},[n,d]),$s(()=>{if(e){let h;const p=e.ownerDocument.defaultView??window,g=x=>{const _=Zf(s.current).includes(CSS.escape(x.animationName));if(x.target===e&&_&&(d("ANIMATION_END"),!i.current)){const k=e.style.animationFillMode;e.style.animationFillMode="forwards",h=p.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=k)})}},w=x=>{x.target===e&&(o.current=Zf(s.current))};return e.addEventListener("animationstart",w),e.addEventListener("animationcancel",g),e.addEventListener("animationend",g),()=>{p.clearTimeout(h),e.removeEventListener("animationstart",w),e.removeEventListener("animationcancel",g),e.removeEventListener("animationend",g)}}else d("ANIMATION_END")},[e,d]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:C.useCallback(h=>{s.current=h?getComputedStyle(h):null,t(h)},[])}}function Zf(n){return n?.animationName||"none"}function a6(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var Rg=0;function m0(){C.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??h1()),document.body.insertAdjacentElement("beforeend",n[1]??h1()),Rg++,()=>{Rg===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Rg--}},[])}function h1(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var gp="right-scroll-bar-position",xp="width-before-scroll-bar",o6="with-scroll-bars-hidden",l6="--removed-body-scroll-bar-size";function Og(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function c6(n,e){var t=C.useState(function(){return{value:n,callback:e,facade:{get current(){return t.value},set current(s){var i=t.value;i!==s&&(t.value=s,t.callback(s,i))}}}})[0];return t.callback=e,t.facade}var u6=typeof window<"u"?C.useLayoutEffect:C.useEffect,f1=new WeakMap;function d6(n,e){var t=c6(null,function(s){return n.forEach(function(i){return Og(i,s)})});return u6(function(){var s=f1.get(t);if(s){var i=new Set(s),o=new Set(n),c=t.current;i.forEach(function(u){o.has(u)||Og(u,null)}),o.forEach(function(u){i.has(u)||Og(u,c)})}f1.set(t,n)},[n]),t}function h6(n){return n}function f6(n,e){e===void 0&&(e=h6);var t=[],s=!1,i={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:n},useMedium:function(o){var c=e(o,s);return t.push(c),function(){t=t.filter(function(u){return u!==c})}},assignSyncMedium:function(o){for(s=!0;t.length;){var c=t;t=[],c.forEach(o)}t={push:function(u){return o(u)},filter:function(){return t}}},assignMedium:function(o){s=!0;var c=[];if(t.length){var u=t;t=[],u.forEach(o),c=t}var d=function(){var p=c;c=[],p.forEach(o)},h=function(){return Promise.resolve().then(d)};h(),t={push:function(p){c.push(p),h()},filter:function(p){return c=c.filter(p),t}}}};return i}function p6(n){n===void 0&&(n={});var e=f6(null);return e.options=oa({async:!0,ssr:!1},n),e}var Pb=function(n){var e=n.sideCar,t=hc(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=e.read();if(!s)throw new Error("Sidecar medium not found");return C.createElement(s,oa({},t))};Pb.isSideCarExport=!0;function m6(n,e){return n.useMedium(e),Pb}var Tb=p6(),Dg=function(){},nm=C.forwardRef(function(n,e){var t=C.useRef(null),s=C.useState({onScrollCapture:Dg,onWheelCapture:Dg,onTouchMoveCapture:Dg}),i=s[0],o=s[1],c=n.forwardProps,u=n.children,d=n.className,h=n.removeScrollBar,p=n.enabled,g=n.shards,w=n.sideCar,x=n.noRelative,S=n.noIsolation,_=n.inert,k=n.allowPinchZoom,b=n.as,R=b===void 0?"div":b,P=n.gapMode,T=hc(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),F=w,ne=d6([t,e]),ee=oa(oa({},T),i);return C.createElement(C.Fragment,null,p&&C.createElement(F,{sideCar:Tb,removeScrollBar:h,shards:g,noRelative:x,noIsolation:S,inert:_,setCallbacks:o,allowPinchZoom:!!k,lockRef:t,gapMode:P}),c?C.cloneElement(C.Children.only(u),oa(oa({},ee),{ref:ne})):C.createElement(R,oa({},ee,{className:d,ref:ne}),u))});nm.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};nm.classNames={fullWidth:xp,zeroRight:gp};var g6=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function x6(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=g6();return e&&n.setAttribute("nonce",e),n}function v6(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function y6(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var w6=function(){var n=0,e=null;return{add:function(t){n==0&&(e=x6())&&(v6(e,t),y6(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},b6=function(){var n=w6();return function(e,t){C.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&t])}},Lb=function(){var n=b6(),e=function(t){var s=t.styles,i=t.dynamic;return n(s,i),null};return e},j6={left:0,top:0,right:0,gap:0},Mg=function(n){return parseInt(n||"",10)||0},N6=function(n){var e=window.getComputedStyle(document.body),t=e[n==="padding"?"paddingLeft":"marginLeft"],s=e[n==="padding"?"paddingTop":"marginTop"],i=e[n==="padding"?"paddingRight":"marginRight"];return[Mg(t),Mg(s),Mg(i)]},_6=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return j6;var e=N6(n),t=document.documentElement.clientWidth,s=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,s-t+e[2]-e[0])}},S6=Lb(),jd="data-scroll-locked",k6=function(n,e,t,s){var i=n.left,o=n.top,c=n.right,u=n.gap;return t===void 0&&(t="margin"),`
  .`.concat(o6,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(u,"px ").concat(s,`;
  }
  body[`).concat(jd,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(s,";"),t==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(s,`;
    `),t==="padding"&&"padding-right: ".concat(u,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(gp,` {
    right: `).concat(u,"px ").concat(s,`;
  }
  
  .`).concat(xp,` {
    margin-right: `).concat(u,"px ").concat(s,`;
  }
  
  .`).concat(gp," .").concat(gp,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(xp," .").concat(xp,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(jd,`] {
    `).concat(l6,": ").concat(u,`px;
  }
`)},p1=function(){var n=parseInt(document.body.getAttribute(jd)||"0",10);return isFinite(n)?n:0},C6=function(){C.useEffect(function(){return document.body.setAttribute(jd,(p1()+1).toString()),function(){var n=p1()-1;n<=0?document.body.removeAttribute(jd):document.body.setAttribute(jd,n.toString())}},[])},A6=function(n){var e=n.noRelative,t=n.noImportant,s=n.gapMode,i=s===void 0?"margin":s;C6();var o=C.useMemo(function(){return _6(i)},[i]);return C.createElement(S6,{styles:k6(o,!e,i,t?"":"!important")})},Cx=!1;if(typeof window<"u")try{var ep=Object.defineProperty({},"passive",{get:function(){return Cx=!0,!0}});window.addEventListener("test",ep,ep),window.removeEventListener("test",ep,ep)}catch{Cx=!1}var ld=Cx?{passive:!1}:!1,E6=function(n){return n.tagName==="TEXTAREA"},Ib=function(n,e){if(!(n instanceof Element))return!1;var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!E6(n)&&t[e]==="visible")},P6=function(n){return Ib(n,"overflowY")},T6=function(n){return Ib(n,"overflowX")},m1=function(n,e){var t=e.ownerDocument,s=e;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var i=Rb(n,s);if(i){var o=Ob(n,s),c=o[1],u=o[2];if(c>u)return!0}s=s.parentNode}while(s&&s!==t.body);return!1},L6=function(n){var e=n.scrollTop,t=n.scrollHeight,s=n.clientHeight;return[e,t,s]},I6=function(n){var e=n.scrollLeft,t=n.scrollWidth,s=n.clientWidth;return[e,t,s]},Rb=function(n,e){return n==="v"?P6(e):T6(e)},Ob=function(n,e){return n==="v"?L6(e):I6(e)},R6=function(n,e){return n==="h"&&e==="rtl"?-1:1},O6=function(n,e,t,s,i){var o=R6(n,window.getComputedStyle(e).direction),c=o*s,u=t.target,d=e.contains(u),h=!1,p=c>0,g=0,w=0;do{if(!u)break;var x=Ob(n,u),S=x[0],_=x[1],k=x[2],b=_-k-o*S;(S||b)&&Rb(n,u)&&(g+=b,w+=S);var R=u.parentNode;u=R&&R.nodeType===Node.DOCUMENT_FRAGMENT_NODE?R.host:R}while(!d&&u!==document.body||d&&(e.contains(u)||e===u));return(p&&Math.abs(g)<1||!p&&Math.abs(w)<1)&&(h=!0),h},tp=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},g1=function(n){return[n.deltaX,n.deltaY]},x1=function(n){return n&&"current"in n?n.current:n},D6=function(n,e){return n[0]===e[0]&&n[1]===e[1]},M6=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},F6=0,cd=[];function B6(n){var e=C.useRef([]),t=C.useRef([0,0]),s=C.useRef(),i=C.useState(F6++)[0],o=C.useState(Lb)[0],c=C.useRef(n);C.useEffect(function(){c.current=n},[n]),C.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(i));var _=o0([n.lockRef.current],(n.shards||[]).map(x1),!0).filter(Boolean);return _.forEach(function(k){return k.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),_.forEach(function(k){return k.classList.remove("allow-interactivity-".concat(i))})}}},[n.inert,n.lockRef.current,n.shards]);var u=C.useCallback(function(_,k){if("touches"in _&&_.touches.length===2||_.type==="wheel"&&_.ctrlKey)return!c.current.allowPinchZoom;var b=tp(_),R=t.current,P="deltaX"in _?_.deltaX:R[0]-b[0],T="deltaY"in _?_.deltaY:R[1]-b[1],F,ne=_.target,ee=Math.abs(P)>Math.abs(T)?"h":"v";if("touches"in _&&ee==="h"&&ne.type==="range")return!1;var K=window.getSelection(),Y=K&&K.anchorNode,q=Y?Y===ne||Y.contains(ne):!1;if(q)return!1;var L=m1(ee,ne);if(!L)return!0;if(L?F=ee:(F=ee==="v"?"h":"v",L=m1(ee,ne)),!L)return!1;if(!s.current&&"changedTouches"in _&&(P||T)&&(s.current=F),!F)return!0;var z=s.current||F;return O6(z,k,_,z==="h"?P:T)},[]),d=C.useCallback(function(_){var k=_;if(!(!cd.length||cd[cd.length-1]!==o)){var b="deltaY"in k?g1(k):tp(k),R=e.current.filter(function(F){return F.name===k.type&&(F.target===k.target||k.target===F.shadowParent)&&D6(F.delta,b)})[0];if(R&&R.should){k.cancelable&&k.preventDefault();return}if(!R){var P=(c.current.shards||[]).map(x1).filter(Boolean).filter(function(F){return F.contains(k.target)}),T=P.length>0?u(k,P[0]):!c.current.noIsolation;T&&k.cancelable&&k.preventDefault()}}},[]),h=C.useCallback(function(_,k,b,R){var P={name:_,delta:k,target:b,should:R,shadowParent:U6(b)};e.current.push(P),setTimeout(function(){e.current=e.current.filter(function(T){return T!==P})},1)},[]),p=C.useCallback(function(_){t.current=tp(_),s.current=void 0},[]),g=C.useCallback(function(_){h(_.type,g1(_),_.target,u(_,n.lockRef.current))},[]),w=C.useCallback(function(_){h(_.type,tp(_),_.target,u(_,n.lockRef.current))},[]);C.useEffect(function(){return cd.push(o),n.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:w}),document.addEventListener("wheel",d,ld),document.addEventListener("touchmove",d,ld),document.addEventListener("touchstart",p,ld),function(){cd=cd.filter(function(_){return _!==o}),document.removeEventListener("wheel",d,ld),document.removeEventListener("touchmove",d,ld),document.removeEventListener("touchstart",p,ld)}},[]);var x=n.removeScrollBar,S=n.inert;return C.createElement(C.Fragment,null,S?C.createElement(o,{styles:M6(i)}):null,x?C.createElement(A6,{noRelative:n.noRelative,gapMode:n.gapMode}):null)}function U6(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const $6=m6(Tb,B6);var sm=C.forwardRef(function(n,e){return C.createElement(nm,oa({},n,{ref:e,sideCar:$6}))});sm.classNames=nm.classNames;var z6=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},ud=new WeakMap,rp=new WeakMap,np={},Fg=0,Db=function(n){return n&&(n.host||Db(n.parentNode))},q6=function(n,e){return e.map(function(t){if(n.contains(t))return t;var s=Db(t);return s&&n.contains(s)?s:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},V6=function(n,e,t,s){var i=q6(e,Array.isArray(n)?n:[n]);np[t]||(np[t]=new WeakMap);var o=np[t],c=[],u=new Set,d=new Set(i),h=function(g){!g||u.has(g)||(u.add(g),h(g.parentNode))};i.forEach(h);var p=function(g){!g||d.has(g)||Array.prototype.forEach.call(g.children,function(w){if(u.has(w))p(w);else try{var x=w.getAttribute(s),S=x!==null&&x!=="false",_=(ud.get(w)||0)+1,k=(o.get(w)||0)+1;ud.set(w,_),o.set(w,k),c.push(w),_===1&&S&&rp.set(w,!0),k===1&&w.setAttribute(t,"true"),S||w.setAttribute(s,"true")}catch(b){console.error("aria-hidden: cannot operate on ",w,b)}})};return p(e),u.clear(),Fg++,function(){c.forEach(function(g){var w=ud.get(g)-1,x=o.get(g)-1;ud.set(g,w),o.set(g,x),w||(rp.has(g)||g.removeAttribute(s),rp.delete(g)),x||g.removeAttribute(t)}),Fg--,Fg||(ud=new WeakMap,ud=new WeakMap,rp=new WeakMap,np={})}},g0=function(n,e,t){t===void 0&&(t="data-aria-hidden");var s=Array.from(Array.isArray(n)?n:[n]),i=z6(n);return i?(s.push.apply(s,Array.from(i.querySelectorAll("[aria-live], script"))),V6(s,i,t,"aria-hidden")):function(){return null}};function H6(n){const e=W6(n),t=C.forwardRef((s,i)=>{const{children:o,...c}=s,u=C.Children.toArray(o),d=u.find(K6);if(d){const h=d.props.children,p=u.map(g=>g===d?C.Children.count(h)>1?C.Children.only(null):C.isValidElement(h)?h.props.children:null:g);return r.jsx(e,{...c,ref:i,children:C.isValidElement(h)?C.cloneElement(h,void 0,p):null})}return r.jsx(e,{...c,ref:i,children:o})});return t.displayName=`${n}.Slot`,t}function W6(n){const e=C.forwardRef((t,s)=>{const{children:i,...o}=t;if(C.isValidElement(i)){const c=J6(i),u=Y6(o,i.props);return i.type!==C.Fragment&&(u.ref=s?ml(s,c):c),C.cloneElement(i,u)}return C.Children.count(i)>1?C.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var G6=Symbol("radix.slottable");function K6(n){return C.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===G6}function Y6(n,e){const t={...e};for(const s in e){const i=n[s],o=e[s];/^on[A-Z]/.test(s)?i&&o?t[s]=(...u)=>{const d=o(...u);return i(...u),d}:i&&(t[s]=i):s==="style"?t[s]={...i,...o}:s==="className"&&(t[s]=[i,o].filter(Boolean).join(" "))}return{...n,...t}}function J6(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var im="Dialog",[Mb]=gl(im),[X6,Va]=Mb(im),Fb=n=>{const{__scopeDialog:e,children:t,open:s,defaultOpen:i,onOpenChange:o,modal:c=!0}=n,u=C.useRef(null),d=C.useRef(null),[h,p]=cu({prop:s,defaultProp:i??!1,onChange:o,caller:im});return r.jsx(X6,{scope:e,triggerRef:u,contentRef:d,contentId:Ba(),titleId:Ba(),descriptionId:Ba(),open:h,onOpenChange:p,onOpenToggle:C.useCallback(()=>p(g=>!g),[p]),modal:c,children:t})};Fb.displayName=im;var Bb="DialogTrigger",Ub=C.forwardRef((n,e)=>{const{__scopeDialog:t,...s}=n,i=Va(Bb,t),o=Qr(e,i.triggerRef);return r.jsx(fr.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":y0(i.open),...s,ref:o,onClick:jt(n.onClick,i.onOpenToggle)})});Ub.displayName=Bb;var x0="DialogPortal",[Q6,$b]=Mb(x0,{forceMount:void 0}),zb=n=>{const{__scopeDialog:e,forceMount:t,children:s,container:i}=n,o=Va(x0,e);return r.jsx(Q6,{scope:e,forceMount:t,children:C.Children.map(s,c=>r.jsx(qa,{present:t||o.open,children:r.jsx(Jh,{asChild:!0,container:i,children:c})}))})};zb.displayName=x0;var Rp="DialogOverlay",qb=C.forwardRef((n,e)=>{const t=$b(Rp,n.__scopeDialog),{forceMount:s=t.forceMount,...i}=n,o=Va(Rp,n.__scopeDialog);return o.modal?r.jsx(qa,{present:s||o.open,children:r.jsx(eP,{...i,ref:e})}):null});qb.displayName=Rp;var Z6=H6("DialogOverlay.RemoveScroll"),eP=C.forwardRef((n,e)=>{const{__scopeDialog:t,...s}=n,i=Va(Rp,t);return r.jsx(sm,{as:Z6,allowPinchZoom:!0,shards:[i.contentRef],children:r.jsx(fr.div,{"data-state":y0(i.open),...s,ref:e,style:{pointerEvents:"auto",...s.style}})})}),uu="DialogContent",Vb=C.forwardRef((n,e)=>{const t=$b(uu,n.__scopeDialog),{forceMount:s=t.forceMount,...i}=n,o=Va(uu,n.__scopeDialog);return r.jsx(qa,{present:s||o.open,children:o.modal?r.jsx(tP,{...i,ref:e}):r.jsx(rP,{...i,ref:e})})});Vb.displayName=uu;var tP=C.forwardRef((n,e)=>{const t=Va(uu,n.__scopeDialog),s=C.useRef(null),i=Qr(e,t.contentRef,s);return C.useEffect(()=>{const o=s.current;if(o)return g0(o)},[]),r.jsx(Hb,{...n,ref:i,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:jt(n.onCloseAutoFocus,o=>{o.preventDefault(),t.triggerRef.current?.focus()}),onPointerDownOutside:jt(n.onPointerDownOutside,o=>{const c=o.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0;(c.button===2||u)&&o.preventDefault()}),onFocusOutside:jt(n.onFocusOutside,o=>o.preventDefault())})}),rP=C.forwardRef((n,e)=>{const t=Va(uu,n.__scopeDialog),s=C.useRef(!1),i=C.useRef(!1);return r.jsx(Hb,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{n.onCloseAutoFocus?.(o),o.defaultPrevented||(s.current||t.triggerRef.current?.focus(),o.preventDefault()),s.current=!1,i.current=!1},onInteractOutside:o=>{n.onInteractOutside?.(o),o.defaultPrevented||(s.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const c=o.target;t.triggerRef.current?.contains(c)&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}})}),Hb=C.forwardRef((n,e)=>{const{__scopeDialog:t,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,...c}=n,u=Va(uu,t),d=C.useRef(null),h=Qr(e,d);return m0(),r.jsxs(r.Fragment,{children:[r.jsx(rm,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:i,onUnmountAutoFocus:o,children:r.jsx(Yh,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":y0(u.open),...c,ref:h,onDismiss:()=>u.onOpenChange(!1)})}),r.jsxs(r.Fragment,{children:[r.jsx(nP,{titleId:u.titleId}),r.jsx(iP,{contentRef:d,descriptionId:u.descriptionId})]})]})}),v0="DialogTitle",Wb=C.forwardRef((n,e)=>{const{__scopeDialog:t,...s}=n,i=Va(v0,t);return r.jsx(fr.h2,{id:i.titleId,...s,ref:e})});Wb.displayName=v0;var Gb="DialogDescription",Kb=C.forwardRef((n,e)=>{const{__scopeDialog:t,...s}=n,i=Va(Gb,t);return r.jsx(fr.p,{id:i.descriptionId,...s,ref:e})});Kb.displayName=Gb;var Yb="DialogClose",Jb=C.forwardRef((n,e)=>{const{__scopeDialog:t,...s}=n,i=Va(Yb,t);return r.jsx(fr.button,{type:"button",...s,ref:e,onClick:jt(n.onClick,()=>i.onOpenChange(!1))})});Jb.displayName=Yb;function y0(n){return n?"open":"closed"}var Xb="DialogTitleWarning",[KM,Qb]=AE(Xb,{contentName:uu,titleName:v0,docsSlug:"dialog"}),nP=({titleId:n})=>{const e=Qb(Xb),t=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return C.useEffect(()=>{n&&(document.getElementById(n)||console.error(t))},[t,n]),null},sP="DialogDescriptionWarning",iP=({contentRef:n,descriptionId:e})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Qb(sP).contentName}}.`;return C.useEffect(()=>{const i=n.current?.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(s))},[s,n,e]),null},Zb=Fb,am=Ub,e5=zb,om=qb,lm=Vb,cm=Wb,um=Kb,Bd=Jb;function t5({...n}){return r.jsx(Zb,{"data-slot":"sheet",...n})}const r5=C.forwardRef((n,e)=>r.jsx(am,{ref:e,"data-slot":"sheet-trigger",...n}));r5.displayName=am.displayName;const aP=C.forwardRef((n,e)=>r.jsx(Bd,{ref:e,"data-slot":"sheet-close",...n}));aP.displayName=Bd.displayName;function oP({...n}){return r.jsx(e5,{"data-slot":"sheet-portal",...n})}const n5=C.forwardRef(({className:n,...e},t)=>r.jsx(om,{"data-slot":"sheet-overlay",className:Nt("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",n),...e,ref:t}));n5.displayName=om.displayName;const w0=C.forwardRef(({side:n="right",className:e,children:t,...s},i)=>r.jsxs(oP,{children:[r.jsx(n5,{}),r.jsxs(lm,{ref:i,"data-slot":"sheet-content",className:Nt("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500",n==="right"&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm",n==="left"&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm",n==="top"&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b",n==="bottom"&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",e),...s,children:[t,r.jsxs(Bd,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[r.jsx(Ur,{className:"size-4"}),r.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));w0.displayName=lm.displayName;function s5({className:n,...e}){return r.jsx("div",{"data-slot":"sheet-header",className:Nt("flex flex-col gap-1.5 p-4",n),...e})}const b0=C.forwardRef(({className:n,...e},t)=>r.jsx(cm,{ref:t,"data-slot":"sheet-title",className:Nt("text-foreground font-semibold",n),...e}));b0.displayName=cm.displayName;const i5=C.forwardRef(({className:n,...e},t)=>r.jsx(um,{ref:t,"data-slot":"sheet-description",className:Nt("text-muted-foreground text-sm",n),...e}));i5.displayName=um.displayName;function Jc({className:n,...e}){return r.jsx("div",{"data-slot":"skeleton",className:Nt("bg-accent animate-pulse rounded-md",n),...e})}const lP=["top","right","bottom","left"],cc=Math.min,Bi=Math.max,Op=Math.round,sp=Math.floor,vo=n=>({x:n,y:n}),cP={left:"right",right:"left",bottom:"top",top:"bottom"},uP={start:"end",end:"start"};function Ax(n,e,t){return Bi(n,cc(e,t))}function dl(n,e){return typeof n=="function"?n(e):n}function hl(n){return n.split("-")[0]}function Ud(n){return n.split("-")[1]}function j0(n){return n==="x"?"y":"x"}function N0(n){return n==="y"?"height":"width"}const dP=new Set(["top","bottom"]);function go(n){return dP.has(hl(n))?"y":"x"}function _0(n){return j0(go(n))}function hP(n,e,t){t===void 0&&(t=!1);const s=Ud(n),i=_0(n),o=N0(i);let c=i==="x"?s===(t?"end":"start")?"right":"left":s==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(c=Dp(c)),[c,Dp(c)]}function fP(n){const e=Dp(n);return[Ex(n),e,Ex(e)]}function Ex(n){return n.replace(/start|end/g,e=>uP[e])}const v1=["left","right"],y1=["right","left"],pP=["top","bottom"],mP=["bottom","top"];function gP(n,e,t){switch(n){case"top":case"bottom":return t?e?y1:v1:e?v1:y1;case"left":case"right":return e?pP:mP;default:return[]}}function xP(n,e,t,s){const i=Ud(n);let o=gP(hl(n),t==="start",s);return i&&(o=o.map(c=>c+"-"+i),e&&(o=o.concat(o.map(Ex)))),o}function Dp(n){return n.replace(/left|right|bottom|top/g,e=>cP[e])}function vP(n){return{top:0,right:0,bottom:0,left:0,...n}}function a5(n){return typeof n!="number"?vP(n):{top:n,right:n,bottom:n,left:n}}function Mp(n){const{x:e,y:t,width:s,height:i}=n;return{width:s,height:i,top:t,left:e,right:e+s,bottom:t+i,x:e,y:t}}function w1(n,e,t){let{reference:s,floating:i}=n;const o=go(e),c=_0(e),u=N0(c),d=hl(e),h=o==="y",p=s.x+s.width/2-i.width/2,g=s.y+s.height/2-i.height/2,w=s[u]/2-i[u]/2;let x;switch(d){case"top":x={x:p,y:s.y-i.height};break;case"bottom":x={x:p,y:s.y+s.height};break;case"right":x={x:s.x+s.width,y:g};break;case"left":x={x:s.x-i.width,y:g};break;default:x={x:s.x,y:s.y}}switch(Ud(e)){case"start":x[c]-=w*(t&&h?-1:1);break;case"end":x[c]+=w*(t&&h?-1:1);break}return x}const yP=async(n,e,t)=>{const{placement:s="bottom",strategy:i="absolute",middleware:o=[],platform:c}=t,u=o.filter(Boolean),d=await(c.isRTL==null?void 0:c.isRTL(e));let h=await c.getElementRects({reference:n,floating:e,strategy:i}),{x:p,y:g}=w1(h,s,d),w=s,x={},S=0;for(let _=0;_<u.length;_++){const{name:k,fn:b}=u[_],{x:R,y:P,data:T,reset:F}=await b({x:p,y:g,initialPlacement:s,placement:w,strategy:i,middlewareData:x,rects:h,platform:c,elements:{reference:n,floating:e}});p=R??p,g=P??g,x={...x,[k]:{...x[k],...T}},F&&S<=50&&(S++,typeof F=="object"&&(F.placement&&(w=F.placement),F.rects&&(h=F.rects===!0?await c.getElementRects({reference:n,floating:e,strategy:i}):F.rects),{x:p,y:g}=w1(h,w,d)),_=-1)}return{x:p,y:g,placement:w,strategy:i,middlewareData:x}};async function Fh(n,e){var t;e===void 0&&(e={});const{x:s,y:i,platform:o,rects:c,elements:u,strategy:d}=n,{boundary:h="clippingAncestors",rootBoundary:p="viewport",elementContext:g="floating",altBoundary:w=!1,padding:x=0}=dl(e,n),S=a5(x),k=u[w?g==="floating"?"reference":"floating":g],b=Mp(await o.getClippingRect({element:(t=await(o.isElement==null?void 0:o.isElement(k)))==null||t?k:k.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(u.floating)),boundary:h,rootBoundary:p,strategy:d})),R=g==="floating"?{x:s,y:i,width:c.floating.width,height:c.floating.height}:c.reference,P=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u.floating)),T=await(o.isElement==null?void 0:o.isElement(P))?await(o.getScale==null?void 0:o.getScale(P))||{x:1,y:1}:{x:1,y:1},F=Mp(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:R,offsetParent:P,strategy:d}):R);return{top:(b.top-F.top+S.top)/T.y,bottom:(F.bottom-b.bottom+S.bottom)/T.y,left:(b.left-F.left+S.left)/T.x,right:(F.right-b.right+S.right)/T.x}}const wP=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:s,placement:i,rects:o,platform:c,elements:u,middlewareData:d}=e,{element:h,padding:p=0}=dl(n,e)||{};if(h==null)return{};const g=a5(p),w={x:t,y:s},x=_0(i),S=N0(x),_=await c.getDimensions(h),k=x==="y",b=k?"top":"left",R=k?"bottom":"right",P=k?"clientHeight":"clientWidth",T=o.reference[S]+o.reference[x]-w[x]-o.floating[S],F=w[x]-o.reference[x],ne=await(c.getOffsetParent==null?void 0:c.getOffsetParent(h));let ee=ne?ne[P]:0;(!ee||!await(c.isElement==null?void 0:c.isElement(ne)))&&(ee=u.floating[P]||o.floating[S]);const K=T/2-F/2,Y=ee/2-_[S]/2-1,q=cc(g[b],Y),L=cc(g[R],Y),z=q,U=ee-_[S]-L,te=ee/2-_[S]/2+K,re=Ax(z,te,U),ue=!d.arrow&&Ud(i)!=null&&te!==re&&o.reference[S]/2-(te<z?q:L)-_[S]/2<0,fe=ue?te<z?te-z:te-U:0;return{[x]:w[x]+fe,data:{[x]:re,centerOffset:te-re-fe,...ue&&{alignmentOffset:fe}},reset:ue}}}),bP=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,s;const{placement:i,middlewareData:o,rects:c,initialPlacement:u,platform:d,elements:h}=e,{mainAxis:p=!0,crossAxis:g=!0,fallbackPlacements:w,fallbackStrategy:x="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:_=!0,...k}=dl(n,e);if((t=o.arrow)!=null&&t.alignmentOffset)return{};const b=hl(i),R=go(u),P=hl(u)===u,T=await(d.isRTL==null?void 0:d.isRTL(h.floating)),F=w||(P||!_?[Dp(u)]:fP(u)),ne=S!=="none";!w&&ne&&F.push(...xP(u,_,S,T));const ee=[u,...F],K=await Fh(e,k),Y=[];let q=((s=o.flip)==null?void 0:s.overflows)||[];if(p&&Y.push(K[b]),g){const te=hP(i,c,T);Y.push(K[te[0]],K[te[1]])}if(q=[...q,{placement:i,overflows:Y}],!Y.every(te=>te<=0)){var L,z;const te=(((L=o.flip)==null?void 0:L.index)||0)+1,re=ee[te];if(re&&(!(g==="alignment"?R!==go(re):!1)||q.every(B=>go(B.placement)===R?B.overflows[0]>0:!0)))return{data:{index:te,overflows:q},reset:{placement:re}};let ue=(z=q.filter(fe=>fe.overflows[0]<=0).sort((fe,B)=>fe.overflows[1]-B.overflows[1])[0])==null?void 0:z.placement;if(!ue)switch(x){case"bestFit":{var U;const fe=(U=q.filter(B=>{if(ne){const Z=go(B.placement);return Z===R||Z==="y"}return!0}).map(B=>[B.placement,B.overflows.filter(Z=>Z>0).reduce((Z,me)=>Z+me,0)]).sort((B,Z)=>B[1]-Z[1])[0])==null?void 0:U[0];fe&&(ue=fe);break}case"initialPlacement":ue=u;break}if(i!==ue)return{reset:{placement:ue}}}return{}}}};function b1(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function j1(n){return lP.some(e=>n[e]>=0)}const jP=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:s="referenceHidden",...i}=dl(n,e);switch(s){case"referenceHidden":{const o=await Fh(e,{...i,elementContext:"reference"}),c=b1(o,t.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:j1(c)}}}case"escaped":{const o=await Fh(e,{...i,altBoundary:!0}),c=b1(o,t.floating);return{data:{escapedOffsets:c,escaped:j1(c)}}}default:return{}}}}},o5=new Set(["left","top"]);async function NP(n,e){const{placement:t,platform:s,elements:i}=n,o=await(s.isRTL==null?void 0:s.isRTL(i.floating)),c=hl(t),u=Ud(t),d=go(t)==="y",h=o5.has(c)?-1:1,p=o&&d?-1:1,g=dl(e,n);let{mainAxis:w,crossAxis:x,alignmentAxis:S}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return u&&typeof S=="number"&&(x=u==="end"?S*-1:S),d?{x:x*p,y:w*h}:{x:w*h,y:x*p}}const _P=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,s;const{x:i,y:o,placement:c,middlewareData:u}=e,d=await NP(e,n);return c===((t=u.offset)==null?void 0:t.placement)&&(s=u.arrow)!=null&&s.alignmentOffset?{}:{x:i+d.x,y:o+d.y,data:{...d,placement:c}}}}},SP=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:s,placement:i}=e,{mainAxis:o=!0,crossAxis:c=!1,limiter:u={fn:k=>{let{x:b,y:R}=k;return{x:b,y:R}}},...d}=dl(n,e),h={x:t,y:s},p=await Fh(e,d),g=go(hl(i)),w=j0(g);let x=h[w],S=h[g];if(o){const k=w==="y"?"top":"left",b=w==="y"?"bottom":"right",R=x+p[k],P=x-p[b];x=Ax(R,x,P)}if(c){const k=g==="y"?"top":"left",b=g==="y"?"bottom":"right",R=S+p[k],P=S-p[b];S=Ax(R,S,P)}const _=u.fn({...e,[w]:x,[g]:S});return{..._,data:{x:_.x-t,y:_.y-s,enabled:{[w]:o,[g]:c}}}}}},kP=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:s,placement:i,rects:o,middlewareData:c}=e,{offset:u=0,mainAxis:d=!0,crossAxis:h=!0}=dl(n,e),p={x:t,y:s},g=go(i),w=j0(g);let x=p[w],S=p[g];const _=dl(u,e),k=typeof _=="number"?{mainAxis:_,crossAxis:0}:{mainAxis:0,crossAxis:0,..._};if(d){const P=w==="y"?"height":"width",T=o.reference[w]-o.floating[P]+k.mainAxis,F=o.reference[w]+o.reference[P]-k.mainAxis;x<T?x=T:x>F&&(x=F)}if(h){var b,R;const P=w==="y"?"width":"height",T=o5.has(hl(i)),F=o.reference[g]-o.floating[P]+(T&&((b=c.offset)==null?void 0:b[g])||0)+(T?0:k.crossAxis),ne=o.reference[g]+o.reference[P]+(T?0:((R=c.offset)==null?void 0:R[g])||0)-(T?k.crossAxis:0);S<F?S=F:S>ne&&(S=ne)}return{[w]:x,[g]:S}}}},CP=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,s;const{placement:i,rects:o,platform:c,elements:u}=e,{apply:d=()=>{},...h}=dl(n,e),p=await Fh(e,h),g=hl(i),w=Ud(i),x=go(i)==="y",{width:S,height:_}=o.floating;let k,b;g==="top"||g==="bottom"?(k=g,b=w===(await(c.isRTL==null?void 0:c.isRTL(u.floating))?"start":"end")?"left":"right"):(b=g,k=w==="end"?"top":"bottom");const R=_-p.top-p.bottom,P=S-p.left-p.right,T=cc(_-p[k],R),F=cc(S-p[b],P),ne=!e.middlewareData.shift;let ee=T,K=F;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(K=P),(s=e.middlewareData.shift)!=null&&s.enabled.y&&(ee=R),ne&&!w){const q=Bi(p.left,0),L=Bi(p.right,0),z=Bi(p.top,0),U=Bi(p.bottom,0);x?K=S-2*(q!==0||L!==0?q+L:Bi(p.left,p.right)):ee=_-2*(z!==0||U!==0?z+U:Bi(p.top,p.bottom))}await d({...e,availableWidth:K,availableHeight:ee});const Y=await c.getDimensions(u.floating);return S!==Y.width||_!==Y.height?{reset:{rects:!0}}:{}}}};function dm(){return typeof window<"u"}function $d(n){return l5(n)?(n.nodeName||"").toLowerCase():"#document"}function qi(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function _o(n){var e;return(e=(l5(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function l5(n){return dm()?n instanceof Node||n instanceof qi(n).Node:!1}function Ua(n){return dm()?n instanceof Element||n instanceof qi(n).Element:!1}function wo(n){return dm()?n instanceof HTMLElement||n instanceof qi(n).HTMLElement:!1}function N1(n){return!dm()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof qi(n).ShadowRoot}const AP=new Set(["inline","contents"]);function Xh(n){const{overflow:e,overflowX:t,overflowY:s,display:i}=$a(n);return/auto|scroll|overlay|hidden|clip/.test(e+s+t)&&!AP.has(i)}const EP=new Set(["table","td","th"]);function PP(n){return EP.has($d(n))}const TP=[":popover-open",":modal"];function hm(n){return TP.some(e=>{try{return n.matches(e)}catch{return!1}})}const LP=["transform","translate","scale","rotate","perspective"],IP=["transform","translate","scale","rotate","perspective","filter"],RP=["paint","layout","strict","content"];function S0(n){const e=k0(),t=Ua(n)?$a(n):n;return LP.some(s=>t[s]?t[s]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||IP.some(s=>(t.willChange||"").includes(s))||RP.some(s=>(t.contain||"").includes(s))}function OP(n){let e=uc(n);for(;wo(e)&&!Id(e);){if(S0(e))return e;if(hm(e))return null;e=uc(e)}return null}function k0(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const DP=new Set(["html","body","#document"]);function Id(n){return DP.has($d(n))}function $a(n){return qi(n).getComputedStyle(n)}function fm(n){return Ua(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function uc(n){if($d(n)==="html")return n;const e=n.assignedSlot||n.parentNode||N1(n)&&n.host||_o(n);return N1(e)?e.host:e}function c5(n){const e=uc(n);return Id(e)?n.ownerDocument?n.ownerDocument.body:n.body:wo(e)&&Xh(e)?e:c5(e)}function Bh(n,e,t){var s;e===void 0&&(e=[]),t===void 0&&(t=!0);const i=c5(n),o=i===((s=n.ownerDocument)==null?void 0:s.body),c=qi(i);if(o){const u=Px(c);return e.concat(c,c.visualViewport||[],Xh(i)?i:[],u&&t?Bh(u):[])}return e.concat(i,Bh(i,[],t))}function Px(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function u5(n){const e=$a(n);let t=parseFloat(e.width)||0,s=parseFloat(e.height)||0;const i=wo(n),o=i?n.offsetWidth:t,c=i?n.offsetHeight:s,u=Op(t)!==o||Op(s)!==c;return u&&(t=o,s=c),{width:t,height:s,$:u}}function C0(n){return Ua(n)?n:n.contextElement}function Nd(n){const e=C0(n);if(!wo(e))return vo(1);const t=e.getBoundingClientRect(),{width:s,height:i,$:o}=u5(e);let c=(o?Op(t.width):t.width)/s,u=(o?Op(t.height):t.height)/i;return(!c||!Number.isFinite(c))&&(c=1),(!u||!Number.isFinite(u))&&(u=1),{x:c,y:u}}const MP=vo(0);function d5(n){const e=qi(n);return!k0()||!e.visualViewport?MP:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function FP(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==qi(n)?!1:e}function du(n,e,t,s){e===void 0&&(e=!1),t===void 0&&(t=!1);const i=n.getBoundingClientRect(),o=C0(n);let c=vo(1);e&&(s?Ua(s)&&(c=Nd(s)):c=Nd(n));const u=FP(o,t,s)?d5(o):vo(0);let d=(i.left+u.x)/c.x,h=(i.top+u.y)/c.y,p=i.width/c.x,g=i.height/c.y;if(o){const w=qi(o),x=s&&Ua(s)?qi(s):s;let S=w,_=Px(S);for(;_&&s&&x!==S;){const k=Nd(_),b=_.getBoundingClientRect(),R=$a(_),P=b.left+(_.clientLeft+parseFloat(R.paddingLeft))*k.x,T=b.top+(_.clientTop+parseFloat(R.paddingTop))*k.y;d*=k.x,h*=k.y,p*=k.x,g*=k.y,d+=P,h+=T,S=qi(_),_=Px(S)}}return Mp({width:p,height:g,x:d,y:h})}function pm(n,e){const t=fm(n).scrollLeft;return e?e.left+t:du(_o(n)).left+t}function h5(n,e){const t=n.getBoundingClientRect(),s=t.left+e.scrollLeft-pm(n,t),i=t.top+e.scrollTop;return{x:s,y:i}}function BP(n){let{elements:e,rect:t,offsetParent:s,strategy:i}=n;const o=i==="fixed",c=_o(s),u=e?hm(e.floating):!1;if(s===c||u&&o)return t;let d={scrollLeft:0,scrollTop:0},h=vo(1);const p=vo(0),g=wo(s);if((g||!g&&!o)&&(($d(s)!=="body"||Xh(c))&&(d=fm(s)),wo(s))){const x=du(s);h=Nd(s),p.x=x.x+s.clientLeft,p.y=x.y+s.clientTop}const w=c&&!g&&!o?h5(c,d):vo(0);return{width:t.width*h.x,height:t.height*h.y,x:t.x*h.x-d.scrollLeft*h.x+p.x+w.x,y:t.y*h.y-d.scrollTop*h.y+p.y+w.y}}function UP(n){return Array.from(n.getClientRects())}function $P(n){const e=_o(n),t=fm(n),s=n.ownerDocument.body,i=Bi(e.scrollWidth,e.clientWidth,s.scrollWidth,s.clientWidth),o=Bi(e.scrollHeight,e.clientHeight,s.scrollHeight,s.clientHeight);let c=-t.scrollLeft+pm(n);const u=-t.scrollTop;return $a(s).direction==="rtl"&&(c+=Bi(e.clientWidth,s.clientWidth)-i),{width:i,height:o,x:c,y:u}}const _1=25;function zP(n,e){const t=qi(n),s=_o(n),i=t.visualViewport;let o=s.clientWidth,c=s.clientHeight,u=0,d=0;if(i){o=i.width,c=i.height;const p=k0();(!p||p&&e==="fixed")&&(u=i.offsetLeft,d=i.offsetTop)}const h=pm(s);if(h<=0){const p=s.ownerDocument,g=p.body,w=getComputedStyle(g),x=p.compatMode==="CSS1Compat"&&parseFloat(w.marginLeft)+parseFloat(w.marginRight)||0,S=Math.abs(s.clientWidth-g.clientWidth-x);S<=_1&&(o-=S)}else h<=_1&&(o+=h);return{width:o,height:c,x:u,y:d}}const qP=new Set(["absolute","fixed"]);function VP(n,e){const t=du(n,!0,e==="fixed"),s=t.top+n.clientTop,i=t.left+n.clientLeft,o=wo(n)?Nd(n):vo(1),c=n.clientWidth*o.x,u=n.clientHeight*o.y,d=i*o.x,h=s*o.y;return{width:c,height:u,x:d,y:h}}function S1(n,e,t){let s;if(e==="viewport")s=zP(n,t);else if(e==="document")s=$P(_o(n));else if(Ua(e))s=VP(e,t);else{const i=d5(n);s={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Mp(s)}function f5(n,e){const t=uc(n);return t===e||!Ua(t)||Id(t)?!1:$a(t).position==="fixed"||f5(t,e)}function HP(n,e){const t=e.get(n);if(t)return t;let s=Bh(n,[],!1).filter(u=>Ua(u)&&$d(u)!=="body"),i=null;const o=$a(n).position==="fixed";let c=o?uc(n):n;for(;Ua(c)&&!Id(c);){const u=$a(c),d=S0(c);!d&&u.position==="fixed"&&(i=null),(o?!d&&!i:!d&&u.position==="static"&&!!i&&qP.has(i.position)||Xh(c)&&!d&&f5(n,c))?s=s.filter(p=>p!==c):i=u,c=uc(c)}return e.set(n,s),s}function WP(n){let{element:e,boundary:t,rootBoundary:s,strategy:i}=n;const c=[...t==="clippingAncestors"?hm(e)?[]:HP(e,this._c):[].concat(t),s],u=c[0],d=c.reduce((h,p)=>{const g=S1(e,p,i);return h.top=Bi(g.top,h.top),h.right=cc(g.right,h.right),h.bottom=cc(g.bottom,h.bottom),h.left=Bi(g.left,h.left),h},S1(e,u,i));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function GP(n){const{width:e,height:t}=u5(n);return{width:e,height:t}}function KP(n,e,t){const s=wo(e),i=_o(e),o=t==="fixed",c=du(n,!0,o,e);let u={scrollLeft:0,scrollTop:0};const d=vo(0);function h(){d.x=pm(i)}if(s||!s&&!o)if(($d(e)!=="body"||Xh(i))&&(u=fm(e)),s){const x=du(e,!0,o,e);d.x=x.x+e.clientLeft,d.y=x.y+e.clientTop}else i&&h();o&&!s&&i&&h();const p=i&&!s&&!o?h5(i,u):vo(0),g=c.left+u.scrollLeft-d.x-p.x,w=c.top+u.scrollTop-d.y-p.y;return{x:g,y:w,width:c.width,height:c.height}}function Bg(n){return $a(n).position==="static"}function k1(n,e){if(!wo(n)||$a(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return _o(n)===t&&(t=t.ownerDocument.body),t}function p5(n,e){const t=qi(n);if(hm(n))return t;if(!wo(n)){let i=uc(n);for(;i&&!Id(i);){if(Ua(i)&&!Bg(i))return i;i=uc(i)}return t}let s=k1(n,e);for(;s&&PP(s)&&Bg(s);)s=k1(s,e);return s&&Id(s)&&Bg(s)&&!S0(s)?t:s||OP(n)||t}const YP=async function(n){const e=this.getOffsetParent||p5,t=this.getDimensions,s=await t(n.floating);return{reference:KP(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function JP(n){return $a(n).direction==="rtl"}const XP={convertOffsetParentRelativeRectToViewportRelativeRect:BP,getDocumentElement:_o,getClippingRect:WP,getOffsetParent:p5,getElementRects:YP,getClientRects:UP,getDimensions:GP,getScale:Nd,isElement:Ua,isRTL:JP};function m5(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function QP(n,e){let t=null,s;const i=_o(n);function o(){var u;clearTimeout(s),(u=t)==null||u.disconnect(),t=null}function c(u,d){u===void 0&&(u=!1),d===void 0&&(d=1),o();const h=n.getBoundingClientRect(),{left:p,top:g,width:w,height:x}=h;if(u||e(),!w||!x)return;const S=sp(g),_=sp(i.clientWidth-(p+w)),k=sp(i.clientHeight-(g+x)),b=sp(p),P={rootMargin:-S+"px "+-_+"px "+-k+"px "+-b+"px",threshold:Bi(0,cc(1,d))||1};let T=!0;function F(ne){const ee=ne[0].intersectionRatio;if(ee!==d){if(!T)return c();ee?c(!1,ee):s=setTimeout(()=>{c(!1,1e-7)},1e3)}ee===1&&!m5(h,n.getBoundingClientRect())&&c(),T=!1}try{t=new IntersectionObserver(F,{...P,root:i.ownerDocument})}catch{t=new IntersectionObserver(F,P)}t.observe(n)}return c(!0),o}function ZP(n,e,t,s){s===void 0&&(s={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:d=!1}=s,h=C0(n),p=i||o?[...h?Bh(h):[],...Bh(e)]:[];p.forEach(b=>{i&&b.addEventListener("scroll",t,{passive:!0}),o&&b.addEventListener("resize",t)});const g=h&&u?QP(h,t):null;let w=-1,x=null;c&&(x=new ResizeObserver(b=>{let[R]=b;R&&R.target===h&&x&&(x.unobserve(e),cancelAnimationFrame(w),w=requestAnimationFrame(()=>{var P;(P=x)==null||P.observe(e)})),t()}),h&&!d&&x.observe(h),x.observe(e));let S,_=d?du(n):null;d&&k();function k(){const b=du(n);_&&!m5(_,b)&&t(),_=b,S=requestAnimationFrame(k)}return t(),()=>{var b;p.forEach(R=>{i&&R.removeEventListener("scroll",t),o&&R.removeEventListener("resize",t)}),g?.(),(b=x)==null||b.disconnect(),x=null,d&&cancelAnimationFrame(S)}}const e8=_P,t8=SP,r8=bP,n8=CP,s8=jP,C1=wP,i8=kP,a8=(n,e,t)=>{const s=new Map,i={platform:XP,...t},o={...i.platform,_c:s};return yP(n,e,{...i,platform:o})};var o8=typeof document<"u",l8=function(){},vp=o8?C.useLayoutEffect:l8;function Fp(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,s,i;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(s=t;s--!==0;)if(!Fp(n[s],e[s]))return!1;return!0}if(i=Object.keys(n),t=i.length,t!==Object.keys(e).length)return!1;for(s=t;s--!==0;)if(!{}.hasOwnProperty.call(e,i[s]))return!1;for(s=t;s--!==0;){const o=i[s];if(!(o==="_owner"&&n.$$typeof)&&!Fp(n[o],e[o]))return!1}return!0}return n!==n&&e!==e}function g5(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function A1(n,e){const t=g5(n);return Math.round(e*t)/t}function Ug(n){const e=C.useRef(n);return vp(()=>{e.current=n}),e}function c8(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:s=[],platform:i,elements:{reference:o,floating:c}={},transform:u=!0,whileElementsMounted:d,open:h}=n,[p,g]=C.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[w,x]=C.useState(s);Fp(w,s)||x(s);const[S,_]=C.useState(null),[k,b]=C.useState(null),R=C.useCallback(B=>{B!==ne.current&&(ne.current=B,_(B))},[]),P=C.useCallback(B=>{B!==ee.current&&(ee.current=B,b(B))},[]),T=o||S,F=c||k,ne=C.useRef(null),ee=C.useRef(null),K=C.useRef(p),Y=d!=null,q=Ug(d),L=Ug(i),z=Ug(h),U=C.useCallback(()=>{if(!ne.current||!ee.current)return;const B={placement:e,strategy:t,middleware:w};L.current&&(B.platform=L.current),a8(ne.current,ee.current,B).then(Z=>{const me={...Z,isPositioned:z.current!==!1};te.current&&!Fp(K.current,me)&&(K.current=me,Wh.flushSync(()=>{g(me)}))})},[w,e,t,L,z]);vp(()=>{h===!1&&K.current.isPositioned&&(K.current.isPositioned=!1,g(B=>({...B,isPositioned:!1})))},[h]);const te=C.useRef(!1);vp(()=>(te.current=!0,()=>{te.current=!1}),[]),vp(()=>{if(T&&(ne.current=T),F&&(ee.current=F),T&&F){if(q.current)return q.current(T,F,U);U()}},[T,F,U,q,Y]);const re=C.useMemo(()=>({reference:ne,floating:ee,setReference:R,setFloating:P}),[R,P]),ue=C.useMemo(()=>({reference:T,floating:F}),[T,F]),fe=C.useMemo(()=>{const B={position:t,left:0,top:0};if(!ue.floating)return B;const Z=A1(ue.floating,p.x),me=A1(ue.floating,p.y);return u?{...B,transform:"translate("+Z+"px, "+me+"px)",...g5(ue.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:Z,top:me}},[t,u,ue.floating,p.x,p.y]);return C.useMemo(()=>({...p,update:U,refs:re,elements:ue,floatingStyles:fe}),[p,U,re,ue,fe])}const u8=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:s,padding:i}=typeof n=="function"?n(t):n;return s&&e(s)?s.current!=null?C1({element:s.current,padding:i}).fn(t):{}:s?C1({element:s,padding:i}).fn(t):{}}}},d8=(n,e)=>({...e8(n),options:[n,e]}),h8=(n,e)=>({...t8(n),options:[n,e]}),f8=(n,e)=>({...i8(n),options:[n,e]}),p8=(n,e)=>({...r8(n),options:[n,e]}),m8=(n,e)=>({...n8(n),options:[n,e]}),g8=(n,e)=>({...s8(n),options:[n,e]}),x8=(n,e)=>({...u8(n),options:[n,e]});var v8="Arrow",x5=C.forwardRef((n,e)=>{const{children:t,width:s=10,height:i=5,...o}=n;return r.jsx(fr.svg,{...o,ref:e,width:s,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:r.jsx("polygon",{points:"0,0 30,0 15,10"})})});x5.displayName=v8;var y8=x5;function w8(n){const[e,t]=C.useState(void 0);return $s(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const s=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const o=i[0];let c,u;if("borderBoxSize"in o){const d=o.borderBoxSize,h=Array.isArray(d)?d[0]:d;c=h.inlineSize,u=h.blockSize}else c=n.offsetWidth,u=n.offsetHeight;t({width:c,height:u})});return s.observe(n,{box:"border-box"}),()=>s.unobserve(n)}else t(void 0)},[n]),e}var A0="Popper",[v5,zd]=gl(A0),[b8,y5]=v5(A0),w5=n=>{const{__scopePopper:e,children:t}=n,[s,i]=C.useState(null);return r.jsx(b8,{scope:e,anchor:s,onAnchorChange:i,children:t})};w5.displayName=A0;var b5="PopperAnchor",j5=C.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:s,...i}=n,o=y5(b5,t),c=C.useRef(null),u=Qr(e,c),d=C.useRef(null);return C.useEffect(()=>{const h=d.current;d.current=s?.current||c.current,h!==d.current&&o.onAnchorChange(d.current)}),s?null:r.jsx(fr.div,{...i,ref:u})});j5.displayName=b5;var E0="PopperContent",[j8,N8]=v5(E0),N5=C.forwardRef((n,e)=>{const{__scopePopper:t,side:s="bottom",sideOffset:i=0,align:o="center",alignOffset:c=0,arrowPadding:u=0,avoidCollisions:d=!0,collisionBoundary:h=[],collisionPadding:p=0,sticky:g="partial",hideWhenDetached:w=!1,updatePositionStrategy:x="optimized",onPlaced:S,..._}=n,k=y5(E0,t),[b,R]=C.useState(null),P=Qr(e,le=>R(le)),[T,F]=C.useState(null),ne=w8(T),ee=ne?.width??0,K=ne?.height??0,Y=s+(o!=="center"?"-"+o:""),q=typeof p=="number"?p:{top:0,right:0,bottom:0,left:0,...p},L=Array.isArray(h)?h:[h],z=L.length>0,U={padding:q,boundary:L.filter(S8),altBoundary:z},{refs:te,floatingStyles:re,placement:ue,isPositioned:fe,middlewareData:B}=c8({strategy:"fixed",placement:Y,whileElementsMounted:(...le)=>ZP(...le,{animationFrame:x==="always"}),elements:{reference:k.anchor},middleware:[d8({mainAxis:i+K,alignmentAxis:c}),d&&h8({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?f8():void 0,...U}),d&&p8({...U}),m8({...U,apply:({elements:le,rects:ge,availableWidth:be,availableHeight:Se})=>{const{width:De,height:Je}=ge.reference,tt=le.floating.style;tt.setProperty("--radix-popper-available-width",`${be}px`),tt.setProperty("--radix-popper-available-height",`${Se}px`),tt.setProperty("--radix-popper-anchor-width",`${De}px`),tt.setProperty("--radix-popper-anchor-height",`${Je}px`)}}),T&&x8({element:T,padding:u}),k8({arrowWidth:ee,arrowHeight:K}),w&&g8({strategy:"referenceHidden",...U})]}),[Z,me]=k5(ue),H=yo(S);$s(()=>{fe&&H?.()},[fe,H]);const O=B.arrow?.x,V=B.arrow?.y,X=B.arrow?.centerOffset!==0,[se,de]=C.useState();return $s(()=>{b&&de(window.getComputedStyle(b).zIndex)},[b]),r.jsx("div",{ref:te.setFloating,"data-radix-popper-content-wrapper":"",style:{...re,transform:fe?re.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:se,"--radix-popper-transform-origin":[B.transformOrigin?.x,B.transformOrigin?.y].join(" "),...B.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:r.jsx(j8,{scope:t,placedSide:Z,onArrowChange:F,arrowX:O,arrowY:V,shouldHideArrow:X,children:r.jsx(fr.div,{"data-side":Z,"data-align":me,..._,ref:P,style:{..._.style,animation:fe?void 0:"none"}})})})});N5.displayName=E0;var _5="PopperArrow",_8={top:"bottom",right:"left",bottom:"top",left:"right"},S5=C.forwardRef(function(e,t){const{__scopePopper:s,...i}=e,o=N8(_5,s),c=_8[o.placedSide];return r.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:r.jsx(y8,{...i,ref:t,style:{...i.style,display:"block"}})})});S5.displayName=_5;function S8(n){return n!==null}var k8=n=>({name:"transformOrigin",options:n,fn(e){const{placement:t,rects:s,middlewareData:i}=e,c=i.arrow?.centerOffset!==0,u=c?0:n.arrowWidth,d=c?0:n.arrowHeight,[h,p]=k5(t),g={start:"0%",center:"50%",end:"100%"}[p],w=(i.arrow?.x??0)+u/2,x=(i.arrow?.y??0)+d/2;let S="",_="";return h==="bottom"?(S=c?g:`${w}px`,_=`${-d}px`):h==="top"?(S=c?g:`${w}px`,_=`${s.floating.height+d}px`):h==="right"?(S=`${-d}px`,_=c?g:`${x}px`):h==="left"&&(S=`${s.floating.width+d}px`,_=c?g:`${x}px`),{data:{x:S,y:_}}}});function k5(n){const[e,t="center"]=n.split("-");return[e,t]}var P0=w5,T0=j5,L0=N5,I0=S5,C8=Symbol("radix.slottable");function A8(n){const e=({children:t})=>r.jsx(r.Fragment,{children:t});return e.displayName=`${n}.Slottable`,e.__radixId=C8,e}var C5=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),E8="VisuallyHidden",A5=C.forwardRef((n,e)=>r.jsx(fr.span,{...n,ref:e,style:{...C5,...n.style}}));A5.displayName=E8;var P8=A5,[mm]=gl("Tooltip",[zd]),gm=zd(),E5="TooltipProvider",T8=700,Tx="tooltip.open",[L8,R0]=mm(E5),P5=n=>{const{__scopeTooltip:e,delayDuration:t=T8,skipDelayDuration:s=300,disableHoverableContent:i=!1,children:o}=n,c=C.useRef(!0),u=C.useRef(!1),d=C.useRef(0);return C.useEffect(()=>{const h=d.current;return()=>window.clearTimeout(h)},[]),r.jsx(L8,{scope:e,isOpenDelayedRef:c,delayDuration:t,onOpen:C.useCallback(()=>{window.clearTimeout(d.current),c.current=!1},[]),onClose:C.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>c.current=!0,s)},[s]),isPointerInTransitRef:u,onPointerInTransitChange:C.useCallback(h=>{u.current=h},[]),disableHoverableContent:i,children:o})};P5.displayName=E5;var Uh="Tooltip",[I8,Qh]=mm(Uh),T5=n=>{const{__scopeTooltip:e,children:t,open:s,defaultOpen:i,onOpenChange:o,disableHoverableContent:c,delayDuration:u}=n,d=R0(Uh,n.__scopeTooltip),h=gm(e),[p,g]=C.useState(null),w=Ba(),x=C.useRef(0),S=c??d.disableHoverableContent,_=u??d.delayDuration,k=C.useRef(!1),[b,R]=cu({prop:s,defaultProp:i??!1,onChange:ee=>{ee?(d.onOpen(),document.dispatchEvent(new CustomEvent(Tx))):d.onClose(),o?.(ee)},caller:Uh}),P=C.useMemo(()=>b?k.current?"delayed-open":"instant-open":"closed",[b]),T=C.useCallback(()=>{window.clearTimeout(x.current),x.current=0,k.current=!1,R(!0)},[R]),F=C.useCallback(()=>{window.clearTimeout(x.current),x.current=0,R(!1)},[R]),ne=C.useCallback(()=>{window.clearTimeout(x.current),x.current=window.setTimeout(()=>{k.current=!0,R(!0),x.current=0},_)},[_,R]);return C.useEffect(()=>()=>{x.current&&(window.clearTimeout(x.current),x.current=0)},[]),r.jsx(P0,{...h,children:r.jsx(I8,{scope:e,contentId:w,open:b,stateAttribute:P,trigger:p,onTriggerChange:g,onTriggerEnter:C.useCallback(()=>{d.isOpenDelayedRef.current?ne():T()},[d.isOpenDelayedRef,ne,T]),onTriggerLeave:C.useCallback(()=>{S?F():(window.clearTimeout(x.current),x.current=0)},[F,S]),onOpen:T,onClose:F,disableHoverableContent:S,children:t})})};T5.displayName=Uh;var Lx="TooltipTrigger",L5=C.forwardRef((n,e)=>{const{__scopeTooltip:t,...s}=n,i=Qh(Lx,t),o=R0(Lx,t),c=gm(t),u=C.useRef(null),d=Qr(e,u,i.onTriggerChange),h=C.useRef(!1),p=C.useRef(!1),g=C.useCallback(()=>h.current=!1,[]);return C.useEffect(()=>()=>document.removeEventListener("pointerup",g),[g]),r.jsx(T0,{asChild:!0,...c,children:r.jsx(fr.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...s,ref:d,onPointerMove:jt(n.onPointerMove,w=>{w.pointerType!=="touch"&&!p.current&&!o.isPointerInTransitRef.current&&(i.onTriggerEnter(),p.current=!0)}),onPointerLeave:jt(n.onPointerLeave,()=>{i.onTriggerLeave(),p.current=!1}),onPointerDown:jt(n.onPointerDown,()=>{i.open&&i.onClose(),h.current=!0,document.addEventListener("pointerup",g,{once:!0})}),onFocus:jt(n.onFocus,()=>{h.current||i.onOpen()}),onBlur:jt(n.onBlur,i.onClose),onClick:jt(n.onClick,i.onClose)})})});L5.displayName=Lx;var O0="TooltipPortal",[R8,O8]=mm(O0,{forceMount:void 0}),I5=n=>{const{__scopeTooltip:e,forceMount:t,children:s,container:i}=n,o=Qh(O0,e);return r.jsx(R8,{scope:e,forceMount:t,children:r.jsx(qa,{present:t||o.open,children:r.jsx(Jh,{asChild:!0,container:i,children:s})})})};I5.displayName=O0;var Rd="TooltipContent",R5=C.forwardRef((n,e)=>{const t=O8(Rd,n.__scopeTooltip),{forceMount:s=t.forceMount,side:i="top",...o}=n,c=Qh(Rd,n.__scopeTooltip);return r.jsx(qa,{present:s||c.open,children:c.disableHoverableContent?r.jsx(O5,{side:i,...o,ref:e}):r.jsx(D8,{side:i,...o,ref:e})})}),D8=C.forwardRef((n,e)=>{const t=Qh(Rd,n.__scopeTooltip),s=R0(Rd,n.__scopeTooltip),i=C.useRef(null),o=Qr(e,i),[c,u]=C.useState(null),{trigger:d,onClose:h}=t,p=i.current,{onPointerInTransitChange:g}=s,w=C.useCallback(()=>{u(null),g(!1)},[g]),x=C.useCallback((S,_)=>{const k=S.currentTarget,b={x:S.clientX,y:S.clientY},R=U8(b,k.getBoundingClientRect()),P=$8(b,R),T=z8(_.getBoundingClientRect()),F=V8([...P,...T]);u(F),g(!0)},[g]);return C.useEffect(()=>()=>w(),[w]),C.useEffect(()=>{if(d&&p){const S=k=>x(k,p),_=k=>x(k,d);return d.addEventListener("pointerleave",S),p.addEventListener("pointerleave",_),()=>{d.removeEventListener("pointerleave",S),p.removeEventListener("pointerleave",_)}}},[d,p,x,w]),C.useEffect(()=>{if(c){const S=_=>{const k=_.target,b={x:_.clientX,y:_.clientY},R=d?.contains(k)||p?.contains(k),P=!q8(b,c);R?w():P&&(w(),h())};return document.addEventListener("pointermove",S),()=>document.removeEventListener("pointermove",S)}},[d,p,c,h,w]),r.jsx(O5,{...n,ref:o})}),[M8,F8]=mm(Uh,{isInside:!1}),B8=A8("TooltipContent"),O5=C.forwardRef((n,e)=>{const{__scopeTooltip:t,children:s,"aria-label":i,onEscapeKeyDown:o,onPointerDownOutside:c,...u}=n,d=Qh(Rd,t),h=gm(t),{onClose:p}=d;return C.useEffect(()=>(document.addEventListener(Tx,p),()=>document.removeEventListener(Tx,p)),[p]),C.useEffect(()=>{if(d.trigger){const g=w=>{w.target?.contains(d.trigger)&&p()};return window.addEventListener("scroll",g,{capture:!0}),()=>window.removeEventListener("scroll",g,{capture:!0})}},[d.trigger,p]),r.jsx(Yh,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:c,onFocusOutside:g=>g.preventDefault(),onDismiss:p,children:r.jsxs(L0,{"data-state":d.stateAttribute,...h,...u,ref:e,style:{...u.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[r.jsx(B8,{children:s}),r.jsx(M8,{scope:t,isInside:!0,children:r.jsx(P8,{id:d.contentId,role:"tooltip",children:i||s})})]})})});R5.displayName=Rd;var D5="TooltipArrow",M5=C.forwardRef((n,e)=>{const{__scopeTooltip:t,...s}=n,i=gm(t);return F8(D5,t).isInside?null:r.jsx(I0,{...i,...s,ref:e})});M5.displayName=D5;function U8(n,e){const t=Math.abs(e.top-n.y),s=Math.abs(e.bottom-n.y),i=Math.abs(e.right-n.x),o=Math.abs(e.left-n.x);switch(Math.min(t,s,i,o)){case o:return"left";case i:return"right";case t:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function $8(n,e,t=5){const s=[];switch(e){case"top":s.push({x:n.x-t,y:n.y+t},{x:n.x+t,y:n.y+t});break;case"bottom":s.push({x:n.x-t,y:n.y-t},{x:n.x+t,y:n.y-t});break;case"left":s.push({x:n.x+t,y:n.y-t},{x:n.x+t,y:n.y+t});break;case"right":s.push({x:n.x-t,y:n.y-t},{x:n.x-t,y:n.y+t});break}return s}function z8(n){const{top:e,right:t,bottom:s,left:i}=n;return[{x:i,y:e},{x:t,y:e},{x:t,y:s},{x:i,y:s}]}function q8(n,e){const{x:t,y:s}=n;let i=!1;for(let o=0,c=e.length-1;o<e.length;c=o++){const u=e[o],d=e[c],h=u.x,p=u.y,g=d.x,w=d.y;p>s!=w>s&&t<(g-h)*(s-p)/(w-p)+h&&(i=!i)}return i}function V8(n){const e=n.slice();return e.sort((t,s)=>t.x<s.x?-1:t.x>s.x?1:t.y<s.y?-1:t.y>s.y?1:0),H8(e)}function H8(n){if(n.length<=1)return n.slice();const e=[];for(let s=0;s<n.length;s++){const i=n[s];for(;e.length>=2;){const o=e[e.length-1],c=e[e.length-2];if((o.x-c.x)*(i.y-c.y)>=(o.y-c.y)*(i.x-c.x))e.pop();else break}e.push(i)}e.pop();const t=[];for(let s=n.length-1;s>=0;s--){const i=n[s];for(;t.length>=2;){const o=t[t.length-1],c=t[t.length-2];if((o.x-c.x)*(i.y-c.y)>=(o.y-c.y)*(i.x-c.x))t.pop();else break}t.push(i)}return t.pop(),e.length===1&&t.length===1&&e[0].x===t[0].x&&e[0].y===t[0].y?e:e.concat(t)}var W8=P5,G8=T5,K8=L5,Y8=I5,J8=R5,X8=M5;function F5({delayDuration:n=0,...e}){return r.jsx(W8,{"data-slot":"tooltip-provider",delayDuration:n,...e})}function Q8({...n}){return r.jsx(F5,{children:r.jsx(G8,{"data-slot":"tooltip",...n})})}function Z8({...n}){return r.jsx(K8,{"data-slot":"tooltip-trigger",...n})}function eT({className:n,sideOffset:e=0,children:t,...s}){return r.jsx(Y8,{children:r.jsxs(J8,{"data-slot":"tooltip-content",sideOffset:e,className:Nt("bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",n),...s,children:[t,r.jsx(X8,{className:"bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}const tT="sidebar_state",rT=3600*24*7,nT="16rem",sT="18rem",iT="3rem",aT="b",B5=C.createContext(null);function D0(){const n=C.useContext(B5);if(!n)throw new Error("useSidebar must be used within a SidebarProvider.");return n}function oT({defaultOpen:n=!0,open:e,onOpenChange:t,className:s,style:i,children:o,...c}){const u=bE(),[d,h]=C.useState(!1),[p,g]=C.useState(n),w=e??p,x=C.useCallback(b=>{const R=typeof b=="function"?b(w):b;t?t(R):g(R),document.cookie=`${tT}=${R}; path=/; max-age=${rT}`},[t,w]),S=C.useCallback(()=>u?h(b=>!b):x(b=>!b),[u,x,h]);C.useEffect(()=>{const b=R=>{R.key===aT&&(R.metaKey||R.ctrlKey)&&(R.preventDefault(),S())};return window.addEventListener("keydown",b),()=>window.removeEventListener("keydown",b)},[S]);const _=w?"expanded":"collapsed",k=C.useMemo(()=>({state:_,open:w,setOpen:x,isMobile:u,openMobile:d,setOpenMobile:h,toggleSidebar:S}),[_,w,x,u,d,h,S]);return r.jsx(B5.Provider,{value:k,children:r.jsx(F5,{delayDuration:0,children:r.jsx("div",{"data-slot":"sidebar-wrapper",style:{"--sidebar-width":nT,"--sidebar-width-icon":iT,...i},className:Nt("group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full",s),...c,children:o})})})}function lT({side:n="left",variant:e="sidebar",collapsible:t="offcanvas",className:s,children:i,...o}){const{isMobile:c,state:u,openMobile:d,setOpenMobile:h}=D0();return t==="none"?r.jsx("div",{"data-slot":"sidebar",className:Nt("bg-sidebar text-sidebar-foreground flex h-full w-(--sidebar-width) flex-col",s),...o,children:i}):c?r.jsx(t5,{open:d,onOpenChange:h,...o,children:r.jsxs(w0,{"data-sidebar":"sidebar","data-slot":"sidebar","data-mobile":"true",className:"bg-sidebar text-sidebar-foreground w-(--sidebar-width) p-0 [&>button]:hidden",style:{"--sidebar-width":sT},side:n,children:[r.jsxs(s5,{className:"sr-only",children:[r.jsx(b0,{children:"Sidebar"}),r.jsx(i5,{children:"Displays the mobile sidebar."})]}),r.jsx("div",{className:"flex h-full w-full flex-col",children:i})]})}):r.jsxs("div",{className:"group peer text-sidebar-foreground hidden md:block","data-state":u,"data-collapsible":u==="collapsed"?t:"","data-variant":e,"data-side":n,"data-slot":"sidebar",children:[r.jsx("div",{"data-slot":"sidebar-gap",className:Nt("relative w-(--sidebar-width) bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",e==="floating"||e==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4)))]":"group-data-[collapsible=icon]:w-(--sidebar-width-icon)")}),r.jsx("div",{"data-slot":"sidebar-container",className:Nt("fixed inset-y-0 z-10 hidden h-svh w-(--sidebar-width) transition-[left,right,width] duration-200 ease-linear md:flex",n==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",e==="floating"||e==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4))+2px)]":"group-data-[collapsible=icon]:w-(--sidebar-width-icon) group-data-[side=left]:border-r group-data-[side=right]:border-l",s),...o,children:r.jsx("div",{"data-sidebar":"sidebar","data-slot":"sidebar-inner",className:"bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm",children:i})})]})}function cT({className:n,onClick:e,...t}){const{toggleSidebar:s}=D0();return r.jsxs(Ae,{"data-sidebar":"trigger","data-slot":"sidebar-trigger",variant:"ghost",size:"icon",className:Nt("size-7",n),onClick:i=>{e?.(i),s()},...t,children:[r.jsx(w3,{}),r.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})}function uT({className:n,...e}){return r.jsx("div",{"data-slot":"sidebar-header","data-sidebar":"header",className:Nt("flex flex-col gap-2 p-2",n),...e})}function dT({className:n,...e}){return r.jsx("div",{"data-slot":"sidebar-footer","data-sidebar":"footer",className:Nt("flex flex-col gap-2 p-2",n),...e})}function hT({className:n,...e}){return r.jsx("div",{"data-slot":"sidebar-content","data-sidebar":"content",className:Nt("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",n),...e})}function fT({className:n,...e}){return r.jsx("div",{"data-slot":"sidebar-group","data-sidebar":"group",className:Nt("relative flex w-full min-w-0 flex-col p-2",n),...e})}function pT({className:n,asChild:e=!1,...t}){const s=e?Yp:"div";return r.jsx(s,{"data-slot":"sidebar-group-label","data-sidebar":"group-label",className:Nt("text-sidebar-foreground/70 ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",n),...t})}function mT({className:n,...e}){return r.jsx("div",{"data-slot":"sidebar-group-content","data-sidebar":"group-content",className:Nt("w-full text-sm",n),...e})}function gT({className:n,...e}){return r.jsx("ul",{"data-slot":"sidebar-menu","data-sidebar":"menu",className:Nt("flex w-full min-w-0 flex-col gap-1",n),...e})}function xT({className:n,...e}){return r.jsx("li",{"data-slot":"sidebar-menu-item","data-sidebar":"menu-item",className:Nt("group/menu-item relative",n),...e})}const vT=Jp("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:p-0!"}},defaultVariants:{variant:"default",size:"default"}});function yT({asChild:n=!1,isActive:e=!1,variant:t="default",size:s="default",tooltip:i,className:o,...c}){const u=n?Yp:"button",{isMobile:d,state:h}=D0(),p=r.jsx(u,{"data-slot":"sidebar-menu-button","data-sidebar":"menu-button","data-size":s,"data-active":e,className:Nt(vT({variant:t,size:s}),o),...c});return i?(typeof i=="string"&&(i={children:i}),r.jsxs(Q8,{children:[r.jsx(Z8,{asChild:!0,children:p}),r.jsx(eT,{side:"right",align:"center",hidden:h!=="collapsed"||d,...i})]})):p}const wT=[{id:"dashboard",title:"Dashboard",icon:ZS},{id:"quick-invoice",title:"Quick Invoice",icon:lu},{id:"quick-billing",title:"Quick Billing",icon:Pd},{id:"customers",title:"Customers",icon:vi},{id:"products",title:"Products",icon:dx},{id:"suppliers",title:"Suppliers",icon:nu},{id:"transactions",title:"Transactions",icon:Ap},{id:"reports",title:"Reports",icon:mp},{id:"ocr-scanner",title:"AI OCR Scanner",icon:kw,badge:"Premium",isPremium:!0},{id:"accounting",title:"Accounting",icon:ac,badge:"Pro",isPremium:!0},{id:"inventory",title:"Inventory",icon:Fa,badge:"Pro",isPremium:!0},{id:"tax",title:"Tax Compliance",icon:vs,badge:"Pro",isPremium:!0},{id:"payroll",title:"Payroll",icon:vi,badge:"Premium",isPremium:!0},{id:"settings",title:"Settings",icon:M3}];function bT({children:n,activeModule:e,onModuleChange:t}){const[s,i]=C.useState(!1),{logout:o,user:c}=Kh(),u=()=>{i(!s),document.documentElement.classList.toggle("dark")},d=async()=>{try{await o(),Le.success("Logged out successfully")}catch{Le.error("Failed to log out")}};return r.jsx(oT,{children:r.jsxs("div",{className:"flex h-screen w-full",children:[r.jsxs(lT,{variant:"inset",children:[r.jsx(uT,{children:r.jsxs("div",{className:"flex items-center gap-2 px-4 py-2",children:[r.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-primary text-primary-foreground",children:r.jsx(ac,{className:"h-4 w-4"})}),r.jsxs("div",{className:"grid flex-1 text-left text-sm leading-tight",children:[r.jsx("span",{className:"truncate font-semibold",children:"EaziBook"}),r.jsx("span",{className:"truncate text-xs",children:"by LifeisEazi Group"})]})]})}),r.jsx(hT,{children:r.jsxs(fT,{children:[r.jsx(pT,{children:"Navigation"}),r.jsx(mT,{children:r.jsx(gT,{children:wT.map(h=>r.jsx(xT,{children:r.jsx(yT,{asChild:!0,onClick:()=>t(h.id),className:Nt(e===h.id&&"bg-sidebar-accent text-sidebar-accent-foreground"),children:r.jsxs("a",{href:"#",className:"flex items-center gap-3",children:[r.jsx(h.icon,{className:"h-4 w-4"}),r.jsx("span",{children:h.title}),h.badge&&r.jsx("span",{className:"ml-auto text-xs px-1.5 py-0.5 rounded-full bg-primary text-primary-foreground",children:h.badge})]})})},h.id))})})]})}),r.jsx(dT,{children:r.jsxs("div",{className:"p-4 space-y-3",children:[c&&r.jsxs("div",{className:"px-3 py-2 rounded-lg bg-muted text-sm",children:[r.jsx("p",{className:"font-medium truncate",children:c.name}),r.jsx("p",{className:"text-xs text-muted-foreground truncate",children:c.email})]}),r.jsxs(Ae,{variant:"outline",size:"sm",onClick:u,className:"w-full gap-2",children:[s?r.jsx(H3,{className:"h-4 w-4"}):r.jsx(x3,{className:"h-4 w-4"}),s?"Light Mode":"Dark Mode"]}),r.jsxs(Ae,{variant:"outline",size:"sm",onClick:d,className:"w-full gap-2",children:[r.jsx(o3,{className:"h-4 w-4"}),"Logout"]}),r.jsxs("div",{className:"text-center text-xs text-muted-foreground",children:[r.jsx("p",{className:"font-medium",children:"EaziBook"}),r.jsx("p",{className:"text-[10px]",children:"by LifeisEazi Group Enterprises"})]})]})})]}),r.jsxs("main",{className:"flex-1 flex flex-col overflow-hidden",children:[r.jsx("header",{className:"border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:r.jsxs("div",{className:"flex h-14 items-center px-4",children:[r.jsx(cT,{}),r.jsx("div",{className:"flex-1"})]})}),r.jsx("div",{className:"flex-1 overflow-y-auto",children:n})]})]})})}function jT({onQuickInvoice:n,onQuickBilling:e}){const[t,s]=C.useState(!1),i=[{id:"invoice",label:"Quick Invoice",icon:vs,action:()=>{n(),s(!1)},color:"bg-foreground hover:bg-foreground/90 text-background"},{id:"billing",label:"Quick Bill",icon:Pd,action:()=>{e(),s(!1)},color:"bg-foreground hover:bg-foreground/90 text-background"}];return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"fixed bottom-6 right-6 z-50 hidden md:flex flex-col gap-2",children:[t&&r.jsx("div",{className:"flex flex-col gap-2 animate-in slide-in-from-bottom-2",children:i.map(o=>r.jsxs(Ae,{onClick:o.action,size:"lg",className:Nt("h-12 w-12 rounded-full shadow-lg transition-all duration-200 hover:scale-105",o.color),children:[r.jsx(o.icon,{className:"h-5 w-5"}),r.jsx("span",{className:"sr-only",children:o.label})]},o.id))}),r.jsxs(Ae,{onClick:()=>s(!t),size:"lg",className:Nt("h-14 w-14 rounded-full shadow-lg bg-primary hover:bg-primary/90 transition-all duration-200",t?"rotate-45":"hover:scale-105"),children:[r.jsx(la,{className:"h-6 w-6"}),r.jsx("span",{className:"sr-only",children:"Quick Actions"})]})]}),r.jsx("div",{className:"fixed bottom-6 right-6 z-50 md:hidden",children:r.jsxs(t5,{children:[r.jsx(r5,{asChild:!0,children:r.jsxs(Ae,{size:"lg",className:"h-14 w-14 rounded-full shadow-lg bg-primary hover:bg-primary/90 transition-all duration-200 hover:scale-105",children:[r.jsx(lu,{className:"h-6 w-6"}),r.jsx("span",{className:"sr-only",children:"Quick Actions"})]})}),r.jsxs(w0,{side:"bottom",className:"h-auto",children:[r.jsx(s5,{className:"text-left",children:r.jsx(b0,{children:"Quick Actions"})}),r.jsx("div",{className:"grid grid-cols-2 gap-4 mt-6 mb-4",children:i.map(o=>r.jsxs(Ae,{onClick:o.action,size:"lg",className:Nt("h-16 flex-col gap-2 transition-all duration-200",o.color),children:[r.jsx(o.icon,{className:"h-6 w-6"}),r.jsx("span",{className:"text-sm",children:o.label})]},o.id))})]})]})})]})}function E1(n){const e=NT(n),t=C.forwardRef((s,i)=>{const{children:o,...c}=s,u=C.Children.toArray(o),d=u.find(ST);if(d){const h=d.props.children,p=u.map(g=>g===d?C.Children.count(h)>1?C.Children.only(null):C.isValidElement(h)?h.props.children:null:g);return r.jsx(e,{...c,ref:i,children:C.isValidElement(h)?C.cloneElement(h,void 0,p):null})}return r.jsx(e,{...c,ref:i,children:o})});return t.displayName=`${n}.Slot`,t}function NT(n){const e=C.forwardRef((t,s)=>{const{children:i,...o}=t;if(C.isValidElement(i)){const c=CT(i),u=kT(o,i.props);return i.type!==C.Fragment&&(u.ref=s?ml(s,c):c),C.cloneElement(i,u)}return C.Children.count(i)>1?C.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var _T=Symbol("radix.slottable");function ST(n){return C.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===_T}function kT(n,e){const t={...e};for(const s in e){const i=n[s],o=e[s];/^on[A-Z]/.test(s)?i&&o?t[s]=(...u)=>{const d=o(...u);return i(...u),d}:i&&(t[s]=i):s==="style"?t[s]={...i,...o}:s==="className"&&(t[s]=[i,o].filter(Boolean).join(" "))}return{...n,...t}}function CT(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function M0(n){const e=n+"CollectionProvider",[t,s]=gl(e),[i,o]=t(e,{collectionRef:{current:null},itemMap:new Map}),c=_=>{const{scope:k,children:b}=_,R=nt.useRef(null),P=nt.useRef(new Map).current;return r.jsx(i,{scope:k,itemMap:P,collectionRef:R,children:b})};c.displayName=e;const u=n+"CollectionSlot",d=E1(u),h=nt.forwardRef((_,k)=>{const{scope:b,children:R}=_,P=o(u,b),T=Qr(k,P.collectionRef);return r.jsx(d,{ref:T,children:R})});h.displayName=u;const p=n+"CollectionItemSlot",g="data-radix-collection-item",w=E1(p),x=nt.forwardRef((_,k)=>{const{scope:b,children:R,...P}=_,T=nt.useRef(null),F=Qr(k,T),ne=o(p,b);return nt.useEffect(()=>(ne.itemMap.set(T,{ref:T,...P}),()=>void ne.itemMap.delete(T))),r.jsx(w,{[g]:"",ref:F,children:R})});x.displayName=p;function S(_){const k=o(n+"CollectionConsumer",_);return nt.useCallback(()=>{const R=k.collectionRef.current;if(!R)return[];const P=Array.from(R.querySelectorAll(`[${g}]`));return Array.from(k.itemMap.values()).sort((ne,ee)=>P.indexOf(ne.ref.current)-P.indexOf(ee.ref.current))},[k.collectionRef,k.itemMap])}return[{Provider:c,Slot:h,ItemSlot:x},S,s]}var AT=C.createContext(void 0);function xm(n){const e=C.useContext(AT);return n||e||"ltr"}var $g="rovingFocusGroup.onEntryFocus",ET={bubbles:!1,cancelable:!0},Zh="RovingFocusGroup",[Ix,U5,PT]=M0(Zh),[TT,vm]=gl(Zh,[PT]),[LT,IT]=TT(Zh),$5=C.forwardRef((n,e)=>r.jsx(Ix.Provider,{scope:n.__scopeRovingFocusGroup,children:r.jsx(Ix.Slot,{scope:n.__scopeRovingFocusGroup,children:r.jsx(RT,{...n,ref:e})})}));$5.displayName=Zh;var RT=C.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,orientation:s,loop:i=!1,dir:o,currentTabStopId:c,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:d,onEntryFocus:h,preventScrollOnEntryFocus:p=!1,...g}=n,w=C.useRef(null),x=Qr(e,w),S=xm(o),[_,k]=cu({prop:c,defaultProp:u??null,onChange:d,caller:Zh}),[b,R]=C.useState(!1),P=yo(h),T=U5(t),F=C.useRef(!1),[ne,ee]=C.useState(0);return C.useEffect(()=>{const K=w.current;if(K)return K.addEventListener($g,P),()=>K.removeEventListener($g,P)},[P]),r.jsx(LT,{scope:t,orientation:s,dir:S,loop:i,currentTabStopId:_,onItemFocus:C.useCallback(K=>k(K),[k]),onItemShiftTab:C.useCallback(()=>R(!0),[]),onFocusableItemAdd:C.useCallback(()=>ee(K=>K+1),[]),onFocusableItemRemove:C.useCallback(()=>ee(K=>K-1),[]),children:r.jsx(fr.div,{tabIndex:b||ne===0?-1:0,"data-orientation":s,...g,ref:x,style:{outline:"none",...n.style},onMouseDown:jt(n.onMouseDown,()=>{F.current=!0}),onFocus:jt(n.onFocus,K=>{const Y=!F.current;if(K.target===K.currentTarget&&Y&&!b){const q=new CustomEvent($g,ET);if(K.currentTarget.dispatchEvent(q),!q.defaultPrevented){const L=T().filter(ue=>ue.focusable),z=L.find(ue=>ue.active),U=L.find(ue=>ue.id===_),re=[z,U,...L].filter(Boolean).map(ue=>ue.ref.current);V5(re,p)}}F.current=!1}),onBlur:jt(n.onBlur,()=>R(!1))})})}),z5="RovingFocusGroupItem",q5=C.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,focusable:s=!0,active:i=!1,tabStopId:o,children:c,...u}=n,d=Ba(),h=o||d,p=IT(z5,t),g=p.currentTabStopId===h,w=U5(t),{onFocusableItemAdd:x,onFocusableItemRemove:S,currentTabStopId:_}=p;return C.useEffect(()=>{if(s)return x(),()=>S()},[s,x,S]),r.jsx(Ix.ItemSlot,{scope:t,id:h,focusable:s,active:i,children:r.jsx(fr.span,{tabIndex:g?0:-1,"data-orientation":p.orientation,...u,ref:e,onMouseDown:jt(n.onMouseDown,k=>{s?p.onItemFocus(h):k.preventDefault()}),onFocus:jt(n.onFocus,()=>p.onItemFocus(h)),onKeyDown:jt(n.onKeyDown,k=>{if(k.key==="Tab"&&k.shiftKey){p.onItemShiftTab();return}if(k.target!==k.currentTarget)return;const b=MT(k,p.orientation,p.dir);if(b!==void 0){if(k.metaKey||k.ctrlKey||k.altKey||k.shiftKey)return;k.preventDefault();let P=w().filter(T=>T.focusable).map(T=>T.ref.current);if(b==="last")P.reverse();else if(b==="prev"||b==="next"){b==="prev"&&P.reverse();const T=P.indexOf(k.currentTarget);P=p.loop?FT(P,T+1):P.slice(T+1)}setTimeout(()=>V5(P))}}),children:typeof c=="function"?c({isCurrentTabStop:g,hasTabStop:_!=null}):c})})});q5.displayName=z5;var OT={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function DT(n,e){return e!=="rtl"?n:n==="ArrowLeft"?"ArrowRight":n==="ArrowRight"?"ArrowLeft":n}function MT(n,e,t){const s=DT(n.key,t);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return OT[s]}function V5(n,e=!1){const t=document.activeElement;for(const s of n)if(s===t||(s.focus({preventScroll:e}),document.activeElement!==t))return}function FT(n,e){return n.map((t,s)=>n[(e+s)%n.length])}var H5=$5,W5=q5,ym="Tabs",[BT]=gl(ym,[vm]),G5=vm(),[UT,F0]=BT(ym),K5=C.forwardRef((n,e)=>{const{__scopeTabs:t,value:s,onValueChange:i,defaultValue:o,orientation:c="horizontal",dir:u,activationMode:d="automatic",...h}=n,p=xm(u),[g,w]=cu({prop:s,onChange:i,defaultProp:o??"",caller:ym});return r.jsx(UT,{scope:t,baseId:Ba(),value:g,onValueChange:w,orientation:c,dir:p,activationMode:d,children:r.jsx(fr.div,{dir:p,"data-orientation":c,...h,ref:e})})});K5.displayName=ym;var Y5="TabsList",J5=C.forwardRef((n,e)=>{const{__scopeTabs:t,loop:s=!0,...i}=n,o=F0(Y5,t),c=G5(t);return r.jsx(H5,{asChild:!0,...c,orientation:o.orientation,dir:o.dir,loop:s,children:r.jsx(fr.div,{role:"tablist","aria-orientation":o.orientation,...i,ref:e})})});J5.displayName=Y5;var X5="TabsTrigger",Q5=C.forwardRef((n,e)=>{const{__scopeTabs:t,value:s,disabled:i=!1,...o}=n,c=F0(X5,t),u=G5(t),d=tj(c.baseId,s),h=rj(c.baseId,s),p=s===c.value;return r.jsx(W5,{asChild:!0,...u,focusable:!i,active:p,children:r.jsx(fr.button,{type:"button",role:"tab","aria-selected":p,"aria-controls":h,"data-state":p?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:d,...o,ref:e,onMouseDown:jt(n.onMouseDown,g=>{!i&&g.button===0&&g.ctrlKey===!1?c.onValueChange(s):g.preventDefault()}),onKeyDown:jt(n.onKeyDown,g=>{[" ","Enter"].includes(g.key)&&c.onValueChange(s)}),onFocus:jt(n.onFocus,()=>{const g=c.activationMode!=="manual";!p&&!i&&g&&c.onValueChange(s)})})})});Q5.displayName=X5;var Z5="TabsContent",ej=C.forwardRef((n,e)=>{const{__scopeTabs:t,value:s,forceMount:i,children:o,...c}=n,u=F0(Z5,t),d=tj(u.baseId,s),h=rj(u.baseId,s),p=s===u.value,g=C.useRef(p);return C.useEffect(()=>{const w=requestAnimationFrame(()=>g.current=!1);return()=>cancelAnimationFrame(w)},[]),r.jsx(qa,{present:i||p,children:({present:w})=>r.jsx(fr.div,{"data-state":p?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":d,hidden:!w,id:h,tabIndex:0,...c,ref:e,style:{...n.style,animationDuration:g.current?"0s":void 0},children:w&&o})})});ej.displayName=Z5;function tj(n,e){return`${n}-trigger-${e}`}function rj(n,e){return`${n}-content-${e}`}var $T=K5,zT=J5,qT=Q5,VT=ej;function pc({className:n,...e}){return r.jsx($T,{"data-slot":"tabs",className:Nt("flex flex-col gap-2",n),...e})}function mc({className:n,...e}){return r.jsx(zT,{"data-slot":"tabs-list",className:Nt("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px] flex",n),...e})}function Ar({className:n,...e}){return r.jsx(qT,{"data-slot":"tabs-trigger",className:Nt("data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",n),...e})}function Er({className:n,...e}){return r.jsx(VT,{"data-slot":"tabs-content",className:Nt("flex-1 outline-none",n),...e})}function Od({className:n,...e}){return r.jsx("textarea",{"data-slot":"textarea",className:Nt("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n),...e})}function P1(n,[e,t]){return Math.min(t,Math.max(e,n))}function HT(n){const e=WT(n),t=C.forwardRef((s,i)=>{const{children:o,...c}=s,u=C.Children.toArray(o),d=u.find(KT);if(d){const h=d.props.children,p=u.map(g=>g===d?C.Children.count(h)>1?C.Children.only(null):C.isValidElement(h)?h.props.children:null:g);return r.jsx(e,{...c,ref:i,children:C.isValidElement(h)?C.cloneElement(h,void 0,p):null})}return r.jsx(e,{...c,ref:i,children:o})});return t.displayName=`${n}.Slot`,t}function WT(n){const e=C.forwardRef((t,s)=>{const{children:i,...o}=t;if(C.isValidElement(i)){const c=JT(i),u=YT(o,i.props);return i.type!==C.Fragment&&(u.ref=s?ml(s,c):c),C.cloneElement(i,u)}return C.Children.count(i)>1?C.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var GT=Symbol("radix.slottable");function KT(n){return C.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===GT}function YT(n,e){const t={...e};for(const s in e){const i=n[s],o=e[s];/^on[A-Z]/.test(s)?i&&o?t[s]=(...u)=>{const d=o(...u);return i(...u),d}:i&&(t[s]=i):s==="style"?t[s]={...i,...o}:s==="className"&&(t[s]=[i,o].filter(Boolean).join(" "))}return{...n,...t}}function JT(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function XT(n){const e=C.useRef({value:n,previous:n});return C.useMemo(()=>(e.current.value!==n&&(e.current.previous=e.current.value,e.current.value=n),e.current.previous),[n])}var QT=[" ","Enter","ArrowUp","ArrowDown"],ZT=[" ","Enter"],hu="Select",[wm,bm,eL]=M0(hu),[qd]=gl(hu,[eL,zd]),jm=zd(),[tL,gc]=qd(hu),[rL,nL]=qd(hu),nj=n=>{const{__scopeSelect:e,children:t,open:s,defaultOpen:i,onOpenChange:o,value:c,defaultValue:u,onValueChange:d,dir:h,name:p,autoComplete:g,disabled:w,required:x,form:S}=n,_=jm(e),[k,b]=C.useState(null),[R,P]=C.useState(null),[T,F]=C.useState(!1),ne=xm(h),[ee,K]=cu({prop:s,defaultProp:i??!1,onChange:o,caller:hu}),[Y,q]=cu({prop:c,defaultProp:u,onChange:d,caller:hu}),L=C.useRef(null),z=k?S||!!k.closest("form"):!0,[U,te]=C.useState(new Set),re=Array.from(U).map(ue=>ue.props.value).join(";");return r.jsx(P0,{..._,children:r.jsxs(tL,{required:x,scope:e,trigger:k,onTriggerChange:b,valueNode:R,onValueNodeChange:P,valueNodeHasChildren:T,onValueNodeHasChildrenChange:F,contentId:Ba(),value:Y,onValueChange:q,open:ee,onOpenChange:K,dir:ne,triggerPointerDownPosRef:L,disabled:w,children:[r.jsx(wm.Provider,{scope:e,children:r.jsx(rL,{scope:n.__scopeSelect,onNativeOptionAdd:C.useCallback(ue=>{te(fe=>new Set(fe).add(ue))},[]),onNativeOptionRemove:C.useCallback(ue=>{te(fe=>{const B=new Set(fe);return B.delete(ue),B})},[]),children:t})}),z?r.jsxs(Sj,{"aria-hidden":!0,required:x,tabIndex:-1,name:p,autoComplete:g,value:Y,onChange:ue=>q(ue.target.value),disabled:w,form:S,children:[Y===void 0?r.jsx("option",{value:""}):null,Array.from(U)]},re):null]})})};nj.displayName=hu;var sj="SelectTrigger",ij=C.forwardRef((n,e)=>{const{__scopeSelect:t,disabled:s=!1,...i}=n,o=jm(t),c=gc(sj,t),u=c.disabled||s,d=Qr(e,c.onTriggerChange),h=bm(t),p=C.useRef("touch"),[g,w,x]=Cj(_=>{const k=h().filter(P=>!P.disabled),b=k.find(P=>P.value===c.value),R=Aj(k,_,b);R!==void 0&&c.onValueChange(R.value)}),S=_=>{u||(c.onOpenChange(!0),x()),_&&(c.triggerPointerDownPosRef.current={x:Math.round(_.pageX),y:Math.round(_.pageY)})};return r.jsx(T0,{asChild:!0,...o,children:r.jsx(fr.button,{type:"button",role:"combobox","aria-controls":c.contentId,"aria-expanded":c.open,"aria-required":c.required,"aria-autocomplete":"none",dir:c.dir,"data-state":c.open?"open":"closed",disabled:u,"data-disabled":u?"":void 0,"data-placeholder":kj(c.value)?"":void 0,...i,ref:d,onClick:jt(i.onClick,_=>{_.currentTarget.focus(),p.current!=="mouse"&&S(_)}),onPointerDown:jt(i.onPointerDown,_=>{p.current=_.pointerType;const k=_.target;k.hasPointerCapture(_.pointerId)&&k.releasePointerCapture(_.pointerId),_.button===0&&_.ctrlKey===!1&&_.pointerType==="mouse"&&(S(_),_.preventDefault())}),onKeyDown:jt(i.onKeyDown,_=>{const k=g.current!=="";!(_.ctrlKey||_.altKey||_.metaKey)&&_.key.length===1&&w(_.key),!(k&&_.key===" ")&&QT.includes(_.key)&&(S(),_.preventDefault())})})})});ij.displayName=sj;var aj="SelectValue",oj=C.forwardRef((n,e)=>{const{__scopeSelect:t,className:s,style:i,children:o,placeholder:c="",...u}=n,d=gc(aj,t),{onValueNodeHasChildrenChange:h}=d,p=o!==void 0,g=Qr(e,d.onValueNodeChange);return $s(()=>{h(p)},[h,p]),r.jsx(fr.span,{...u,ref:g,style:{pointerEvents:"none"},children:kj(d.value)?r.jsx(r.Fragment,{children:c}):o})});oj.displayName=aj;var sL="SelectIcon",lj=C.forwardRef((n,e)=>{const{__scopeSelect:t,children:s,...i}=n;return r.jsx(fr.span,{"aria-hidden":!0,...i,ref:e,children:s||""})});lj.displayName=sL;var iL="SelectPortal",cj=n=>r.jsx(Jh,{asChild:!0,...n});cj.displayName=iL;var fu="SelectContent",uj=C.forwardRef((n,e)=>{const t=gc(fu,n.__scopeSelect),[s,i]=C.useState();if($s(()=>{i(new DocumentFragment)},[]),!t.open){const o=s;return o?Wh.createPortal(r.jsx(dj,{scope:n.__scopeSelect,children:r.jsx(wm.Slot,{scope:n.__scopeSelect,children:r.jsx("div",{children:n.children})})}),o):null}return r.jsx(hj,{...n,ref:e})});uj.displayName=fu;var Oa=10,[dj,xc]=qd(fu),aL="SelectContentImpl",oL=HT("SelectContent.RemoveScroll"),hj=C.forwardRef((n,e)=>{const{__scopeSelect:t,position:s="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:o,onPointerDownOutside:c,side:u,sideOffset:d,align:h,alignOffset:p,arrowPadding:g,collisionBoundary:w,collisionPadding:x,sticky:S,hideWhenDetached:_,avoidCollisions:k,...b}=n,R=gc(fu,t),[P,T]=C.useState(null),[F,ne]=C.useState(null),ee=Qr(e,le=>T(le)),[K,Y]=C.useState(null),[q,L]=C.useState(null),z=bm(t),[U,te]=C.useState(!1),re=C.useRef(!1);C.useEffect(()=>{if(P)return g0(P)},[P]),m0();const ue=C.useCallback(le=>{const[ge,...be]=z().map(Je=>Je.ref.current),[Se]=be.slice(-1),De=document.activeElement;for(const Je of le)if(Je===De||(Je?.scrollIntoView({block:"nearest"}),Je===ge&&F&&(F.scrollTop=0),Je===Se&&F&&(F.scrollTop=F.scrollHeight),Je?.focus(),document.activeElement!==De))return},[z,F]),fe=C.useCallback(()=>ue([K,P]),[ue,K,P]);C.useEffect(()=>{U&&fe()},[U,fe]);const{onOpenChange:B,triggerPointerDownPosRef:Z}=R;C.useEffect(()=>{if(P){let le={x:0,y:0};const ge=Se=>{le={x:Math.abs(Math.round(Se.pageX)-(Z.current?.x??0)),y:Math.abs(Math.round(Se.pageY)-(Z.current?.y??0))}},be=Se=>{le.x<=10&&le.y<=10?Se.preventDefault():P.contains(Se.target)||B(!1),document.removeEventListener("pointermove",ge),Z.current=null};return Z.current!==null&&(document.addEventListener("pointermove",ge),document.addEventListener("pointerup",be,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ge),document.removeEventListener("pointerup",be,{capture:!0})}}},[P,B,Z]),C.useEffect(()=>{const le=()=>B(!1);return window.addEventListener("blur",le),window.addEventListener("resize",le),()=>{window.removeEventListener("blur",le),window.removeEventListener("resize",le)}},[B]);const[me,H]=Cj(le=>{const ge=z().filter(De=>!De.disabled),be=ge.find(De=>De.ref.current===document.activeElement),Se=Aj(ge,le,be);Se&&setTimeout(()=>Se.ref.current.focus())}),O=C.useCallback((le,ge,be)=>{const Se=!re.current&&!be;(R.value!==void 0&&R.value===ge||Se)&&(Y(le),Se&&(re.current=!0))},[R.value]),V=C.useCallback(()=>P?.focus(),[P]),X=C.useCallback((le,ge,be)=>{const Se=!re.current&&!be;(R.value!==void 0&&R.value===ge||Se)&&L(le)},[R.value]),se=s==="popper"?Rx:fj,de=se===Rx?{side:u,sideOffset:d,align:h,alignOffset:p,arrowPadding:g,collisionBoundary:w,collisionPadding:x,sticky:S,hideWhenDetached:_,avoidCollisions:k}:{};return r.jsx(dj,{scope:t,content:P,viewport:F,onViewportChange:ne,itemRefCallback:O,selectedItem:K,onItemLeave:V,itemTextRefCallback:X,focusSelectedItem:fe,selectedItemText:q,position:s,isPositioned:U,searchRef:me,children:r.jsx(sm,{as:oL,allowPinchZoom:!0,children:r.jsx(rm,{asChild:!0,trapped:R.open,onMountAutoFocus:le=>{le.preventDefault()},onUnmountAutoFocus:jt(i,le=>{R.trigger?.focus({preventScroll:!0}),le.preventDefault()}),children:r.jsx(Yh,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:c,onFocusOutside:le=>le.preventDefault(),onDismiss:()=>R.onOpenChange(!1),children:r.jsx(se,{role:"listbox",id:R.contentId,"data-state":R.open?"open":"closed",dir:R.dir,onContextMenu:le=>le.preventDefault(),...b,...de,onPlaced:()=>te(!0),ref:ee,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:jt(b.onKeyDown,le=>{const ge=le.ctrlKey||le.altKey||le.metaKey;if(le.key==="Tab"&&le.preventDefault(),!ge&&le.key.length===1&&H(le.key),["ArrowUp","ArrowDown","Home","End"].includes(le.key)){let Se=z().filter(De=>!De.disabled).map(De=>De.ref.current);if(["ArrowUp","End"].includes(le.key)&&(Se=Se.slice().reverse()),["ArrowUp","ArrowDown"].includes(le.key)){const De=le.target,Je=Se.indexOf(De);Se=Se.slice(Je+1)}setTimeout(()=>ue(Se)),le.preventDefault()}})})})})})})});hj.displayName=aL;var lL="SelectItemAlignedPosition",fj=C.forwardRef((n,e)=>{const{__scopeSelect:t,onPlaced:s,...i}=n,o=gc(fu,t),c=xc(fu,t),[u,d]=C.useState(null),[h,p]=C.useState(null),g=Qr(e,ee=>p(ee)),w=bm(t),x=C.useRef(!1),S=C.useRef(!0),{viewport:_,selectedItem:k,selectedItemText:b,focusSelectedItem:R}=c,P=C.useCallback(()=>{if(o.trigger&&o.valueNode&&u&&h&&_&&k&&b){const ee=o.trigger.getBoundingClientRect(),K=h.getBoundingClientRect(),Y=o.valueNode.getBoundingClientRect(),q=b.getBoundingClientRect();if(o.dir!=="rtl"){const De=q.left-K.left,Je=Y.left-De,tt=ee.left-Je,ut=ee.width+tt,ie=Math.max(ut,K.width),st=window.innerWidth-Oa,zt=P1(Je,[Oa,Math.max(Oa,st-ie)]);u.style.minWidth=ut+"px",u.style.left=zt+"px"}else{const De=K.right-q.right,Je=window.innerWidth-Y.right-De,tt=window.innerWidth-ee.right-Je,ut=ee.width+tt,ie=Math.max(ut,K.width),st=window.innerWidth-Oa,zt=P1(Je,[Oa,Math.max(Oa,st-ie)]);u.style.minWidth=ut+"px",u.style.right=zt+"px"}const L=w(),z=window.innerHeight-Oa*2,U=_.scrollHeight,te=window.getComputedStyle(h),re=parseInt(te.borderTopWidth,10),ue=parseInt(te.paddingTop,10),fe=parseInt(te.borderBottomWidth,10),B=parseInt(te.paddingBottom,10),Z=re+ue+U+B+fe,me=Math.min(k.offsetHeight*5,Z),H=window.getComputedStyle(_),O=parseInt(H.paddingTop,10),V=parseInt(H.paddingBottom,10),X=ee.top+ee.height/2-Oa,se=z-X,de=k.offsetHeight/2,le=k.offsetTop+de,ge=re+ue+le,be=Z-ge;if(ge<=X){const De=L.length>0&&k===L[L.length-1].ref.current;u.style.bottom="0px";const Je=h.clientHeight-_.offsetTop-_.offsetHeight,tt=Math.max(se,de+(De?V:0)+Je+fe),ut=ge+tt;u.style.height=ut+"px"}else{const De=L.length>0&&k===L[0].ref.current;u.style.top="0px";const tt=Math.max(X,re+_.offsetTop+(De?O:0)+de)+be;u.style.height=tt+"px",_.scrollTop=ge-X+_.offsetTop}u.style.margin=`${Oa}px 0`,u.style.minHeight=me+"px",u.style.maxHeight=z+"px",s?.(),requestAnimationFrame(()=>x.current=!0)}},[w,o.trigger,o.valueNode,u,h,_,k,b,o.dir,s]);$s(()=>P(),[P]);const[T,F]=C.useState();$s(()=>{h&&F(window.getComputedStyle(h).zIndex)},[h]);const ne=C.useCallback(ee=>{ee&&S.current===!0&&(P(),R?.(),S.current=!1)},[P,R]);return r.jsx(uL,{scope:t,contentWrapper:u,shouldExpandOnScrollRef:x,onScrollButtonChange:ne,children:r.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:T},children:r.jsx(fr.div,{...i,ref:g,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});fj.displayName=lL;var cL="SelectPopperPosition",Rx=C.forwardRef((n,e)=>{const{__scopeSelect:t,align:s="start",collisionPadding:i=Oa,...o}=n,c=jm(t);return r.jsx(L0,{...c,...o,ref:e,align:s,collisionPadding:i,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Rx.displayName=cL;var[uL,B0]=qd(fu,{}),Ox="SelectViewport",pj=C.forwardRef((n,e)=>{const{__scopeSelect:t,nonce:s,...i}=n,o=xc(Ox,t),c=B0(Ox,t),u=Qr(e,o.onViewportChange),d=C.useRef(0);return r.jsxs(r.Fragment,{children:[r.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),r.jsx(wm.Slot,{scope:t,children:r.jsx(fr.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:u,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:jt(i.onScroll,h=>{const p=h.currentTarget,{contentWrapper:g,shouldExpandOnScrollRef:w}=c;if(w?.current&&g){const x=Math.abs(d.current-p.scrollTop);if(x>0){const S=window.innerHeight-Oa*2,_=parseFloat(g.style.minHeight),k=parseFloat(g.style.height),b=Math.max(_,k);if(b<S){const R=b+x,P=Math.min(S,R),T=R-P;g.style.height=P+"px",g.style.bottom==="0px"&&(p.scrollTop=T>0?T:0,g.style.justifyContent="flex-end")}}}d.current=p.scrollTop})})})]})});pj.displayName=Ox;var mj="SelectGroup",[dL,hL]=qd(mj),fL=C.forwardRef((n,e)=>{const{__scopeSelect:t,...s}=n,i=Ba();return r.jsx(dL,{scope:t,id:i,children:r.jsx(fr.div,{role:"group","aria-labelledby":i,...s,ref:e})})});fL.displayName=mj;var gj="SelectLabel",pL=C.forwardRef((n,e)=>{const{__scopeSelect:t,...s}=n,i=hL(gj,t);return r.jsx(fr.div,{id:i.id,...s,ref:e})});pL.displayName=gj;var Bp="SelectItem",[mL,xj]=qd(Bp),vj=C.forwardRef((n,e)=>{const{__scopeSelect:t,value:s,disabled:i=!1,textValue:o,...c}=n,u=gc(Bp,t),d=xc(Bp,t),h=u.value===s,[p,g]=C.useState(o??""),[w,x]=C.useState(!1),S=Qr(e,R=>d.itemRefCallback?.(R,s,i)),_=Ba(),k=C.useRef("touch"),b=()=>{i||(u.onValueChange(s),u.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return r.jsx(mL,{scope:t,value:s,disabled:i,textId:_,isSelected:h,onItemTextChange:C.useCallback(R=>{g(P=>P||(R?.textContent??"").trim())},[]),children:r.jsx(wm.ItemSlot,{scope:t,value:s,disabled:i,textValue:p,children:r.jsx(fr.div,{role:"option","aria-labelledby":_,"data-highlighted":w?"":void 0,"aria-selected":h&&w,"data-state":h?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...c,ref:S,onFocus:jt(c.onFocus,()=>x(!0)),onBlur:jt(c.onBlur,()=>x(!1)),onClick:jt(c.onClick,()=>{k.current!=="mouse"&&b()}),onPointerUp:jt(c.onPointerUp,()=>{k.current==="mouse"&&b()}),onPointerDown:jt(c.onPointerDown,R=>{k.current=R.pointerType}),onPointerMove:jt(c.onPointerMove,R=>{k.current=R.pointerType,i?d.onItemLeave?.():k.current==="mouse"&&R.currentTarget.focus({preventScroll:!0})}),onPointerLeave:jt(c.onPointerLeave,R=>{R.currentTarget===document.activeElement&&d.onItemLeave?.()}),onKeyDown:jt(c.onKeyDown,R=>{d.searchRef?.current!==""&&R.key===" "||(ZT.includes(R.key)&&b(),R.key===" "&&R.preventDefault())})})})})});vj.displayName=Bp;var Sh="SelectItemText",yj=C.forwardRef((n,e)=>{const{__scopeSelect:t,className:s,style:i,...o}=n,c=gc(Sh,t),u=xc(Sh,t),d=xj(Sh,t),h=nL(Sh,t),[p,g]=C.useState(null),w=Qr(e,b=>g(b),d.onItemTextChange,b=>u.itemTextRefCallback?.(b,d.value,d.disabled)),x=p?.textContent,S=C.useMemo(()=>r.jsx("option",{value:d.value,disabled:d.disabled,children:x},d.value),[d.disabled,d.value,x]),{onNativeOptionAdd:_,onNativeOptionRemove:k}=h;return $s(()=>(_(S),()=>k(S)),[_,k,S]),r.jsxs(r.Fragment,{children:[r.jsx(fr.span,{id:d.textId,...o,ref:w}),d.isSelected&&c.valueNode&&!c.valueNodeHasChildren?Wh.createPortal(o.children,c.valueNode):null]})});yj.displayName=Sh;var wj="SelectItemIndicator",bj=C.forwardRef((n,e)=>{const{__scopeSelect:t,...s}=n;return xj(wj,t).isSelected?r.jsx(fr.span,{"aria-hidden":!0,...s,ref:e}):null});bj.displayName=wj;var Dx="SelectScrollUpButton",jj=C.forwardRef((n,e)=>{const t=xc(Dx,n.__scopeSelect),s=B0(Dx,n.__scopeSelect),[i,o]=C.useState(!1),c=Qr(e,s.onScrollButtonChange);return $s(()=>{if(t.viewport&&t.isPositioned){let u=function(){const h=d.scrollTop>0;o(h)};const d=t.viewport;return u(),d.addEventListener("scroll",u),()=>d.removeEventListener("scroll",u)}},[t.viewport,t.isPositioned]),i?r.jsx(_j,{...n,ref:c,onAutoScroll:()=>{const{viewport:u,selectedItem:d}=t;u&&d&&(u.scrollTop=u.scrollTop-d.offsetHeight)}}):null});jj.displayName=Dx;var Mx="SelectScrollDownButton",Nj=C.forwardRef((n,e)=>{const t=xc(Mx,n.__scopeSelect),s=B0(Mx,n.__scopeSelect),[i,o]=C.useState(!1),c=Qr(e,s.onScrollButtonChange);return $s(()=>{if(t.viewport&&t.isPositioned){let u=function(){const h=d.scrollHeight-d.clientHeight,p=Math.ceil(d.scrollTop)<h;o(p)};const d=t.viewport;return u(),d.addEventListener("scroll",u),()=>d.removeEventListener("scroll",u)}},[t.viewport,t.isPositioned]),i?r.jsx(_j,{...n,ref:c,onAutoScroll:()=>{const{viewport:u,selectedItem:d}=t;u&&d&&(u.scrollTop=u.scrollTop+d.offsetHeight)}}):null});Nj.displayName=Mx;var _j=C.forwardRef((n,e)=>{const{__scopeSelect:t,onAutoScroll:s,...i}=n,o=xc("SelectScrollButton",t),c=C.useRef(null),u=bm(t),d=C.useCallback(()=>{c.current!==null&&(window.clearInterval(c.current),c.current=null)},[]);return C.useEffect(()=>()=>d(),[d]),$s(()=>{u().find(p=>p.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[u]),r.jsx(fr.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:jt(i.onPointerDown,()=>{c.current===null&&(c.current=window.setInterval(s,50))}),onPointerMove:jt(i.onPointerMove,()=>{o.onItemLeave?.(),c.current===null&&(c.current=window.setInterval(s,50))}),onPointerLeave:jt(i.onPointerLeave,()=>{d()})})}),gL="SelectSeparator",xL=C.forwardRef((n,e)=>{const{__scopeSelect:t,...s}=n;return r.jsx(fr.div,{"aria-hidden":!0,...s,ref:e})});xL.displayName=gL;var Fx="SelectArrow",vL=C.forwardRef((n,e)=>{const{__scopeSelect:t,...s}=n,i=jm(t),o=gc(Fx,t),c=xc(Fx,t);return o.open&&c.position==="popper"?r.jsx(I0,{...i,...s,ref:e}):null});vL.displayName=Fx;var yL="SelectBubbleInput",Sj=C.forwardRef(({__scopeSelect:n,value:e,...t},s)=>{const i=C.useRef(null),o=Qr(s,i),c=XT(e);return C.useEffect(()=>{const u=i.current;if(!u)return;const d=window.HTMLSelectElement.prototype,p=Object.getOwnPropertyDescriptor(d,"value").set;if(c!==e&&p){const g=new Event("change",{bubbles:!0});p.call(u,e),u.dispatchEvent(g)}},[c,e]),r.jsx(fr.select,{...t,style:{...C5,...t.style},ref:o,defaultValue:e})});Sj.displayName=yL;function kj(n){return n===""||n===void 0}function Cj(n){const e=yo(n),t=C.useRef(""),s=C.useRef(0),i=C.useCallback(c=>{const u=t.current+c;e(u),(function d(h){t.current=h,window.clearTimeout(s.current),h!==""&&(s.current=window.setTimeout(()=>d(""),1e3))})(u)},[e]),o=C.useCallback(()=>{t.current="",window.clearTimeout(s.current)},[]);return C.useEffect(()=>()=>window.clearTimeout(s.current),[]),[t,i,o]}function Aj(n,e,t){const i=e.length>1&&Array.from(e).every(h=>h===e[0])?e[0]:e,o=t?n.indexOf(t):-1;let c=wL(n,Math.max(o,0));i.length===1&&(c=c.filter(h=>h!==t));const d=c.find(h=>h.textValue.toLowerCase().startsWith(i.toLowerCase()));return d!==t?d:void 0}function wL(n,e){return n.map((t,s)=>n[(e+s)%n.length])}var bL=nj,jL=ij,NL=oj,_L=lj,SL=cj,kL=uj,CL=pj,AL=vj,EL=yj,PL=bj,TL=jj,LL=Nj;function wr({...n}){return r.jsx(bL,{"data-slot":"select",...n})}function br({...n}){return r.jsx(NL,{"data-slot":"select-value",...n})}function jr({className:n,size:e="default",children:t,...s}){return r.jsxs(jL,{"data-slot":"select-trigger","data-size":e,className:Nt("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",n),...s,children:[t,r.jsx(_L,{asChild:!0,children:r.jsx(ww,{className:"size-4 opacity-50"})})]})}function Nr({className:n,children:e,position:t="popper",...s}){return r.jsx(SL,{children:r.jsxs(kL,{"data-slot":"select-content",className:Nt("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",n),position:t,...s,children:[r.jsx(IL,{}),r.jsx(CL,{className:Nt("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:e}),r.jsx(RL,{})]})})}function Te({className:n,children:e,...t}){return r.jsxs(AL,{"data-slot":"select-item",className:Nt("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",n),...t,children:[r.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:r.jsx(PL,{children:r.jsx(Rt,{className:"size-4"})})}),r.jsx(EL,{children:e})]})}function IL({className:n,...e}){return r.jsx(TL,{"data-slot":"select-scroll-up-button",className:Nt("flex cursor-default items-center justify-center py-1",n),...e,children:r.jsx(_S,{className:"size-4"})})}function RL({className:n,...e}){return r.jsx(LL,{"data-slot":"select-scroll-down-button",className:Nt("flex cursor-default items-center justify-center py-1",n),...e,children:r.jsx(ww,{className:"size-4"})})}const $h={NGN:{code:"NGN",symbol:"",name:"Nigerian Naira",position:"before"},USD:{code:"USD",symbol:"$",name:"US Dollar",position:"before"},ZAR:{code:"ZAR",symbol:"R",name:"South African Rand",position:"before"},GHS:{code:"GHS",symbol:"",name:"Ghanaian Cedi",position:"before"}},pu="NGN";function ot(n,e=pu){const t=$h[e]||$h[pu],s=n.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2});return t.position==="before"?`${t.symbol}${s}`:`${s}${t.symbol}`}function Up(n=pu){return($h[n]||$h[pu]).symbol}const Ej=C.createContext(void 0);function OL({children:n}){const[e,t]=C.useState(pu),[s,i]=C.useState(!0);C.useEffect(()=>{o()},[]);const o=async()=>{try{const{data:{user:u}}=await Ge.auth.getUser();if(u){const{data:d}=await Ge.from("profiles").select("company_id").eq("id",u.id).single();if(d?.company_id){const{data:h}=await Ge.from("companies").select("currency").eq("id",d.company_id).single();h?.currency&&t(h.currency)}}}catch(u){console.error("Error loading currency:",u)}finally{i(!1)}},c=u=>{t(u)};return r.jsx(Ej.Provider,{value:{currency:e,setCurrency:c,isLoading:s},children:n})}function fa(){const n=C.useContext(Ej);if(n===void 0)throw new Error("useCurrency must be used within a CurrencyProvider");return n}async function DL(){const n=[],e=[];let t=!0,s=!0,i=!0;try{const{data:{session:o},error:c}=await Ge.auth.getSession();c&&(n.push(`Auth error: ${c.message}`),i=!1)}catch(o){n.push(`Auth check failed: ${o.message}`),i=!1}try{const{error:o}=await Ge.from("profiles").select("id").limit(1);o&&(o.message.includes("relation")||o.message.includes("does not exist")?(n.push("Database tables not found. Run SUPABASE_SCHEMA.sql"),t=!1):o.message.includes("JWT")?e.push("Authentication issue detected"):e.push(`Database warning: ${o.message}`));const{error:c}=await Ge.from("companies").select("id").limit(1);c&&c.message.includes("relation")&&(n.includes("Database tables not found. Run SUPABASE_SCHEMA.sql")||n.push("Some database tables missing. Re-run SUPABASE_SCHEMA.sql"),t=!1);const{error:u}=await Ge.from("subscriptions").select("id").limit(1);u&&u.message.includes("relation")&&(n.includes("Database tables not found. Run SUPABASE_SCHEMA.sql")||n.push("Some database tables missing. Re-run SUPABASE_SCHEMA.sql"),t=!1)}catch(o){n.push(`Database check failed: ${o.message}`),t=!1}try{const{data:o,error:c}=await Ge.storage.listBuckets();if(c)e.push(`Storage check warning: ${c.message}`);else if(o){const u=o.some(h=>h.name==="company-assets"),d=o.some(h=>h.name==="user-assets");if(!u||!d){const h=[];u||h.push("company-assets"),d||h.push("user-assets"),e.push(`Missing storage buckets: ${h.join(", ")}`),s=!1}}}catch(o){e.push(`Storage check failed: ${o.message}`),s=!1}return{isDatabaseReady:t,isStorageReady:s,isAuthReady:i,errors:n,warnings:e}}function ML(){const n="https://khpiznboahwnszaavtig.supabase.co",[e,t]=C.useState(!1),[s,i]=C.useState(null),o=async()=>{t(!0);try{const c=await DL();i(c),c.isDatabaseReady&&c.isStorageReady&&c.errors.length===0?(Le.success("All systems ready! You can now use EaziBook."),setTimeout(()=>window.location.reload(),2e3)):c.errors.length>0?Le.error("Setup incomplete. See details below."):c.warnings.length>0&&Le.warning("Setup mostly complete, but some features may not work.")}catch(c){Le.error("Health check failed. Check console for details."),console.error("Health check error:",c)}finally{t(!1)}};return r.jsxs("div",{className:"p-6 max-w-4xl mx-auto",children:[r.jsxs(oc,{className:"mb-6 border-orange-500 bg-orange-50",children:[r.jsx(ua,{className:"h-4 w-4 text-orange-600"}),r.jsx(fk,{className:"text-orange-900",children:"Database Setup Required"}),r.jsx(lc,{className:"text-orange-800",children:"Your Supabase database needs to be set up before you can use EaziBook. Follow the steps below to get started."})]}),s&&r.jsxs(Fe,{className:"mb-6",children:[r.jsx(qe,{children:r.jsxs(He,{className:"flex items-center gap-2",children:[s.isDatabaseReady&&s.errors.length===0?r.jsx(Ed,{className:"w-5 h-5 text-green-600"}):r.jsx(ua,{className:"w-5 h-5 text-orange-600"}),"System Status"]})}),r.jsxs(Ue,{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:`w-3 h-3 rounded-full ${s.isDatabaseReady?"bg-green-500":"bg-red-500"}`}),r.jsxs("span",{children:["Database Tables: ",s.isDatabaseReady?"Ready":"Not Set Up"]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:`w-3 h-3 rounded-full ${s.isStorageReady?"bg-green-500":"bg-orange-500"}`}),r.jsxs("span",{children:["Storage Buckets: ",s.isStorageReady?"Ready":"Missing"]})]}),s.errors.length>0&&r.jsxs("div",{className:"mt-4 p-3 bg-red-50 rounded-lg border border-red-200",children:[r.jsx("h4",{className:"font-medium text-red-900 mb-2",children:"Errors:"}),r.jsx("ul",{className:"list-disc list-inside text-sm text-red-800 space-y-1",children:s.errors.map((c,u)=>r.jsx("li",{children:c},u))})]}),s.warnings.length>0&&r.jsxs("div",{className:"mt-4 p-3 bg-orange-50 rounded-lg border border-orange-200",children:[r.jsx("h4",{className:"font-medium text-orange-900 mb-2",children:"Warnings:"}),r.jsx("ul",{className:"list-disc list-inside text-sm text-orange-800 space-y-1",children:s.warnings.map((c,u)=>r.jsx("li",{children:c},u))})]})]})]}),r.jsx("div",{className:"mb-6 flex gap-3",children:r.jsx(Ae,{onClick:o,disabled:e,variant:"outline",className:"gap-2",children:e?r.jsxs(r.Fragment,{children:[r.jsx(an,{className:"w-4 h-4 animate-spin"}),"Checking..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Qp,{className:"w-4 h-4"}),"Check System Status"]})})}),r.jsxs(Fe,{children:[r.jsxs(qe,{children:[r.jsxs(He,{className:"flex items-center gap-2",children:[r.jsx(IS,{className:"w-5 h-5"}),"Quick Setup Guide"]}),r.jsx(ur,{children:"Complete these steps to set up your EaziBook database (takes about 5 minutes)"})]}),r.jsxs(Ue,{className:"space-y-6",children:[r.jsxs("div",{className:"flex gap-4",children:[r.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-primary text-primary-foreground flex items-center justify-center",children:"1"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-medium mb-2",children:"Open Supabase SQL Editor"}),r.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Click the button below to open your Supabase project's SQL Editor"}),r.jsxs(Ae,{variant:"outline",className:"gap-2",onClick:()=>window.open(`${n}/project/default/sql`,"_blank"),children:[r.jsx(Sy,{className:"w-4 h-4"}),"Open SQL Editor"]})]})]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-primary text-primary-foreground flex items-center justify-center",children:"2"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-medium mb-2",children:"Run Database Schema"}),r.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"In the SQL Editor:"}),r.jsxs("ol",{className:"text-sm text-muted-foreground space-y-2 ml-4 list-decimal",children:[r.jsx("li",{children:'Click "New Query"'}),r.jsxs("li",{children:["Open the file ",r.jsx("code",{className:"bg-muted px-1 rounded",children:"/SUPABASE_SCHEMA.sql"})," from your project"]}),r.jsx("li",{children:"Copy ALL the contents"}),r.jsx("li",{children:"Paste into the SQL Editor"}),r.jsx("li",{children:'Click "Run" or press Ctrl+Enter'}),r.jsx("li",{children:"Wait for success confirmation ()"})]})]})]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-primary text-primary-foreground flex items-center justify-center",children:"3"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-medium mb-2",children:"Run Security Policies"}),r.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Repeat the same process with:"}),r.jsxs("ol",{className:"text-sm text-muted-foreground space-y-2 ml-4 list-decimal",children:[r.jsx("li",{children:'Click "New Query" again'}),r.jsxs("li",{children:["Open ",r.jsx("code",{className:"bg-muted px-1 rounded",children:"/SUPABASE_RLS_POLICIES.sql"})]}),r.jsx("li",{children:"Copy ALL the contents"}),r.jsx("li",{children:"Paste and Run"})]})]})]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-primary text-primary-foreground flex items-center justify-center",children:"4"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-medium mb-2",children:"Create Storage Buckets"}),r.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Go to Storage in your Supabase Dashboard and create two public buckets:"}),r.jsxs("ul",{className:"text-sm text-muted-foreground space-y-2 ml-4 list-disc",children:[r.jsxs("li",{children:[r.jsx("code",{className:"bg-muted px-1 rounded",children:"company-assets"})," (Public, 5MB limit)"]}),r.jsxs("li",{children:[r.jsx("code",{className:"bg-muted px-1 rounded",children:"user-assets"})," (Public, 2MB limit)"]})]}),r.jsxs(Ae,{variant:"outline",className:"gap-2 mt-3",onClick:()=>window.open(`${n}/storage/buckets`,"_blank"),children:[r.jsx(Sy,{className:"w-4 h-4"}),"Open Storage Settings"]})]})]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-green-600 text-white flex items-center justify-center",children:r.jsx(Ed,{className:"w-5 h-5"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-medium mb-2",children:"Refresh and Start Using EaziBook"}),r.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Once all steps are complete, refresh this page to start using EaziBook!"}),r.jsx(Ae,{onClick:()=>window.location.reload(),children:"Refresh Page"})]})]})]})]}),r.jsxs("div",{className:"mt-6 space-y-4",children:[r.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[r.jsx("h4",{className:"font-medium mb-2",children:"Need Help?"}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Check the ",r.jsx("code",{className:"bg-background px-1 rounded",children:"/SUPABASE_SETUP_GUIDE.md"})," file in your project for detailed instructions with screenshots."]})]}),r.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[r.jsx("h4",{className:"font-medium mb-2 text-blue-900",children:"Quick Troubleshooting"}),r.jsxs("ul",{className:"text-sm text-blue-800 space-y-2",children:[r.jsxs("li",{children:[" ",r.jsx("strong",{children:"Connection Issues:"})," Check your internet connection and refresh the page"]}),r.jsxs("li",{children:[" ",r.jsx("strong",{children:"Timeout Errors:"})," This is normal if the database isn't set up yet - follow the steps above"]}),r.jsxs("li",{children:[" ",r.jsx("strong",{children:"Upload Fails:"})," Make sure to create the storage buckets first (Step 4)"]}),r.jsxs("li",{children:[" ",r.jsx("strong",{children:"Still Having Issues:"})," Try clearing your browser cache and refreshing"]})]})]}),r.jsxs("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200",children:[r.jsx("h4",{className:"font-medium mb-2 text-green-900",children:"After Setup is Complete"}),r.jsx("p",{className:"text-sm text-green-800 mb-2",children:"Once you see all green checkmarks above:"}),r.jsxs("ul",{className:"text-sm text-green-800 space-y-1 list-disc list-inside",children:[r.jsx("li",{children:"You can create your company profile"}),r.jsx("li",{children:"Upload your company logo"}),r.jsx("li",{children:"Start creating invoices and bills"}),r.jsx("li",{children:"Manage customers and products"}),r.jsx("li",{children:"Access all ERP features"})]})]})]})]})}async function Pj(n,e=1e4,t="Request timeout"){const s=new Promise((i,o)=>{setTimeout(()=>o(new Error(t)),e)});return Promise.race([n,s])}class FL{cache=new Map;defaultTTL=300*1e3;set(e,t,s){this.cache.set(e,{data:t,timestamp:Date.now()+(s||this.defaultTTL)})}get(e){const t=this.cache.get(e);return t?Date.now()>t.timestamp?(this.cache.delete(e),null):t.data:null}clear(e){e?this.cache.delete(e):this.cache.clear()}has(e){const t=this.cache.get(e);return t?Date.now()>t.timestamp?(this.cache.delete(e),!1):!0:!1}}const _d=new FL;function BL(){const{setCurrency:n}=fa(),[e,t]=C.useState({companyName:"",address:"",city:"",state:"",zipCode:"",country:"Nigeria",phone:"",email:"",website:"",gstin:"",pan:"",logoUrl:"",currency:pu}),[s,i]=C.useState(!0),[o,c]=C.useState(!1),[u,d]=C.useState(!1),[h,p]=C.useState(!0),[g,w]=C.useState(null);C.useEffect(()=>{x()},[]);const x=async()=>{i(!0),w(null);try{const b="company-settings",R=_d.get(b);if(R){t(R),i(!1),S(b);return}await S(b)}catch(b){console.error("Error loading company settings:",b),w(b.message),b.message==="Request timeout"?Le.error("Loading timed out. Please check your internet connection."):Le.error("Failed to load settings. Check your Supabase connection.")}finally{i(!1)}},S=async b=>{await Pj((async()=>{const{data:{user:R},error:P}=await Ge.auth.getUser();if(P)throw P;if(!R)throw new Error("No authenticated user");try{const{data:T,error:F}=await Ge.from("profiles").select("company_id").eq("id",R.id).maybeSingle();if(F&&F.code!=="PGRST116")throw F;if(T?.company_id){const{data:ne,error:ee}=await Ge.from("companies").select("id, name, address, city, state, country, postal_code, phone, email, website, tax_id, registration_number, logo_url, currency").eq("id",T.company_id).maybeSingle();if(ee&&ee.code!=="PGRST116")throw ee;if(ne){const K={companyName:ne.name||"",address:ne.address||"",city:ne.city||"",state:ne.state||"",zipCode:ne.postal_code||"",country:ne.country||"Nigeria",phone:ne.phone||"",email:ne.email||"",website:ne.website||"",gstin:ne.tax_id||"",pan:ne.registration_number||"",logoUrl:ne.logo_url||"",currency:ne.currency||pu};t(K),_d.set(b,K,300*1e3)}}}catch(T){if(console.warn("Database error loading settings:",T),T.message?.includes("relation")||T.message?.includes("does not exist"))throw p(!1),new Error("Database not set up");if(T.code!=="PGRST116")throw T}})(),5e3,"Request timeout")},_=async()=>{c(!0);try{const{data:{user:b}}=await Ge.auth.getUser();if(!b)throw new Error("User not authenticated");const{data:R}=await Ge.from("profiles").select("company_id").eq("id",b.id).single();let P=R?.company_id;if(P){const{error:T}=await Ge.from("companies").update({name:e.companyName,address:e.address,city:e.city,state:e.state,postal_code:e.zipCode,country:e.country,phone:e.phone,email:e.email,website:e.website,tax_id:e.gstin,registration_number:e.pan,logo_url:e.logoUrl,currency:e.currency}).eq("id",P);if(T)throw T;Le.success("Company settings saved successfully")}else{const{data:T,error:F}=await Ge.from("companies").insert({name:e.companyName||"My Company",address:e.address,city:e.city,state:e.state,postal_code:e.zipCode,country:e.country,phone:e.phone,email:e.email,website:e.website,tax_id:e.gstin,registration_number:e.pan,logo_url:e.logoUrl,currency:e.currency}).select().single();if(F)throw console.error(" Error creating company:",F),console.error("Error details:",JSON.stringify(F,null,2)),F;P=T.id;const{error:ne}=await Ge.from("profiles").update({company_id:P}).eq("id",b.id);if(ne)throw ne;await Ge.from("subscriptions").insert({company_id:P,user_id:b.id,plan_type:"free",status:"active",invoices_limit:5,bills_limit:5,invoices_used:0,bills_used:0}),Le.success("Company profile created successfully")}n(e.currency),_d.clear("company-settings"),await x()}catch(b){console.error(" Error saving company settings:",b),console.error("Error code:",b?.code),console.error("Error message:",b?.message),console.error("Full error:",JSON.stringify(b,null,2)),b?.code==="42501"?Le.error("Database permission error. Please run the RLS fix SQL script."):b?.message?Le.error(`Failed to save: ${b.message}`):Le.error("Failed to save company settings")}finally{c(!1)}},k=async b=>{const R=b.target.files?.[0];if(R){if(!R.type.startsWith("image/")){Le.error("Please upload an image file");return}if(R.size>2*1024*1024){Le.error("Image size should be less than 2MB");return}d(!0);try{const{data:{user:P}}=await Ge.auth.getUser();if(!P){Le.error("Please log in to upload logo");return}const{data:T}=await Ge.from("profiles").select("company_id").eq("id",P.id).single();if(!T?.company_id){Le.error("Please save company settings first before uploading logo");return}const F=R.name.split(".").pop(),ee=`company-logos/${`${T.company_id}-${Date.now()}.${F}`}`,{error:K,data:Y}=await Ge.storage.from("company-assets").upload(ee,R,{cacheControl:"3600",upsert:!1});if(K)throw console.error("Upload error:",K),K.message.includes("not found")||K.message.includes("bucket")?Le.error('Storage bucket not set up. Please create "company-assets" bucket in Supabase Storage.'):Le.error(`Upload failed: ${K.message}`),K;const{data:{publicUrl:q}}=Ge.storage.from("company-assets").getPublicUrl(ee);t({...e,logoUrl:q}),Le.success("Logo uploaded successfully! Remember to save settings.")}catch(P){console.error("Error uploading logo:",P),P.message?.includes("Storage")||Le.error("Failed to upload logo. Check console for details.")}finally{d(!1)}}};return s?r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"flex flex-col items-center justify-center py-12 gap-4",children:[r.jsx(an,{className:"w-8 h-8 animate-spin text-muted-foreground"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading company settings..."}),g&&r.jsxs("div",{className:"mt-4 p-4 border rounded-lg bg-muted max-w-md",children:[r.jsx("p",{className:"text-sm text-destructive mb-2",children:g}),r.jsxs(Ae,{variant:"outline",size:"sm",onClick:x,className:"gap-2",children:[r.jsx(Qp,{className:"w-4 h-4"}),"Retry"]})]})]})}):h?r.jsxs("div",{className:"p-6 max-w-4xl mx-auto",children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("h1",{children:"Company Settings"}),r.jsx("p",{className:"text-muted-foreground",children:"Configure your business information for branded invoices and receipts"})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs(Fe,{children:[r.jsxs(qe,{children:[r.jsx(He,{children:"Company Logo"}),r.jsx(ur,{children:"Upload your company logo. This will appear on all invoices and receipts."})]}),r.jsx(Ue,{children:r.jsxs("div",{className:"flex items-start gap-6",children:[e.logoUrl?r.jsx("div",{className:"w-32 h-32 border-2 border-dashed rounded-lg flex items-center justify-center overflow-hidden bg-muted",children:r.jsx("img",{src:e.logoUrl,alt:"Company Logo",className:"max-w-full max-h-full object-contain"})}):r.jsx("div",{className:"w-32 h-32 border-2 border-dashed rounded-lg flex items-center justify-center bg-muted",children:r.jsx(r0,{className:"w-12 h-12 text-muted-foreground"})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs(Re,{htmlFor:"logo-upload",className:"cursor-pointer",children:[r.jsx("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-primary text-primary-foreground rounded-md hover:opacity-90",children:u?r.jsxs(r.Fragment,{children:[r.jsx(an,{className:"w-4 h-4 animate-spin"}),"Uploading..."]}):r.jsxs(r.Fragment,{children:[r.jsx(wd,{className:"w-4 h-4"}),"Upload Logo"]})}),r.jsx(Ve,{id:"logo-upload",type:"file",accept:"image/*",className:"hidden",onChange:k,disabled:u})]}),r.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"PNG, JPG or GIF. Maximum size 2MB."})]})]})})]}),r.jsxs(Fe,{children:[r.jsx(qe,{children:r.jsx(He,{children:"Company Information"})}),r.jsxs(Ue,{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(Re,{htmlFor:"companyName",children:"Company Name *"}),r.jsx(Ve,{id:"companyName",value:e.companyName,onChange:b=>t({...e,companyName:b.target.value}),placeholder:"Your Company Name"})]}),r.jsxs("div",{children:[r.jsx(Re,{htmlFor:"address",children:"Street Address *"}),r.jsx(Od,{id:"address",value:e.address,onChange:b=>t({...e,address:b.target.value}),placeholder:"123 Business Street",rows:2})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx(Re,{htmlFor:"city",children:"City *"}),r.jsx(Ve,{id:"city",value:e.city,onChange:b=>t({...e,city:b.target.value}),placeholder:"Mumbai"})]}),r.jsxs("div",{children:[r.jsx(Re,{htmlFor:"state",children:"State *"}),r.jsx(Ve,{id:"state",value:e.state,onChange:b=>t({...e,state:b.target.value}),placeholder:"Maharashtra"})]}),r.jsxs("div",{children:[r.jsx(Re,{htmlFor:"zipCode",children:"ZIP Code *"}),r.jsx(Ve,{id:"zipCode",value:e.zipCode,onChange:b=>t({...e,zipCode:b.target.value}),placeholder:"400001"})]})]}),r.jsxs("div",{children:[r.jsx(Re,{htmlFor:"country",children:"Country *"}),r.jsx(Ve,{id:"country",value:e.country,onChange:b=>t({...e,country:b.target.value}),placeholder:"India"})]})]})]}),r.jsxs(Fe,{children:[r.jsx(qe,{children:r.jsx(He,{children:"Contact Information"})}),r.jsxs(Ue,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(Re,{htmlFor:"phone",children:"Phone Number *"}),r.jsx(Ve,{id:"phone",type:"tel",value:e.phone,onChange:b=>t({...e,phone:b.target.value}),placeholder:"+91 98765 43210"})]}),r.jsxs("div",{children:[r.jsx(Re,{htmlFor:"email",children:"Email Address *"}),r.jsx(Ve,{id:"email",type:"email",value:e.email,onChange:b=>t({...e,email:b.target.value}),placeholder:"contact@company.com"})]})]}),r.jsxs("div",{children:[r.jsx(Re,{htmlFor:"website",children:"Website (Optional)"}),r.jsx(Ve,{id:"website",type:"url",value:e.website,onChange:b=>t({...e,website:b.target.value}),placeholder:"https://www.yourcompany.com"})]})]})]}),r.jsxs(Fe,{children:[r.jsxs(qe,{children:[r.jsxs(He,{className:"flex items-center gap-2",children:[r.jsx(da,{className:"w-5 h-5"}),"Currency & Regional Settings"]}),r.jsx(ur,{children:"Select your preferred currency for all transactions"})]}),r.jsx(Ue,{className:"space-y-4",children:r.jsxs("div",{children:[r.jsx(Re,{htmlFor:"currency",children:"Default Currency *"}),r.jsxs(wr,{value:e.currency,onValueChange:b=>t({...e,currency:b}),children:[r.jsx(jr,{id:"currency",children:r.jsx(br,{})}),r.jsx(Nr,{children:Object.values($h).map(b=>r.jsx(Te,{value:b.code,children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"font-medium",children:b.symbol}),r.jsx("span",{children:b.name}),r.jsxs("span",{className:"text-muted-foreground",children:["(",b.code,")"]})]})},b.code))})]})]})})]}),r.jsxs(Fe,{children:[r.jsxs(qe,{children:[r.jsx(He,{children:"Tax Information"}),r.jsx(ur,{children:"Optional - Configure based on your region"})]}),r.jsx(Ue,{className:"space-y-4",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(Re,{htmlFor:"gstin",children:"Tax ID / VAT / GST Number"}),r.jsx(Ve,{id:"gstin",value:e.gstin,onChange:b=>t({...e,gstin:b.target.value}),placeholder:"Enter your tax identification number"})]}),r.jsxs("div",{children:[r.jsx(Re,{htmlFor:"pan",children:"Additional Tax Number"}),r.jsx(Ve,{id:"pan",value:e.pan,onChange:b=>t({...e,pan:b.target.value}),placeholder:"e.g., PAN, TIN, etc."})]})]})})]}),r.jsx("div",{className:"flex justify-end",children:r.jsx(Ae,{onClick:_,disabled:o,className:"gap-2",children:o?r.jsxs(r.Fragment,{children:[r.jsx(an,{className:"w-4 h-4 animate-spin"}),"Saving..."]}):r.jsxs(r.Fragment,{children:[r.jsx(i0,{className:"w-4 h-4"}),"Save Settings"]})})})]})]}):r.jsx(ML,{})}const UL={invoices:5,bills:5},$L={invoices:50,bills:50},zL={invoices:1/0,bills:1/0},qL={invoices:1/0,bills:1/0},VL={hasCompanyBranding:!1,hasAIScanner:!1,hasAIChatbot:!1,hasAccounting:!1,hasInventory:!1,hasTaxCompliance:!1,hasPayroll:!1,hasAdvancedReports:!1,hasPrioritySupport:!1},HL={hasCompanyBranding:!0,hasAIScanner:!1,hasAIChatbot:!1,hasAccounting:!0,hasInventory:!1,hasTaxCompliance:!1,hasPayroll:!1,hasAdvancedReports:!1,hasPrioritySupport:!1},WL={hasCompanyBranding:!0,hasAIScanner:!1,hasAIChatbot:!1,hasAccounting:!0,hasInventory:!0,hasTaxCompliance:!0,hasPayroll:!1,hasAdvancedReports:!0,hasPrioritySupport:!1},GL={hasCompanyBranding:!0,hasAIScanner:!0,hasAIChatbot:!0,hasAccounting:!0,hasInventory:!0,hasTaxCompliance:!0,hasPayroll:!0,hasAdvancedReports:!0,hasPrioritySupport:!0},Tj=C.createContext(void 0);function KL({children:n}){const[e,t]=C.useState("free"),[s,i]=C.useState({invoices:0,bills:0});C.useEffect(()=>{o()},[]);const o=async()=>{try{const{data:{user:R}}=await Ge.auth.getUser();if(R)try{const{data:P,error:T}=await Ge.from("profiles").select("company_id").eq("id",R.id).single();if(T){console.warn("Profile not found, using free plan:",T);return}if(P?.company_id){const{data:F,error:ne}=await Ge.from("subscriptions").select("*").eq("company_id",P.company_id).eq("status","active").single();if(ne){ne.code!=="PGRST116"&&console.warn("Error loading subscription:",ne);return}F&&(t(F.plan_type),i({invoices:F.invoices_used||0,bills:F.bills_used||0}))}}catch(P){console.warn("Database error loading subscription, using free plan:",P)}}catch(R){console.error("Error loading subscription data:",R)}},c=async R=>{t(R);try{const{data:{user:P}}=await Ge.auth.getUser();if(P){const{data:T}=await Ge.from("profiles").select("company_id").eq("id",P.id).single();T?.company_id&&await Ge.from("subscriptions").update({plan_type:R}).eq("company_id",T.company_id)}}catch(P){console.error("Error updating subscription plan:",P)}},u=async R=>{i(R);try{const{data:{user:P}}=await Ge.auth.getUser();if(P){const{data:T}=await Ge.from("profiles").select("company_id").eq("id",P.id).single();T?.company_id&&await Ge.from("subscriptions").update({invoices_used:R.invoices,bills_used:R.bills}).eq("company_id",T.company_id)}}catch(P){console.error("Error updating usage:",P)}},d=()=>{const R={...s,invoices:s.invoices+1};u(R)},h=()=>{const R={...s,bills:s.bills+1};u(R)},p=()=>{u({invoices:0,bills:0})},g=e==="premium",w=e==="starter"||e==="professional"||e==="premium",x=e==="professional"||e==="premium",S=e==="premium"?qL:e==="professional"?zL:e==="starter"?$L:UL,_=e==="premium"?GL:e==="professional"?WL:e==="starter"?HL:VL,k=S.invoices===1/0||s.invoices<S.invoices,b=S.bills===1/0||s.bills<S.bills;return r.jsx(Tj.Provider,{value:{plan:e,setPlan:c,isPremium:g,isStarter:w,isProfessional:x,usage:s,limits:S,features:_,canCreateInvoice:k,canCreateBill:b,incrementInvoiceUsage:d,incrementBillUsage:h,resetUsage:p},children:n})}function wu(){const n=C.useContext(Tj);if(n===void 0)throw new Error("useSubscription must be used within a SubscriptionProvider");return n}function fl({...n}){return r.jsx(Zb,{"data-slot":"dialog",...n})}const vc=C.forwardRef((n,e)=>r.jsx(am,{ref:e,"data-slot":"dialog-trigger",...n}));vc.displayName=am.displayName;function YL({...n}){return r.jsx(e5,{"data-slot":"dialog-portal",...n})}const JL=C.forwardRef((n,e)=>r.jsx(Bd,{ref:e,"data-slot":"dialog-close",...n}));JL.displayName=Bd.displayName;const Lj=C.forwardRef(({className:n,...e},t)=>r.jsx(om,{ref:t,"data-slot":"dialog-overlay",className:Nt("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",n),...e}));Lj.displayName=om.displayName;const bo=C.forwardRef(({className:n,children:e,...t},s)=>r.jsxs(YL,{"data-slot":"dialog-portal",children:[r.jsx(Lj,{}),r.jsxs(lm,{ref:s,"data-slot":"dialog-content",className:Nt("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",n),...t,children:[e,r.jsxs(Bd,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[r.jsx(Ur,{}),r.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));bo.displayName=lm.displayName;function pl({className:n,...e}){return r.jsx("div",{"data-slot":"dialog-header",className:Nt("flex flex-col gap-2 text-center sm:text-left",n),...e})}function au({className:n,...e}){return r.jsx("div",{"data-slot":"dialog-footer",className:Nt("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",n),...e})}const jo=C.forwardRef(({className:n,...e},t)=>r.jsx(cm,{ref:t,"data-slot":"dialog-title",className:Nt("text-lg leading-none font-semibold",n),...e}));jo.displayName=cm.displayName;const mu=C.forwardRef(({className:n,...e},t)=>r.jsx(um,{ref:t,"data-slot":"dialog-description",className:Nt("text-muted-foreground text-sm",n),...e}));mu.displayName=um.displayName;function XL({isOpen:n,onClose:e,planName:t,amount:s,currency:i,onSuccess:o}){const[c,u]=C.useState(!1),[d,h]=C.useState("card"),[p,g]=C.useState("select"),[w,x]=C.useState(""),[S,_]=C.useState(""),[k,b]=C.useState(""),[R,P]=C.useState(""),[T,F]=C.useState(""),[ne,ee]=C.useState(""),[K,Y]=C.useState(""),[q,L]=C.useState(""),z=Z=>(Z.replace(/\s/g,"").match(/.{1,4}/g)||[]).join(" ").substring(0,19),U=Z=>{const me=Z.replace(/\D/g,"");return me.length>=2?me.substring(0,2)+"/"+me.substring(2,4):me},te=async()=>{u(!0),g("processing");try{await new Promise(Z=>setTimeout(Z,3e3)),g("success"),setTimeout(()=>{Le.success("Payment successful!",{description:`You've successfully upgraded to ${t} plan.`}),o(),re()},2e3)}catch{g("select"),Le.error("Payment failed",{description:"Please check your details and try again."})}finally{u(!1)}},re=()=>{g("select"),x(""),_(""),b(""),P(""),F(""),ee(""),Y(""),L(""),e()},ue=w.replace(/\s/g,"").length===16&&S.length===5&&k.length===3&&R.length>0,fe=T.length>=10&&ne.length>0,B=K.length>=10&&q.length>0;return r.jsx(fl,{open:n,onOpenChange:re,children:r.jsxs(bo,{className:"max-w-2xl",children:[r.jsxs(pl,{children:[r.jsx(jo,{children:"Complete Your Upgrade"}),r.jsxs(mu,{children:["Upgrade to ",t," plan for ",i,s.toLocaleString(),"/month"]})]}),p==="select"&&r.jsx("div",{className:"py-4",children:r.jsxs(pc,{value:d,onValueChange:Z=>h(Z),children:[r.jsxs(mc,{className:"grid w-full grid-cols-3 mb-6",children:[r.jsxs(Ar,{value:"card",className:"gap-2",children:[r.jsx(_y,{className:"w-4 h-4"}),"Card"]}),r.jsxs(Ar,{value:"bank",className:"gap-2",children:[r.jsx(r0,{className:"w-4 h-4"}),"Bank Transfer"]}),r.jsxs(Ar,{value:"mobile",className:"gap-2",children:[r.jsx(Cy,{className:"w-4 h-4"}),"Mobile Money"]})]}),r.jsxs(Er,{value:"card",className:"space-y-4",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Re,{htmlFor:"cardName",children:"Cardholder Name"}),r.jsx(Ve,{id:"cardName",placeholder:"John Doe",value:R,onChange:Z=>P(Z.target.value)})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Re,{htmlFor:"cardNumber",children:"Card Number"}),r.jsx(Ve,{id:"cardNumber",placeholder:"1234 5678 9012 3456",value:w,onChange:Z=>x(z(Z.target.value)),maxLength:19})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Re,{htmlFor:"cardExpiry",children:"Expiry Date"}),r.jsx(Ve,{id:"cardExpiry",placeholder:"MM/YY",value:S,onChange:Z=>_(U(Z.target.value)),maxLength:5})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Re,{htmlFor:"cardCvv",children:"CVV"}),r.jsx(Ve,{id:"cardCvv",type:"password",placeholder:"123",value:k,onChange:Z=>b(Z.target.value.replace(/\D/g,"").substring(0,3)),maxLength:3})]})]}),r.jsx(Fe,{className:"bg-muted",children:r.jsx(Ue,{className:"p-4",children:r.jsxs("div",{className:"flex items-start gap-2 text-sm",children:[r.jsx(ua,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:"Secure Payment"}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Your payment information is encrypted and secure. We never store your card details."})]})]})})})]}),r.jsxs(au,{children:[r.jsx(Ae,{variant:"outline",onClick:re,children:"Cancel"}),r.jsx(Ae,{onClick:te,disabled:!ue||c,className:"gap-2",children:c?r.jsxs(r.Fragment,{children:[r.jsx(an,{className:"w-4 h-4 animate-spin"}),"Processing..."]}):r.jsxs(r.Fragment,{children:[r.jsx(_y,{className:"w-4 h-4"}),"Pay ",i,s.toLocaleString()]})})]})]}),r.jsxs(Er,{value:"bank",className:"space-y-4",children:[r.jsx(Fe,{className:"bg-muted",children:r.jsxs(Ue,{className:"p-4",children:[r.jsx("h4",{className:"font-medium mb-2",children:"Bank Transfer Instructions"}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Bank Name:"})," First Bank of Nigeria"]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Account Number:"})," 1234567890"]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Account Name:"})," LifeisEazi Group Enterprises"]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Amount:"})," ",i,s.toLocaleString()]}),r.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Please use your email as the payment reference. Your account will be upgraded within 24 hours of payment confirmation."})]})]})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Re,{htmlFor:"bankName",children:"Your Bank Name"}),r.jsx(Ve,{id:"bankName",placeholder:"e.g., GTBank",value:ne,onChange:Z=>ee(Z.target.value)})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Re,{htmlFor:"accountNumber",children:"Account Number Used"}),r.jsx(Ve,{id:"accountNumber",placeholder:"Enter the account you paid from",value:T,onChange:Z=>F(Z.target.value.replace(/\D/g,""))})]})]}),r.jsxs(au,{children:[r.jsx(Ae,{variant:"outline",onClick:re,children:"Cancel"}),r.jsx(Ae,{onClick:te,disabled:!fe||c,children:"I've Made the Transfer"})]})]}),r.jsxs(Er,{value:"mobile",className:"space-y-4",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Re,{htmlFor:"mobileProvider",children:"Mobile Money Provider"}),r.jsxs("select",{id:"mobileProvider",className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm",value:q,onChange:Z=>L(Z.target.value),children:[r.jsx("option",{value:"",children:"Select provider"}),r.jsx("option",{value:"mtn",children:"MTN Mobile Money"}),r.jsx("option",{value:"airtel",children:"Airtel Money"}),r.jsx("option",{value:"glo",children:"Glo Mobile Money"}),r.jsx("option",{value:"9mobile",children:"9mobile Money"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Re,{htmlFor:"mobileNumber",children:"Mobile Number"}),r.jsx(Ve,{id:"mobileNumber",type:"tel",placeholder:"+234 801 234 5678",value:K,onChange:Z=>Y(Z.target.value)})]}),r.jsx(Fe,{className:"bg-muted",children:r.jsx(Ue,{className:"p-4",children:r.jsxs("div",{className:"text-sm",children:[r.jsx("p",{className:"font-medium mb-2",children:"How it works:"}),r.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-muted-foreground",children:[r.jsx("li",{children:'Click "Pay Now" to initiate payment'}),r.jsx("li",{children:"You'll receive a prompt on your phone"}),r.jsx("li",{children:"Enter your mobile money PIN"}),r.jsx("li",{children:"Your account will be upgraded instantly"})]})]})})})]}),r.jsxs(au,{children:[r.jsx(Ae,{variant:"outline",onClick:re,children:"Cancel"}),r.jsxs(Ae,{onClick:te,disabled:!B||c,className:"gap-2",children:[r.jsx(Cy,{className:"w-4 h-4"}),"Pay Now"]})]})]})]})}),p==="processing"&&r.jsxs("div",{className:"py-12 text-center",children:[r.jsx(an,{className:"w-16 h-16 animate-spin mx-auto mb-4"}),r.jsx("h3",{className:"font-medium mb-2",children:"Processing Payment..."}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Please don't close this window"})]}),p==="success"&&r.jsxs("div",{className:"py-12 text-center",children:[r.jsx("div",{className:"w-16 h-16 rounded-full bg-green-100 dark:bg-green-900/20 flex items-center justify-center mx-auto mb-4",children:r.jsx(Rt,{className:"w-8 h-8 text-green-600"})}),r.jsx("h3",{className:"font-medium mb-2",children:"Payment Successful!"}),r.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:["Your account has been upgraded to ",t," plan"]}),r.jsxs(qt,{variant:"default",className:"text-sm",children:[t," Plan Active"]})]})]})})}function QL(){const{plan:n,setPlan:e,isPremium:t,isStarter:s,isProfessional:i,usage:o,limits:c,features:u}=wu(),[d,h]=C.useState(!1),[p,g]=C.useState({name:"",type:"starter",amount:0}),w=k=>{const b={starter:{name:"Starter",amount:5e3},professional:{name:"Professional",amount:1e4},premium:{name:"Premium",amount:15e3}};g({name:b[k].name,type:k,amount:b[k].amount}),h(!0)},x=()=>{e(p.type),Le.success(`Successfully upgraded to ${p.name}!`,{description:`You now have access to all ${p.name} features.`})},S=k=>{e(k);const b={free:"Free",starter:"Starter",professional:"Professional"};Le.success(`Plan changed to ${b[k]}`,{description:"You can upgrade again at any time."})},_=k=>({free:"Free",starter:"Starter",professional:"Professional",premium:"Premium"})[k];return r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsxs("div",{children:[r.jsx("h1",{children:"Subscription & Billing"}),r.jsx("p",{className:"text-muted-foreground",children:"Choose the plan that's right for your business"})]}),r.jsxs(Fe,{children:[r.jsxs(qe,{children:[r.jsx(He,{children:"Current Plan"}),r.jsx(ur,{children:"Your active subscription plan"})]}),r.jsx(Ue,{children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs(qt,{variant:n==="free"?"secondary":"default",className:"text-lg px-4 py-2",children:[n==="premium"&&r.jsx(xi,{className:"w-4 h-4 mr-2"}),n==="professional"&&r.jsx(Ch,{className:"w-4 h-4 mr-2"}),n==="starter"&&r.jsx(iu,{className:"w-4 h-4 mr-2"}),n==="free"&&r.jsx(lu,{className:"w-4 h-4 mr-2"}),_(n)]}),c.invoices!==1/0&&r.jsxs("div",{className:"text-sm text-muted-foreground",children:[o.invoices,"/",c.invoices," invoices  ",o.bills,"/",c.bills," bills"]})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[r.jsxs(Fe,{className:n==="free"?"border-2 border-primary":"",children:[r.jsxs(qe,{children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs(He,{className:"flex items-center gap-2",children:[r.jsx(lu,{className:"w-5 h-5"}),"Free"]}),n==="free"&&r.jsx(qt,{children:"Current"})]}),r.jsx(ur,{children:"Perfect for testing"}),r.jsxs("div",{className:"mt-4",children:[r.jsx("span",{className:"text-3xl font-bold",children:"0"}),r.jsx("span",{className:"text-muted-foreground",children:"/month"})]})]}),r.jsx(Ue,{className:"space-y-4",children:r.jsxs("ul",{className:"space-y-2",children:[r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(Rt,{className:"w-4 h-4 mt-0.5 flex-shrink-0 text-green-600"}),r.jsx("span",{className:"text-sm",children:"5 invoices per month"})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(Rt,{className:"w-4 h-4 mt-0.5 flex-shrink-0 text-green-600"}),r.jsx("span",{className:"text-sm",children:"5 bills per month"})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(Rt,{className:"w-4 h-4 mt-0.5 flex-shrink-0 text-green-600"}),r.jsx("span",{className:"text-sm",children:"Basic invoice templates"})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(Rt,{className:"w-4 h-4 mt-0.5 flex-shrink-0 text-green-600"}),r.jsx("span",{className:"text-sm",children:"Multi-currency support"})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(Ur,{className:"w-4 h-4 mt-0.5 flex-shrink-0 text-muted-foreground"}),r.jsx("span",{className:"text-sm text-muted-foreground",children:"No company branding"})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(Ur,{className:"w-4 h-4 mt-0.5 flex-shrink-0 text-muted-foreground"}),r.jsx("span",{className:"text-sm text-muted-foreground",children:"No AI features"})]})]})}),r.jsxs(vd,{children:[n!=="free"&&r.jsx(Ae,{variant:"outline",onClick:()=>S("free"),className:"w-full",children:"Downgrade to Free"}),n==="free"&&r.jsx(Ae,{variant:"outline",disabled:!0,className:"w-full",children:"Current Plan"})]})]}),r.jsxs(Fe,{className:n==="starter"?"border-2 border-primary":"",children:[r.jsxs(qe,{children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs(He,{className:"flex items-center gap-2",children:[r.jsx(iu,{className:"w-5 h-5"}),"Starter"]}),n==="starter"&&r.jsx(qt,{children:"Current"})]}),r.jsx(ur,{children:"For small businesses"}),r.jsxs("div",{className:"mt-4",children:[r.jsx("span",{className:"text-3xl font-bold",children:"5,000"}),r.jsx("span",{className:"text-muted-foreground",children:"/month"})]})]}),r.jsxs(Ue,{className:"space-y-4",children:[r.jsx("div",{className:"text-sm font-medium mb-2",children:"Everything in Free, plus:"}),r.jsxs("ul",{className:"space-y-2",children:[r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(Rt,{className:"w-4 h-4 mt-0.5 flex-shrink-0 text-green-600"}),r.jsxs("span",{className:"text-sm",children:[r.jsx("strong",{children:"50"})," invoices per month"]})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(Rt,{className:"w-4 h-4 mt-0.5 flex-shrink-0 text-green-600"}),r.jsxs("span",{className:"text-sm",children:[r.jsx("strong",{children:"50"})," bills per month"]})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(Rt,{className:"w-4 h-4 mt-0.5 flex-shrink-0 text-green-600"}),r.jsxs("span",{className:"text-sm",children:[r.jsx("strong",{children:"Company branding"})," on invoices"]})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(Rt,{className:"w-4 h-4 mt-0.5 flex-shrink-0 text-green-600"}),r.jsx("span",{className:"text-sm",children:"Basic accounting features"})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(Rt,{className:"w-4 h-4 mt-0.5 flex-shrink-0 text-green-600"}),r.jsx("span",{className:"text-sm",children:"Basic reports"})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(Ur,{className:"w-4 h-4 mt-0.5 flex-shrink-0 text-muted-foreground"}),r.jsx("span",{className:"text-sm text-muted-foreground",children:"No AI features"})]})]})]}),r.jsxs(vd,{children:[n==="free"&&r.jsxs(Ae,{onClick:()=>w("starter"),className:"w-full gap-2",children:[r.jsx(iu,{className:"w-4 h-4"}),"Upgrade to Starter"]}),n==="starter"&&r.jsx(Ae,{variant:"outline",disabled:!0,className:"w-full",children:"Current Plan"}),(n==="professional"||n==="premium")&&r.jsx(Ae,{variant:"outline",onClick:()=>S("starter"),className:"w-full",children:"Downgrade to Starter"})]})]}),r.jsxs(Fe,{className:n==="professional"?"border-2 border-primary":"border-2 border-muted",children:[r.jsxs(qe,{children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs(He,{className:"flex items-center gap-2",children:[r.jsx(Ch,{className:"w-5 h-5"}),"Professional"]}),n==="professional"&&r.jsx(qt,{children:"Current"})]}),r.jsx(ur,{children:"For growing businesses"}),r.jsxs("div",{className:"mt-4",children:[r.jsx("span",{className:"text-3xl font-bold",children:"10,000"}),r.jsx("span",{className:"text-muted-foreground",children:"/month"})]})]}),r.jsxs(Ue,{className:"space-y-4",children:[r.jsx("div",{className:"text-sm font-medium mb-2",children:"Everything in Starter, plus:"}),r.jsxs("ul",{className:"space-y-2",children:[r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(Rt,{className:"w-4 h-4 mt-0.5 flex-shrink-0 text-green-600"}),r.jsxs("span",{className:"text-sm",children:[r.jsx("strong",{children:"Unlimited"})," invoices & bills"]})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(Rt,{className:"w-4 h-4 mt-0.5 flex-shrink-0 text-green-600"}),r.jsx("span",{className:"text-sm",children:"Full accounting & ledger"})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(Rt,{className:"w-4 h-4 mt-0.5 flex-shrink-0 text-green-600"}),r.jsx("span",{className:"text-sm",children:"Inventory management"})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(Rt,{className:"w-4 h-4 mt-0.5 flex-shrink-0 text-green-600"}),r.jsx("span",{className:"text-sm",children:"Tax compliance tools"})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(Rt,{className:"w-4 h-4 mt-0.5 flex-shrink-0 text-green-600"}),r.jsx("span",{className:"text-sm",children:"Advanced reports & analytics"})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(Ur,{className:"w-4 h-4 mt-0.5 flex-shrink-0 text-muted-foreground"}),r.jsx("span",{className:"text-sm text-muted-foreground",children:"No AI features"})]})]})]}),r.jsxs(vd,{children:[(n==="free"||n==="starter")&&r.jsxs(Ae,{onClick:()=>w("professional"),className:"w-full gap-2",children:[r.jsx(Ch,{className:"w-4 h-4"}),"Upgrade to Professional"]}),n==="professional"&&r.jsx(Ae,{variant:"outline",disabled:!0,className:"w-full",children:"Current Plan"}),n==="premium"&&r.jsx(Ae,{variant:"outline",onClick:()=>S("professional"),className:"w-full",children:"Downgrade to Professional"})]})]}),r.jsxs(Fe,{className:n==="premium"?"border-2 border-primary":"border-2 border-muted",children:[r.jsxs(qe,{children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs(He,{className:"flex items-center gap-2",children:[r.jsx(xi,{className:"w-5 h-5"}),"Premium"]}),n==="premium"&&r.jsx(qt,{children:"Current"})]}),r.jsx(ur,{children:"AI-powered suite"}),r.jsxs("div",{className:"mt-4",children:[r.jsx("span",{className:"text-3xl font-bold",children:"15,000"}),r.jsx("span",{className:"text-muted-foreground",children:"/month"})]})]}),r.jsxs(Ue,{className:"space-y-4",children:[r.jsx("div",{className:"text-sm font-medium mb-2",children:"Everything in Professional, plus:"}),r.jsxs("ul",{className:"space-y-2",children:[r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(xi,{className:"w-4 h-4 mt-0.5 flex-shrink-0 text-purple-600"}),r.jsx("span",{className:"text-sm",children:r.jsx("strong",{children:"AI OCR Scanner"})})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(xi,{className:"w-4 h-4 mt-0.5 flex-shrink-0 text-purple-600"}),r.jsx("span",{className:"text-sm",children:r.jsx("strong",{children:"AI Financial Consultant"})})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(Rt,{className:"w-4 h-4 mt-0.5 flex-shrink-0 text-green-600"}),r.jsx("span",{className:"text-sm",children:"Payroll processing"})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(Rt,{className:"w-4 h-4 mt-0.5 flex-shrink-0 text-green-600"}),r.jsx("span",{className:"text-sm",children:"Priority support"})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(Rt,{className:"w-4 h-4 mt-0.5 flex-shrink-0 text-green-600"}),r.jsx("span",{className:"text-sm",children:"API access"})]})]})]}),r.jsxs(vd,{children:[n!=="premium"&&r.jsxs(Ae,{onClick:()=>w("premium"),className:"w-full gap-2",children:[r.jsx(xi,{className:"w-4 h-4"}),"Upgrade to Premium"]}),n==="premium"&&r.jsx(Ae,{variant:"outline",disabled:!0,className:"w-full",children:"Current Plan"})]})]})]}),r.jsx(XL,{isOpen:d,onClose:()=>h(!1),planName:p.name,amount:p.amount,currency:"",onSuccess:x}),r.jsxs(Fe,{children:[r.jsxs(qe,{children:[r.jsx(He,{children:"Feature Comparison"}),r.jsx(ur,{children:"Compare all plan features"})]}),r.jsx(Ue,{children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b",children:[r.jsx("th",{className:"text-left py-3 px-2",children:"Feature"}),r.jsx("th",{className:"text-center py-3 px-2",children:"Free"}),r.jsx("th",{className:"text-center py-3 px-2",children:"Starter"}),r.jsx("th",{className:"text-center py-3 px-2",children:"Professional"}),r.jsx("th",{className:"text-center py-3 px-2",children:"Premium"})]})}),r.jsxs("tbody",{children:[r.jsxs("tr",{className:"border-b",children:[r.jsx("td",{className:"py-3 px-2",children:"Invoices per month"}),r.jsx("td",{className:"text-center py-3 px-2",children:"5"}),r.jsx("td",{className:"text-center py-3 px-2",children:"50"}),r.jsx("td",{className:"text-center py-3 px-2",children:"Unlimited"}),r.jsx("td",{className:"text-center py-3 px-2",children:"Unlimited"})]}),r.jsxs("tr",{className:"border-b",children:[r.jsx("td",{className:"py-3 px-2",children:"Bills per month"}),r.jsx("td",{className:"text-center py-3 px-2",children:"5"}),r.jsx("td",{className:"text-center py-3 px-2",children:"50"}),r.jsx("td",{className:"text-center py-3 px-2",children:"Unlimited"}),r.jsx("td",{className:"text-center py-3 px-2",children:"Unlimited"})]}),r.jsxs("tr",{className:"border-b",children:[r.jsx("td",{className:"py-3 px-2",children:"Company branding"}),r.jsx("td",{className:"text-center py-3 px-2",children:r.jsx(Ur,{className:"w-4 h-4 mx-auto text-muted-foreground"})}),r.jsx("td",{className:"text-center py-3 px-2",children:r.jsx(Rt,{className:"w-4 h-4 mx-auto text-green-600"})}),r.jsx("td",{className:"text-center py-3 px-2",children:r.jsx(Rt,{className:"w-4 h-4 mx-auto text-green-600"})}),r.jsx("td",{className:"text-center py-3 px-2",children:r.jsx(Rt,{className:"w-4 h-4 mx-auto text-green-600"})})]}),r.jsxs("tr",{className:"border-b",children:[r.jsx("td",{className:"py-3 px-2",children:"Accounting features"}),r.jsx("td",{className:"text-center py-3 px-2",children:r.jsx(Ur,{className:"w-4 h-4 mx-auto text-muted-foreground"})}),r.jsx("td",{className:"text-center py-3 px-2",children:"Basic"}),r.jsx("td",{className:"text-center py-3 px-2",children:"Full"}),r.jsx("td",{className:"text-center py-3 px-2",children:"Full"})]}),r.jsxs("tr",{className:"border-b",children:[r.jsx("td",{className:"py-3 px-2",children:"Inventory management"}),r.jsx("td",{className:"text-center py-3 px-2",children:r.jsx(Ur,{className:"w-4 h-4 mx-auto text-muted-foreground"})}),r.jsx("td",{className:"text-center py-3 px-2",children:r.jsx(Ur,{className:"w-4 h-4 mx-auto text-muted-foreground"})}),r.jsx("td",{className:"text-center py-3 px-2",children:r.jsx(Rt,{className:"w-4 h-4 mx-auto text-green-600"})}),r.jsx("td",{className:"text-center py-3 px-2",children:r.jsx(Rt,{className:"w-4 h-4 mx-auto text-green-600"})})]}),r.jsxs("tr",{className:"border-b",children:[r.jsx("td",{className:"py-3 px-2",children:"Tax compliance"}),r.jsx("td",{className:"text-center py-3 px-2",children:r.jsx(Ur,{className:"w-4 h-4 mx-auto text-muted-foreground"})}),r.jsx("td",{className:"text-center py-3 px-2",children:r.jsx(Ur,{className:"w-4 h-4 mx-auto text-muted-foreground"})}),r.jsx("td",{className:"text-center py-3 px-2",children:r.jsx(Rt,{className:"w-4 h-4 mx-auto text-green-600"})}),r.jsx("td",{className:"text-center py-3 px-2",children:r.jsx(Rt,{className:"w-4 h-4 mx-auto text-green-600"})})]}),r.jsxs("tr",{className:"border-b",children:[r.jsx("td",{className:"py-3 px-2",children:"AI OCR Scanner"}),r.jsx("td",{className:"text-center py-3 px-2",children:r.jsx(Ur,{className:"w-4 h-4 mx-auto text-muted-foreground"})}),r.jsx("td",{className:"text-center py-3 px-2",children:r.jsx(Ur,{className:"w-4 h-4 mx-auto text-muted-foreground"})}),r.jsx("td",{className:"text-center py-3 px-2",children:r.jsx(Ur,{className:"w-4 h-4 mx-auto text-muted-foreground"})}),r.jsx("td",{className:"text-center py-3 px-2",children:r.jsx(xi,{className:"w-4 h-4 mx-auto text-purple-600"})})]}),r.jsxs("tr",{className:"border-b",children:[r.jsx("td",{className:"py-3 px-2",children:"AI Financial Consultant"}),r.jsx("td",{className:"text-center py-3 px-2",children:r.jsx(Ur,{className:"w-4 h-4 mx-auto text-muted-foreground"})}),r.jsx("td",{className:"text-center py-3 px-2",children:r.jsx(Ur,{className:"w-4 h-4 mx-auto text-muted-foreground"})}),r.jsx("td",{className:"text-center py-3 px-2",children:r.jsx(Ur,{className:"w-4 h-4 mx-auto text-muted-foreground"})}),r.jsx("td",{className:"text-center py-3 px-2",children:r.jsx(xi,{className:"w-4 h-4 mx-auto text-purple-600"})})]}),r.jsxs("tr",{className:"border-b",children:[r.jsx("td",{className:"py-3 px-2",children:"Payroll processing"}),r.jsx("td",{className:"text-center py-3 px-2",children:r.jsx(Ur,{className:"w-4 h-4 mx-auto text-muted-foreground"})}),r.jsx("td",{className:"text-center py-3 px-2",children:r.jsx(Ur,{className:"w-4 h-4 mx-auto text-muted-foreground"})}),r.jsx("td",{className:"text-center py-3 px-2",children:r.jsx(Ur,{className:"w-4 h-4 mx-auto text-muted-foreground"})}),r.jsx("td",{className:"text-center py-3 px-2",children:r.jsx(Rt,{className:"w-4 h-4 mx-auto text-green-600"})})]}),r.jsxs("tr",{className:"border-b",children:[r.jsx("td",{className:"py-3 px-2",children:"Advanced reports"}),r.jsx("td",{className:"text-center py-3 px-2",children:r.jsx(Ur,{className:"w-4 h-4 mx-auto text-muted-foreground"})}),r.jsx("td",{className:"text-center py-3 px-2",children:r.jsx(Ur,{className:"w-4 h-4 mx-auto text-muted-foreground"})}),r.jsx("td",{className:"text-center py-3 px-2",children:r.jsx(Rt,{className:"w-4 h-4 mx-auto text-green-600"})}),r.jsx("td",{className:"text-center py-3 px-2",children:r.jsx(Rt,{className:"w-4 h-4 mx-auto text-green-600"})})]}),r.jsxs("tr",{children:[r.jsx("td",{className:"py-3 px-2",children:"Priority support"}),r.jsx("td",{className:"text-center py-3 px-2",children:r.jsx(Ur,{className:"w-4 h-4 mx-auto text-muted-foreground"})}),r.jsx("td",{className:"text-center py-3 px-2",children:r.jsx(Ur,{className:"w-4 h-4 mx-auto text-muted-foreground"})}),r.jsx("td",{className:"text-center py-3 px-2",children:r.jsx(Ur,{className:"w-4 h-4 mx-auto text-muted-foreground"})}),r.jsx("td",{className:"text-center py-3 px-2",children:r.jsx(Rt,{className:"w-4 h-4 mx-auto text-green-600"})})]})]})]})})})]}),c.invoices!==1/0&&r.jsxs(Fe,{children:[r.jsxs(qe,{children:[r.jsx(He,{children:"Usage This Month"}),r.jsx(ur,{children:"Track your plan usage"})]}),r.jsxs(Ue,{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[r.jsx("span",{children:"Invoices"}),r.jsxs("span",{className:"font-medium",children:[o.invoices,"/",c.invoices]})]}),r.jsx("div",{className:"w-full bg-muted h-2 rounded-full overflow-hidden",children:r.jsx("div",{className:"bg-foreground h-full transition-all",style:{width:`${o.invoices/c.invoices*100}%`}})})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[r.jsx("span",{children:"Bills"}),r.jsxs("span",{className:"font-medium",children:[o.bills,"/",c.bills]})]}),r.jsx("div",{className:"w-full bg-muted h-2 rounded-full overflow-hidden",children:r.jsx("div",{className:"bg-foreground h-full transition-all",style:{width:`${o.bills/c.bills*100}%`}})})]})]})]})]})}function ZL(){const{user:n}=Kh(),[e,t]=C.useState(!0),[s,i]=C.useState(!1),[o,c]=C.useState(!1),[u,d]=C.useState(null),[h,p]=C.useState({fullName:"",email:"",phone:"",avatarUrl:""}),[g,w]=C.useState({currentPassword:"",newPassword:"",confirmPassword:""});C.useEffect(()=>{x()},[]);const x=async()=>{t(!0),d(null);try{const R="user-profile",P=_d.get(R);if(P){p(P),t(!1),S(R);return}await S(R)}catch(R){console.error("Error loading profile:",R),d(R.message),R.message==="Request timeout"?Le.error("Loading timed out. Please check your internet connection."):R.message?.includes("Database not set up")||Le.error("Failed to load profile. Check your Supabase connection.")}finally{t(!1)}},S=async R=>{await Pj((async()=>{const{data:{user:P},error:T}=await Ge.auth.getUser();if(T)throw T;if(!P)throw new Error("No authenticated user");try{const{data:F,error:ne}=await Ge.from("profiles").select("full_name, email, phone, avatar_url").eq("id",P.id).maybeSingle();if(ne&&ne.code!=="PGRST116")throw ne;const ee={fullName:F?.full_name||n?.name||"",email:F?.email||P.email||"",phone:F?.phone||"",avatarUrl:F?.avatar_url||""};p(ee),_d.set(R,ee,300*1e3)}catch(F){if(console.warn("Database error loading profile:",F),F.message?.includes("relation")||F.message?.includes("does not exist"))throw new Error("Database not set up");if(F.code!=="PGRST116")throw F;p({fullName:n?.name||"",email:P.email||"",phone:"",avatarUrl:""})}})(),5e3,"Request timeout")},_=async()=>{i(!0);try{const{data:{user:R}}=await Ge.auth.getUser();if(R){const{error:P}=await Ge.from("profiles").update({full_name:h.fullName,phone:h.phone,avatar_url:h.avatarUrl}).eq("id",R.id);if(P)throw P;_d.clear("user-profile"),Le.success("Profile updated successfully")}}catch(R){console.error("Error saving profile:",R),Le.error("Failed to update profile")}finally{i(!1)}},k=async()=>{if(g.newPassword!==g.confirmPassword){Le.error("Passwords do not match");return}if(g.newPassword.length<6){Le.error("Password must be at least 6 characters");return}c(!0);try{const{error:R}=await Ge.auth.updateUser({password:g.newPassword});if(R)throw R;Le.success("Password changed successfully"),w({currentPassword:"",newPassword:"",confirmPassword:""})}catch(R){console.error("Error changing password:",R),Le.error("Failed to change password")}finally{c(!1)}},b=async R=>{const P=R.target.files?.[0];if(P){if(!P.type.startsWith("image/")){Le.error("Please upload an image file");return}if(P.size>2*1024*1024){Le.error("Image size should be less than 2MB");return}try{const{data:{user:T}}=await Ge.auth.getUser();if(!T){Le.error("Please log in to upload avatar");return}const F=P.name.split(".").pop(),ee=`avatars/${`${T.id}-${Date.now()}.${F}`}`,{error:K,data:Y}=await Ge.storage.from("user-assets").upload(ee,P,{cacheControl:"3600",upsert:!1});if(K)throw console.error("Upload error:",K),K.message.includes("not found")||K.message.includes("bucket")?Le.error('Storage bucket not set up. Please create "user-assets" bucket in Supabase Storage.'):Le.error(`Upload failed: ${K.message}`),K;const{data:{publicUrl:q}}=Ge.storage.from("user-assets").getPublicUrl(ee);p({...h,avatarUrl:q}),Le.success("Avatar uploaded successfully! Remember to save your profile.")}catch(T){console.error("Error uploading avatar:",T),T.message?.includes("Storage")||Le.error("Failed to upload avatar. Check console for details.")}}};return e?r.jsxs("div",{className:"flex flex-col items-center justify-center py-12 gap-4",children:[r.jsx(an,{className:"w-8 h-8 animate-spin text-muted-foreground"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading profile..."}),u&&r.jsxs("div",{className:"mt-4 p-4 border rounded-lg bg-muted max-w-md",children:[r.jsx("p",{className:"text-sm text-destructive mb-2",children:u}),r.jsxs(Ae,{variant:"outline",size:"sm",onClick:x,className:"gap-2",children:[r.jsx(Qp,{className:"w-4 h-4"}),"Retry"]})]})]}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs(Fe,{children:[r.jsxs(qe,{children:[r.jsxs(He,{className:"flex items-center gap-2",children:[r.jsx(Ay,{className:"w-5 h-5"}),"Profile Information"]}),r.jsx(ur,{children:"Update your personal information and profile picture"})]}),r.jsxs(Ue,{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-start gap-6",children:[h.avatarUrl?r.jsx("div",{className:"w-20 h-20 rounded-full overflow-hidden border-2",children:r.jsx("img",{src:h.avatarUrl,alt:"Profile",className:"w-full h-full object-cover"})}):r.jsx("div",{className:"w-20 h-20 rounded-full bg-muted flex items-center justify-center border-2",children:r.jsx(Ay,{className:"w-10 h-10 text-muted-foreground"})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs(Re,{htmlFor:"avatar-upload",className:"cursor-pointer",children:[r.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-primary text-primary-foreground rounded-md hover:opacity-90",children:[r.jsx(wd,{className:"w-4 h-4"}),"Upload Photo"]}),r.jsx(Ve,{id:"avatar-upload",type:"file",accept:"image/*",className:"hidden",onChange:b})]}),r.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"PNG, JPG or GIF. Maximum size 2MB."})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(Re,{htmlFor:"fullName",children:"Full Name"}),r.jsx(Ve,{id:"fullName",value:h.fullName,onChange:R=>p({...h,fullName:R.target.value}),placeholder:"John Doe"})]}),r.jsxs("div",{children:[r.jsx(Re,{htmlFor:"phone",children:"Phone Number"}),r.jsx(Ve,{id:"phone",type:"tel",value:h.phone,onChange:R=>p({...h,phone:R.target.value}),placeholder:"+234 xxx xxx xxxx"})]})]}),r.jsxs("div",{children:[r.jsx(Re,{htmlFor:"email",children:"Email Address"}),r.jsx(Ve,{id:"email",type:"email",value:h.email,disabled:!0,className:"bg-muted"}),r.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Email cannot be changed. Contact support if needed."})]}),r.jsx("div",{className:"flex justify-end",children:r.jsx(Ae,{onClick:_,disabled:s,children:s?r.jsxs(r.Fragment,{children:[r.jsx(an,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):"Save Profile"})})]})]}),r.jsxs(Fe,{children:[r.jsxs(qe,{children:[r.jsxs(He,{className:"flex items-center gap-2",children:[r.jsx(Lh,{className:"w-5 h-5"}),"Change Password"]}),r.jsx(ur,{children:"Update your password to keep your account secure"})]}),r.jsxs(Ue,{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(Re,{htmlFor:"newPassword",children:"New Password"}),r.jsx(Ve,{id:"newPassword",type:"password",value:g.newPassword,onChange:R=>w({...g,newPassword:R.target.value}),placeholder:"Enter new password"})]}),r.jsxs("div",{children:[r.jsx(Re,{htmlFor:"confirmPassword",children:"Confirm New Password"}),r.jsx(Ve,{id:"confirmPassword",type:"password",value:g.confirmPassword,onChange:R=>w({...g,confirmPassword:R.target.value}),placeholder:"Confirm new password"})]}),r.jsx("div",{className:"flex justify-end",children:r.jsx(Ae,{onClick:k,disabled:o,children:o?r.jsxs(r.Fragment,{children:[r.jsx(an,{className:"w-4 h-4 mr-2 animate-spin"}),"Changing..."]}):"Change Password"})})]})]}),r.jsxs(Fe,{children:[r.jsxs(qe,{children:[r.jsxs(He,{className:"flex items-center gap-2",children:[r.jsx(Ih,{className:"w-5 h-5"}),"Account Security"]}),r.jsx(ur,{children:"Manage your account security settings"})]}),r.jsxs(Ue,{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium",children:"Two-Factor Authentication"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Add an extra layer of security to your account"})]}),r.jsx(Ae,{variant:"outline",disabled:!0,children:"Coming Soon"})]}),r.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium",children:"Active Sessions"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"View and manage your active login sessions"})]}),r.jsx(Ae,{variant:"outline",disabled:!0,children:"Coming Soon"})]})]})]})]})}function eI(n){const e=tI(n),t=C.forwardRef((s,i)=>{const{children:o,...c}=s,u=C.Children.toArray(o),d=u.find(nI);if(d){const h=d.props.children,p=u.map(g=>g===d?C.Children.count(h)>1?C.Children.only(null):C.isValidElement(h)?h.props.children:null:g);return r.jsx(e,{...c,ref:i,children:C.isValidElement(h)?C.cloneElement(h,void 0,p):null})}return r.jsx(e,{...c,ref:i,children:o})});return t.displayName=`${n}.Slot`,t}function tI(n){const e=C.forwardRef((t,s)=>{const{children:i,...o}=t;if(C.isValidElement(i)){const c=iI(i),u=sI(o,i.props);return i.type!==C.Fragment&&(u.ref=s?ml(s,c):c),C.cloneElement(i,u)}return C.Children.count(i)>1?C.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var rI=Symbol("radix.slottable");function nI(n){return C.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===rI}function sI(n,e){const t={...e};for(const s in e){const i=n[s],o=e[s];/^on[A-Z]/.test(s)?i&&o?t[s]=(...u)=>{const d=o(...u);return i(...u),d}:i&&(t[s]=i):s==="style"?t[s]={...i,...o}:s==="className"&&(t[s]=[i,o].filter(Boolean).join(" "))}return{...n,...t}}function iI(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var Bx=["Enter"," "],aI=["ArrowDown","PageUp","Home"],Ij=["ArrowUp","PageDown","End"],oI=[...aI,...Ij],lI={ltr:[...Bx,"ArrowRight"],rtl:[...Bx,"ArrowLeft"]},cI={ltr:["ArrowLeft"],rtl:["ArrowRight"]},ef="Menu",[zh,uI,dI]=M0(ef),[bu,Rj]=gl(ef,[dI,zd,vm]),Nm=zd(),Oj=vm(),[hI,ju]=bu(ef),[fI,tf]=bu(ef),Dj=n=>{const{__scopeMenu:e,open:t=!1,children:s,dir:i,onOpenChange:o,modal:c=!0}=n,u=Nm(e),[d,h]=C.useState(null),p=C.useRef(!1),g=yo(o),w=xm(i);return C.useEffect(()=>{const x=()=>{p.current=!0,document.addEventListener("pointerdown",S,{capture:!0,once:!0}),document.addEventListener("pointermove",S,{capture:!0,once:!0})},S=()=>p.current=!1;return document.addEventListener("keydown",x,{capture:!0}),()=>{document.removeEventListener("keydown",x,{capture:!0}),document.removeEventListener("pointerdown",S,{capture:!0}),document.removeEventListener("pointermove",S,{capture:!0})}},[]),r.jsx(P0,{...u,children:r.jsx(hI,{scope:e,open:t,onOpenChange:g,content:d,onContentChange:h,children:r.jsx(fI,{scope:e,onClose:C.useCallback(()=>g(!1),[g]),isUsingKeyboardRef:p,dir:w,modal:c,children:s})})})};Dj.displayName=ef;var pI="MenuAnchor",U0=C.forwardRef((n,e)=>{const{__scopeMenu:t,...s}=n,i=Nm(t);return r.jsx(T0,{...i,...s,ref:e})});U0.displayName=pI;var $0="MenuPortal",[mI,Mj]=bu($0,{forceMount:void 0}),Fj=n=>{const{__scopeMenu:e,forceMount:t,children:s,container:i}=n,o=ju($0,e);return r.jsx(mI,{scope:e,forceMount:t,children:r.jsx(qa,{present:t||o.open,children:r.jsx(Jh,{asChild:!0,container:i,children:s})})})};Fj.displayName=$0;var ca="MenuContent",[gI,z0]=bu(ca),Bj=C.forwardRef((n,e)=>{const t=Mj(ca,n.__scopeMenu),{forceMount:s=t.forceMount,...i}=n,o=ju(ca,n.__scopeMenu),c=tf(ca,n.__scopeMenu);return r.jsx(zh.Provider,{scope:n.__scopeMenu,children:r.jsx(qa,{present:s||o.open,children:r.jsx(zh.Slot,{scope:n.__scopeMenu,children:c.modal?r.jsx(xI,{...i,ref:e}):r.jsx(vI,{...i,ref:e})})})})}),xI=C.forwardRef((n,e)=>{const t=ju(ca,n.__scopeMenu),s=C.useRef(null),i=Qr(e,s);return C.useEffect(()=>{const o=s.current;if(o)return g0(o)},[]),r.jsx(q0,{...n,ref:i,trapFocus:t.open,disableOutsidePointerEvents:t.open,disableOutsideScroll:!0,onFocusOutside:jt(n.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>t.onOpenChange(!1)})}),vI=C.forwardRef((n,e)=>{const t=ju(ca,n.__scopeMenu);return r.jsx(q0,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>t.onOpenChange(!1)})}),yI=eI("MenuContent.ScrollLock"),q0=C.forwardRef((n,e)=>{const{__scopeMenu:t,loop:s=!1,trapFocus:i,onOpenAutoFocus:o,onCloseAutoFocus:c,disableOutsidePointerEvents:u,onEntryFocus:d,onEscapeKeyDown:h,onPointerDownOutside:p,onFocusOutside:g,onInteractOutside:w,onDismiss:x,disableOutsideScroll:S,..._}=n,k=ju(ca,t),b=tf(ca,t),R=Nm(t),P=Oj(t),T=uI(t),[F,ne]=C.useState(null),ee=C.useRef(null),K=Qr(e,ee,k.onContentChange),Y=C.useRef(0),q=C.useRef(""),L=C.useRef(0),z=C.useRef(null),U=C.useRef("right"),te=C.useRef(0),re=S?sm:C.Fragment,ue=S?{as:yI,allowPinchZoom:!0}:void 0,fe=Z=>{const me=q.current+Z,H=T().filter(le=>!le.disabled),O=document.activeElement,V=H.find(le=>le.ref.current===O)?.textValue,X=H.map(le=>le.textValue),se=TI(X,me,V),de=H.find(le=>le.textValue===se)?.ref.current;(function le(ge){q.current=ge,window.clearTimeout(Y.current),ge!==""&&(Y.current=window.setTimeout(()=>le(""),1e3))})(me),de&&setTimeout(()=>de.focus())};C.useEffect(()=>()=>window.clearTimeout(Y.current),[]),m0();const B=C.useCallback(Z=>U.current===z.current?.side&&II(Z,z.current?.area),[]);return r.jsx(gI,{scope:t,searchRef:q,onItemEnter:C.useCallback(Z=>{B(Z)&&Z.preventDefault()},[B]),onItemLeave:C.useCallback(Z=>{B(Z)||(ee.current?.focus(),ne(null))},[B]),onTriggerLeave:C.useCallback(Z=>{B(Z)&&Z.preventDefault()},[B]),pointerGraceTimerRef:L,onPointerGraceIntentChange:C.useCallback(Z=>{z.current=Z},[]),children:r.jsx(re,{...ue,children:r.jsx(rm,{asChild:!0,trapped:i,onMountAutoFocus:jt(o,Z=>{Z.preventDefault(),ee.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:c,children:r.jsx(Yh,{asChild:!0,disableOutsidePointerEvents:u,onEscapeKeyDown:h,onPointerDownOutside:p,onFocusOutside:g,onInteractOutside:w,onDismiss:x,children:r.jsx(H5,{asChild:!0,...P,dir:b.dir,orientation:"vertical",loop:s,currentTabStopId:F,onCurrentTabStopIdChange:ne,onEntryFocus:jt(d,Z=>{b.isUsingKeyboardRef.current||Z.preventDefault()}),preventScrollOnEntryFocus:!0,children:r.jsx(L0,{role:"menu","aria-orientation":"vertical","data-state":tN(k.open),"data-radix-menu-content":"",dir:b.dir,...R,..._,ref:K,style:{outline:"none",..._.style},onKeyDown:jt(_.onKeyDown,Z=>{const H=Z.target.closest("[data-radix-menu-content]")===Z.currentTarget,O=Z.ctrlKey||Z.altKey||Z.metaKey,V=Z.key.length===1;H&&(Z.key==="Tab"&&Z.preventDefault(),!O&&V&&fe(Z.key));const X=ee.current;if(Z.target!==X||!oI.includes(Z.key))return;Z.preventDefault();const de=T().filter(le=>!le.disabled).map(le=>le.ref.current);Ij.includes(Z.key)&&de.reverse(),EI(de)}),onBlur:jt(n.onBlur,Z=>{Z.currentTarget.contains(Z.target)||(window.clearTimeout(Y.current),q.current="")}),onPointerMove:jt(n.onPointerMove,qh(Z=>{const me=Z.target,H=te.current!==Z.clientX;if(Z.currentTarget.contains(me)&&H){const O=Z.clientX>te.current?"right":"left";U.current=O,te.current=Z.clientX}}))})})})})})})});Bj.displayName=ca;var wI="MenuGroup",V0=C.forwardRef((n,e)=>{const{__scopeMenu:t,...s}=n;return r.jsx(fr.div,{role:"group",...s,ref:e})});V0.displayName=wI;var bI="MenuLabel",Uj=C.forwardRef((n,e)=>{const{__scopeMenu:t,...s}=n;return r.jsx(fr.div,{...s,ref:e})});Uj.displayName=bI;var $p="MenuItem",T1="menu.itemSelect",_m=C.forwardRef((n,e)=>{const{disabled:t=!1,onSelect:s,...i}=n,o=C.useRef(null),c=tf($p,n.__scopeMenu),u=z0($p,n.__scopeMenu),d=Qr(e,o),h=C.useRef(!1),p=()=>{const g=o.current;if(!t&&g){const w=new CustomEvent(T1,{bubbles:!0,cancelable:!0});g.addEventListener(T1,x=>s?.(x),{once:!0}),kb(g,w),w.defaultPrevented?h.current=!1:c.onClose()}};return r.jsx($j,{...i,ref:d,disabled:t,onClick:jt(n.onClick,p),onPointerDown:g=>{n.onPointerDown?.(g),h.current=!0},onPointerUp:jt(n.onPointerUp,g=>{h.current||g.currentTarget?.click()}),onKeyDown:jt(n.onKeyDown,g=>{const w=u.searchRef.current!=="";t||w&&g.key===" "||Bx.includes(g.key)&&(g.currentTarget.click(),g.preventDefault())})})});_m.displayName=$p;var $j=C.forwardRef((n,e)=>{const{__scopeMenu:t,disabled:s=!1,textValue:i,...o}=n,c=z0($p,t),u=Oj(t),d=C.useRef(null),h=Qr(e,d),[p,g]=C.useState(!1),[w,x]=C.useState("");return C.useEffect(()=>{const S=d.current;S&&x((S.textContent??"").trim())},[o.children]),r.jsx(zh.ItemSlot,{scope:t,disabled:s,textValue:i??w,children:r.jsx(W5,{asChild:!0,...u,focusable:!s,children:r.jsx(fr.div,{role:"menuitem","data-highlighted":p?"":void 0,"aria-disabled":s||void 0,"data-disabled":s?"":void 0,...o,ref:h,onPointerMove:jt(n.onPointerMove,qh(S=>{s?c.onItemLeave(S):(c.onItemEnter(S),S.defaultPrevented||S.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:jt(n.onPointerLeave,qh(S=>c.onItemLeave(S))),onFocus:jt(n.onFocus,()=>g(!0)),onBlur:jt(n.onBlur,()=>g(!1))})})})}),jI="MenuCheckboxItem",zj=C.forwardRef((n,e)=>{const{checked:t=!1,onCheckedChange:s,...i}=n;return r.jsx(Gj,{scope:n.__scopeMenu,checked:t,children:r.jsx(_m,{role:"menuitemcheckbox","aria-checked":zp(t)?"mixed":t,...i,ref:e,"data-state":W0(t),onSelect:jt(i.onSelect,()=>s?.(zp(t)?!0:!t),{checkForDefaultPrevented:!1})})})});zj.displayName=jI;var qj="MenuRadioGroup",[NI,_I]=bu(qj,{value:void 0,onValueChange:()=>{}}),Vj=C.forwardRef((n,e)=>{const{value:t,onValueChange:s,...i}=n,o=yo(s);return r.jsx(NI,{scope:n.__scopeMenu,value:t,onValueChange:o,children:r.jsx(V0,{...i,ref:e})})});Vj.displayName=qj;var Hj="MenuRadioItem",Wj=C.forwardRef((n,e)=>{const{value:t,...s}=n,i=_I(Hj,n.__scopeMenu),o=t===i.value;return r.jsx(Gj,{scope:n.__scopeMenu,checked:o,children:r.jsx(_m,{role:"menuitemradio","aria-checked":o,...s,ref:e,"data-state":W0(o),onSelect:jt(s.onSelect,()=>i.onValueChange?.(t),{checkForDefaultPrevented:!1})})})});Wj.displayName=Hj;var H0="MenuItemIndicator",[Gj,SI]=bu(H0,{checked:!1}),Kj=C.forwardRef((n,e)=>{const{__scopeMenu:t,forceMount:s,...i}=n,o=SI(H0,t);return r.jsx(qa,{present:s||zp(o.checked)||o.checked===!0,children:r.jsx(fr.span,{...i,ref:e,"data-state":W0(o.checked)})})});Kj.displayName=H0;var kI="MenuSeparator",Yj=C.forwardRef((n,e)=>{const{__scopeMenu:t,...s}=n;return r.jsx(fr.div,{role:"separator","aria-orientation":"horizontal",...s,ref:e})});Yj.displayName=kI;var CI="MenuArrow",Jj=C.forwardRef((n,e)=>{const{__scopeMenu:t,...s}=n,i=Nm(t);return r.jsx(I0,{...i,...s,ref:e})});Jj.displayName=CI;var AI="MenuSub",[YM,Xj]=bu(AI),kh="MenuSubTrigger",Qj=C.forwardRef((n,e)=>{const t=ju(kh,n.__scopeMenu),s=tf(kh,n.__scopeMenu),i=Xj(kh,n.__scopeMenu),o=z0(kh,n.__scopeMenu),c=C.useRef(null),{pointerGraceTimerRef:u,onPointerGraceIntentChange:d}=o,h={__scopeMenu:n.__scopeMenu},p=C.useCallback(()=>{c.current&&window.clearTimeout(c.current),c.current=null},[]);return C.useEffect(()=>p,[p]),C.useEffect(()=>{const g=u.current;return()=>{window.clearTimeout(g),d(null)}},[u,d]),r.jsx(U0,{asChild:!0,...h,children:r.jsx($j,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":t.open,"aria-controls":i.contentId,"data-state":tN(t.open),...n,ref:ml(e,i.onTriggerChange),onClick:g=>{n.onClick?.(g),!(n.disabled||g.defaultPrevented)&&(g.currentTarget.focus(),t.open||t.onOpenChange(!0))},onPointerMove:jt(n.onPointerMove,qh(g=>{o.onItemEnter(g),!g.defaultPrevented&&!n.disabled&&!t.open&&!c.current&&(o.onPointerGraceIntentChange(null),c.current=window.setTimeout(()=>{t.onOpenChange(!0),p()},100))})),onPointerLeave:jt(n.onPointerLeave,qh(g=>{p();const w=t.content?.getBoundingClientRect();if(w){const x=t.content?.dataset.side,S=x==="right",_=S?-5:5,k=w[S?"left":"right"],b=w[S?"right":"left"];o.onPointerGraceIntentChange({area:[{x:g.clientX+_,y:g.clientY},{x:k,y:w.top},{x:b,y:w.top},{x:b,y:w.bottom},{x:k,y:w.bottom}],side:x}),window.clearTimeout(u.current),u.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(g),g.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:jt(n.onKeyDown,g=>{const w=o.searchRef.current!=="";n.disabled||w&&g.key===" "||lI[s.dir].includes(g.key)&&(t.onOpenChange(!0),t.content?.focus(),g.preventDefault())})})})});Qj.displayName=kh;var Zj="MenuSubContent",eN=C.forwardRef((n,e)=>{const t=Mj(ca,n.__scopeMenu),{forceMount:s=t.forceMount,...i}=n,o=ju(ca,n.__scopeMenu),c=tf(ca,n.__scopeMenu),u=Xj(Zj,n.__scopeMenu),d=C.useRef(null),h=Qr(e,d);return r.jsx(zh.Provider,{scope:n.__scopeMenu,children:r.jsx(qa,{present:s||o.open,children:r.jsx(zh.Slot,{scope:n.__scopeMenu,children:r.jsx(q0,{id:u.contentId,"aria-labelledby":u.triggerId,...i,ref:h,align:"start",side:c.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:p=>{c.isUsingKeyboardRef.current&&d.current?.focus(),p.preventDefault()},onCloseAutoFocus:p=>p.preventDefault(),onFocusOutside:jt(n.onFocusOutside,p=>{p.target!==u.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:jt(n.onEscapeKeyDown,p=>{c.onClose(),p.preventDefault()}),onKeyDown:jt(n.onKeyDown,p=>{const g=p.currentTarget.contains(p.target),w=cI[c.dir].includes(p.key);g&&w&&(o.onOpenChange(!1),u.trigger?.focus(),p.preventDefault())})})})})})});eN.displayName=Zj;function tN(n){return n?"open":"closed"}function zp(n){return n==="indeterminate"}function W0(n){return zp(n)?"indeterminate":n?"checked":"unchecked"}function EI(n){const e=document.activeElement;for(const t of n)if(t===e||(t.focus(),document.activeElement!==e))return}function PI(n,e){return n.map((t,s)=>n[(e+s)%n.length])}function TI(n,e,t){const i=e.length>1&&Array.from(e).every(h=>h===e[0])?e[0]:e,o=t?n.indexOf(t):-1;let c=PI(n,Math.max(o,0));i.length===1&&(c=c.filter(h=>h!==t));const d=c.find(h=>h.toLowerCase().startsWith(i.toLowerCase()));return d!==t?d:void 0}function LI(n,e){const{x:t,y:s}=n;let i=!1;for(let o=0,c=e.length-1;o<e.length;c=o++){const u=e[o],d=e[c],h=u.x,p=u.y,g=d.x,w=d.y;p>s!=w>s&&t<(g-h)*(s-p)/(w-p)+h&&(i=!i)}return i}function II(n,e){if(!e)return!1;const t={x:n.clientX,y:n.clientY};return LI(t,e)}function qh(n){return e=>e.pointerType==="mouse"?n(e):void 0}var RI=Dj,OI=U0,DI=Fj,MI=Bj,FI=V0,BI=Uj,UI=_m,$I=zj,zI=Vj,qI=Wj,VI=Kj,HI=Yj,WI=Jj,GI=Qj,KI=eN,Sm="DropdownMenu",[YI]=gl(Sm,[Rj]),ei=Rj(),[JI,rN]=YI(Sm),nN=n=>{const{__scopeDropdownMenu:e,children:t,dir:s,open:i,defaultOpen:o,onOpenChange:c,modal:u=!0}=n,d=ei(e),h=C.useRef(null),[p,g]=cu({prop:i,defaultProp:o??!1,onChange:c,caller:Sm});return r.jsx(JI,{scope:e,triggerId:Ba(),triggerRef:h,contentId:Ba(),open:p,onOpenChange:g,onOpenToggle:C.useCallback(()=>g(w=>!w),[g]),modal:u,children:r.jsx(RI,{...d,open:p,onOpenChange:g,dir:s,modal:u,children:t})})};nN.displayName=Sm;var sN="DropdownMenuTrigger",iN=C.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,disabled:s=!1,...i}=n,o=rN(sN,t),c=ei(t);return r.jsx(OI,{asChild:!0,...c,children:r.jsx(fr.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":s?"":void 0,disabled:s,...i,ref:ml(e,o.triggerRef),onPointerDown:jt(n.onPointerDown,u=>{!s&&u.button===0&&u.ctrlKey===!1&&(o.onOpenToggle(),o.open||u.preventDefault())}),onKeyDown:jt(n.onKeyDown,u=>{s||(["Enter"," "].includes(u.key)&&o.onOpenToggle(),u.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(u.key)&&u.preventDefault())})})})});iN.displayName=sN;var XI="DropdownMenuPortal",aN=n=>{const{__scopeDropdownMenu:e,...t}=n,s=ei(e);return r.jsx(DI,{...s,...t})};aN.displayName=XI;var oN="DropdownMenuContent",lN=C.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...s}=n,i=rN(oN,t),o=ei(t),c=C.useRef(!1);return r.jsx(MI,{id:i.contentId,"aria-labelledby":i.triggerId,...o,...s,ref:e,onCloseAutoFocus:jt(n.onCloseAutoFocus,u=>{c.current||i.triggerRef.current?.focus(),c.current=!1,u.preventDefault()}),onInteractOutside:jt(n.onInteractOutside,u=>{const d=u.detail.originalEvent,h=d.button===0&&d.ctrlKey===!0,p=d.button===2||h;(!i.modal||p)&&(c.current=!0)}),style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});lN.displayName=oN;var QI="DropdownMenuGroup",ZI=C.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...s}=n,i=ei(t);return r.jsx(FI,{...i,...s,ref:e})});ZI.displayName=QI;var eR="DropdownMenuLabel",tR=C.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...s}=n,i=ei(t);return r.jsx(BI,{...i,...s,ref:e})});tR.displayName=eR;var rR="DropdownMenuItem",cN=C.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...s}=n,i=ei(t);return r.jsx(UI,{...i,...s,ref:e})});cN.displayName=rR;var nR="DropdownMenuCheckboxItem",sR=C.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...s}=n,i=ei(t);return r.jsx($I,{...i,...s,ref:e})});sR.displayName=nR;var iR="DropdownMenuRadioGroup",aR=C.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...s}=n,i=ei(t);return r.jsx(zI,{...i,...s,ref:e})});aR.displayName=iR;var oR="DropdownMenuRadioItem",lR=C.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...s}=n,i=ei(t);return r.jsx(qI,{...i,...s,ref:e})});lR.displayName=oR;var cR="DropdownMenuItemIndicator",uR=C.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...s}=n,i=ei(t);return r.jsx(VI,{...i,...s,ref:e})});uR.displayName=cR;var dR="DropdownMenuSeparator",hR=C.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...s}=n,i=ei(t);return r.jsx(HI,{...i,...s,ref:e})});hR.displayName=dR;var fR="DropdownMenuArrow",pR=C.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...s}=n,i=ei(t);return r.jsx(WI,{...i,...s,ref:e})});pR.displayName=fR;var mR="DropdownMenuSubTrigger",gR=C.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...s}=n,i=ei(t);return r.jsx(GI,{...i,...s,ref:e})});gR.displayName=mR;var xR="DropdownMenuSubContent",vR=C.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...s}=n,i=ei(t);return r.jsx(KI,{...i,...s,ref:e,style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});vR.displayName=xR;var yR=nN,wR=iN,bR=aN,jR=lN,NR=cN;function _R({...n}){return r.jsx(yR,{"data-slot":"dropdown-menu",...n})}function SR({...n}){return r.jsx(wR,{"data-slot":"dropdown-menu-trigger",...n})}function kR({className:n,sideOffset:e=4,...t}){return r.jsx(bR,{children:r.jsx(jR,{"data-slot":"dropdown-menu-content",sideOffset:e,className:Nt("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",n),...t})})}function ip({className:n,inset:e,variant:t="default",...s}){return r.jsx(NR,{"data-slot":"dropdown-menu-item","data-inset":e,"data-variant":t,className:Nt("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",n),...s})}function CR(){const[n,e]=C.useState([{id:"1",name:"John Doe",email:"john@example.com",role:"Admin",status:"Active",lastLogin:"2 hours ago"},{id:"2",name:"Jane Smith",email:"jane@example.com",role:"Manager",status:"Active",lastLogin:"1 day ago"},{id:"3",name:"Mike Johnson",email:"mike@example.com",role:"User",status:"Inactive",lastLogin:"1 week ago"}]),[t,s]=C.useState({name:"",email:"",role:"user"}),[i,o]=C.useState(!1),c=()=>{if(!t.name||!t.email){Le.error("Please fill in all fields");return}const h={id:Date.now().toString(),name:t.name,email:t.email,role:t.role.charAt(0).toUpperCase()+t.role.slice(1),status:"Pending",lastLogin:"Never"};e([...n,h]),s({name:"",email:"",role:"user"}),o(!1),Le.success(`Invitation sent to ${h.email}`)},u=h=>{e(n.filter(p=>p.id!==h)),Le.success("User removed successfully")},d=(h,p)=>{e(n.map(g=>g.id===h?{...g,role:p}:g)),Le.success("User role updated")};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs(Fe,{children:[r.jsx(qe,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs(He,{className:"flex items-center gap-2",children:[r.jsx(vi,{className:"w-5 h-5"}),"Team Members"]}),r.jsx(ur,{children:"Manage users and their permissions"})]}),r.jsxs(fl,{open:i,onOpenChange:o,children:[r.jsx(vc,{asChild:!0,children:r.jsxs(Ae,{children:[r.jsx(Ew,{className:"w-4 h-4 mr-2"}),"Invite User"]})}),r.jsxs(bo,{children:[r.jsxs(pl,{children:[r.jsx(jo,{children:"Invite New User"}),r.jsx(mu,{children:"Send an invitation to add a new team member"})]}),r.jsxs("div",{className:"space-y-4 py-4",children:[r.jsxs("div",{children:[r.jsx(Re,{htmlFor:"userName",children:"Full Name"}),r.jsx(Ve,{id:"userName",value:t.name,onChange:h=>s({...t,name:h.target.value}),placeholder:"John Doe"})]}),r.jsxs("div",{children:[r.jsx(Re,{htmlFor:"userEmail",children:"Email Address"}),r.jsx(Ve,{id:"userEmail",type:"email",value:t.email,onChange:h=>s({...t,email:h.target.value}),placeholder:"john@example.com"})]}),r.jsxs("div",{children:[r.jsx(Re,{htmlFor:"userRole",children:"Role"}),r.jsxs(wr,{value:t.role,onValueChange:h=>s({...t,role:h}),children:[r.jsx(jr,{id:"userRole",children:r.jsx(br,{})}),r.jsxs(Nr,{children:[r.jsx(Te,{value:"admin",children:"Admin"}),r.jsx(Te,{value:"manager",children:"Manager"}),r.jsx(Te,{value:"accountant",children:"Accountant"}),r.jsx(Te,{value:"user",children:"User"})]})]})]}),r.jsxs(Ae,{onClick:c,className:"w-full",children:[r.jsx(n0,{className:"w-4 h-4 mr-2"}),"Send Invitation"]})]})]})]})]})}),r.jsx(Ue,{children:r.jsx("div",{className:"space-y-3",children:n.map(h=>r.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-full bg-muted flex items-center justify-center",children:r.jsx(vi,{className:"w-5 h-5 text-muted-foreground"})}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium",children:h.name}),r.jsx("p",{className:"text-sm text-muted-foreground",children:h.email}),r.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[r.jsx("span",{className:"text-xs px-2 py-0.5 bg-muted rounded",children:h.role}),r.jsx("span",{className:`text-xs px-2 py-0.5 rounded ${h.status==="Active"?"bg-green-100 text-green-800":h.status==="Pending"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:h.status}),r.jsxs("span",{className:"text-xs text-muted-foreground",children:["Last login: ",h.lastLogin]})]})]})]}),r.jsxs(_R,{children:[r.jsx(SR,{asChild:!0,children:r.jsx(Ae,{variant:"ghost",size:"sm",children:r.jsx(MS,{className:"w-4 h-4"})})}),r.jsxs(kR,{align:"end",children:[r.jsx(ip,{onSelect:()=>d(h.id,"Admin"),children:"Make Admin"}),r.jsx(ip,{onSelect:()=>d(h.id,"Manager"),children:"Make Manager"}),r.jsx(ip,{onSelect:()=>d(h.id,"User"),children:"Make User"}),r.jsx(ip,{onSelect:()=>u(h.id),className:"text-red-600",children:"Remove User"})]})]})]},h.id))})})]}),r.jsxs(Fe,{children:[r.jsxs(qe,{children:[r.jsxs(He,{className:"flex items-center gap-2",children:[r.jsx(Ih,{className:"w-5 h-5"}),"Role Permissions"]}),r.jsx(ur,{children:"Define what each role can access and modify"})]}),r.jsx(Ue,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-5 gap-4 p-3 border-b font-medium",children:[r.jsx("div",{children:"Permission"}),r.jsx("div",{className:"text-center",children:"Admin"}),r.jsx("div",{className:"text-center",children:"Manager"}),r.jsx("div",{className:"text-center",children:"Accountant"}),r.jsx("div",{className:"text-center",children:"User"})]}),[{name:"View Dashboard",admin:!0,manager:!0,accountant:!0,user:!0},{name:"Create Invoices",admin:!0,manager:!0,accountant:!0,user:!1},{name:"Delete Invoices",admin:!0,manager:!0,accountant:!1,user:!1},{name:"Manage Users",admin:!0,manager:!1,accountant:!1,user:!1},{name:"View Reports",admin:!0,manager:!0,accountant:!0,user:!0},{name:"Manage Settings",admin:!0,manager:!1,accountant:!1,user:!1},{name:"Process Payments",admin:!0,manager:!0,accountant:!0,user:!1}].map((h,p)=>r.jsxs("div",{className:"grid grid-cols-5 gap-4 p-3 items-center border-b",children:[r.jsx("div",{className:"text-sm",children:h.name}),r.jsx("div",{className:"text-center",children:r.jsx("input",{type:"checkbox",checked:h.admin,disabled:!0,className:"w-4 h-4"})}),r.jsx("div",{className:"text-center",children:r.jsx("input",{type:"checkbox",checked:h.manager,disabled:!0,className:"w-4 h-4"})}),r.jsx("div",{className:"text-center",children:r.jsx("input",{type:"checkbox",checked:h.accountant,disabled:!0,className:"w-4 h-4"})}),r.jsx("div",{className:"text-center",children:r.jsx("input",{type:"checkbox",checked:h.user,disabled:!0,className:"w-4 h-4"})})]},p))]})})]})]})}function AR(){const[n,e]=C.useState(!1),[t,s]=C.useState("18"),[i,o]=C.useState([{id:"1",name:"Standard VAT",rate:18,type:"VAT"},{id:"2",name:"Reduced VAT",rate:7.5,type:"VAT"},{id:"3",name:"Zero Rated",rate:0,type:"VAT"}]),[c,u]=C.useState({name:"",rate:"",type:"VAT"}),d=()=>{if(!c.name||!c.rate){Le.error("Please fill in all fields");return}const g={id:Date.now().toString(),name:c.name,rate:parseFloat(c.rate),type:c.type};o([...i,g]),u({name:"",rate:"",type:"VAT"}),Le.success("Tax rate added")},h=g=>{o(i.filter(w=>w.id!==g)),Le.success("Tax rate deleted")},p=()=>{Le.success("Tax configuration saved successfully")};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs(Fe,{children:[r.jsxs(qe,{children:[r.jsxs(He,{className:"flex items-center gap-2",children:[r.jsx(ac,{className:"w-5 h-5"}),"Default Tax Settings"]}),r.jsx(ur,{children:"Configure your default tax rates and compliance settings"})]}),r.jsxs(Ue,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(Re,{htmlFor:"defaultTaxRate",children:"Default Tax Rate (%)"}),r.jsx(Ve,{id:"defaultTaxRate",type:"number",value:t,onChange:g=>s(g.target.value),placeholder:"18"})]}),r.jsxs("div",{children:[r.jsx(Re,{htmlFor:"taxSystem",children:"Tax System"}),r.jsxs(wr,{defaultValue:"vat",children:[r.jsx(jr,{id:"taxSystem",children:r.jsx(br,{})}),r.jsxs(Nr,{children:[r.jsx(Te,{value:"vat",children:"VAT (Value Added Tax)"}),r.jsx(Te,{value:"gst",children:"GST (Goods & Services Tax)"}),r.jsx(Te,{value:"sales",children:"Sales Tax"}),r.jsx(Te,{value:"none",children:"No Tax"})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(Re,{htmlFor:"taxId",children:"Tax ID / VAT Number"}),r.jsx(Ve,{id:"taxId",placeholder:"Enter your tax identification number"})]}),r.jsxs("div",{children:[r.jsx(Re,{htmlFor:"taxPeriod",children:"Tax Filing Period"}),r.jsxs(wr,{defaultValue:"monthly",children:[r.jsx(jr,{id:"taxPeriod",children:r.jsx(br,{})}),r.jsxs(Nr,{children:[r.jsx(Te,{value:"monthly",children:"Monthly"}),r.jsx(Te,{value:"quarterly",children:"Quarterly"}),r.jsx(Te,{value:"annually",children:"Annually"})]})]})]})]})]})]}),r.jsxs(Fe,{children:[r.jsxs(qe,{children:[r.jsx(He,{children:"Tax Rates"}),r.jsx(ur,{children:"Manage different tax rates for your products and services"})]}),r.jsxs(Ue,{className:"space-y-4",children:[r.jsx("div",{className:"space-y-2",children:i.map(g=>r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"font-medium",children:g.name}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:[g.type," - ",g.rate,"%"]})]}),r.jsx(Ae,{variant:"ghost",size:"sm",onClick:()=>h(g.id),children:r.jsx(yu,{className:"w-4 h-4"})})]},g.id))}),r.jsxs("div",{className:"border-t pt-4",children:[r.jsx("h4",{className:"font-medium mb-3",children:"Add New Tax Rate"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:[r.jsx(Ve,{placeholder:"Rate Name",value:c.name,onChange:g=>u({...c,name:g.target.value})}),r.jsx(Ve,{type:"number",placeholder:"Rate %",value:c.rate,onChange:g=>u({...c,rate:g.target.value})}),r.jsxs(wr,{value:c.type,onValueChange:g=>u({...c,type:g}),children:[r.jsx(jr,{children:r.jsx(br,{})}),r.jsxs(Nr,{children:[r.jsx(Te,{value:"VAT",children:"VAT"}),r.jsx(Te,{value:"GST",children:"GST"}),r.jsx(Te,{value:"Sales Tax",children:"Sales Tax"}),r.jsx(Te,{value:"Other",children:"Other"})]})]}),r.jsxs(Ae,{onClick:d,children:[r.jsx(la,{className:"w-4 h-4 mr-2"}),"Add"]})]})]})]})]}),r.jsxs(Fe,{children:[r.jsxs(qe,{children:[r.jsx(He,{children:"Tax Compliance"}),r.jsx(ur,{children:"Manage tax compliance and reporting settings"})]}),r.jsxs(Ue,{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium",children:"Automated Tax Calculations"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Automatically calculate taxes on all transactions"})]}),r.jsx("input",{type:"checkbox",defaultChecked:!0,className:"w-4 h-4"})]}),r.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium",children:"Tax Inclusive Pricing"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Show prices with tax included"})]}),r.jsx("input",{type:"checkbox",className:"w-4 h-4"})]}),r.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium",children:"Tax Report Reminders"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Get notified before tax filing deadlines"})]}),r.jsx("input",{type:"checkbox",defaultChecked:!0,className:"w-4 h-4"})]})]})]}),r.jsx("div",{className:"flex justify-end",children:r.jsx(Ae,{onClick:p,children:"Save Tax Configuration"})})]})}function ER(){const[n,e]=C.useState(""),[t,s]=C.useState([{id:"openai",name:"OpenAI API",description:"Enable AI-powered features including OCR scanner and AI chatbot",icon:"",connected:!1,requiresKey:!0},{id:"stripe",name:"Stripe",description:"Accept payments online with Stripe",icon:"",connected:!1,requiresKey:!0},{id:"paystack",name:"Paystack",description:"Payment gateway for African businesses",icon:"",connected:!1,requiresKey:!0},{id:"quickbooks",name:"QuickBooks",description:"Sync your accounting data with QuickBooks",icon:"",connected:!1,requiresKey:!0}]),i=c=>{s(t.map(u=>u.id===c?{...u,connected:!u.connected}:u)),Le.success(t.find(u=>u.id===c)?.connected?"Integration disabled":"Integration enabled")},o=()=>{if(!n){Le.error("Please enter an API key");return}Le.success("API key saved successfully"),e("")};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs(Fe,{children:[r.jsxs(qe,{children:[r.jsxs(He,{className:"flex items-center gap-2",children:[r.jsx(XS,{className:"w-5 h-5"}),"OpenAI API Configuration"]}),r.jsx(ur,{children:"Configure your OpenAI API key to enable AI features (OCR Scanner & AI Chatbot)"})]}),r.jsxs(Ue,{className:"space-y-4",children:[r.jsxs(oc,{children:[r.jsx(ua,{className:"h-4 w-4"}),r.jsxs(lc,{children:["AI features are currently available only for Premium plan subscribers. Get your API key from"," ",r.jsx("a",{href:"https://platform.openai.com/api-keys",target:"_blank",rel:"noopener noreferrer",className:"underline",children:"OpenAI Platform"})]})]}),r.jsxs("div",{children:[r.jsx(Re,{htmlFor:"openaiKey",children:"OpenAI API Key"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(Ve,{id:"openaiKey",type:"password",value:n,onChange:c=>e(c.target.value),placeholder:"sk-..."}),r.jsx(Ae,{onClick:o,children:"Save"})]}),r.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Your API key is encrypted and stored securely"})]})]})]}),r.jsxs(Fe,{children:[r.jsxs(qe,{children:[r.jsxs(He,{className:"flex items-center gap-2",children:[r.jsx(S3,{className:"w-5 h-5"}),"Available Integrations"]}),r.jsx(ur,{children:"Connect third-party services to extend EaziBook functionality"})]}),r.jsx(Ue,{className:"space-y-3",children:t.map(c=>r.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"text-2xl",children:c.icon}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("h3",{className:"font-medium",children:c.name}),c.connected&&r.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 text-xs bg-green-100 text-green-800 rounded",children:[r.jsx(Rt,{className:"w-3 h-3"}),"Connected"]})]}),r.jsx("p",{className:"text-sm text-muted-foreground",children:c.description})]})]}),r.jsx(Ae,{variant:c.connected?"outline":"default",size:"sm",onClick:()=>i(c.id),children:c.connected?"Disconnect":"Connect"})]},c.id))})]}),r.jsxs(Fe,{children:[r.jsxs(qe,{children:[r.jsx(He,{children:"Webhook Configuration"}),r.jsx(ur,{children:"Set up webhooks for real-time notifications"})]}),r.jsxs(Ue,{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(Re,{htmlFor:"webhookUrl",children:"Webhook URL"}),r.jsx(Ve,{id:"webhookUrl",type:"url",placeholder:"https://your-domain.com/webhook"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Re,{children:"Events to Subscribe"}),r.jsx("div",{className:"space-y-2",children:["Invoice Created","Payment Received","Bill Created","Transaction Posted"].map(c=>r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",className:"w-4 h-4"}),r.jsx("span",{className:"text-sm",children:c})]},c))})]}),r.jsx(Ae,{variant:"outline",children:"Test Webhook"})]})]})]})}function PR(){const[n,e]=C.useState(!1),[t,s]=C.useState("weekly"),i=async()=>{e(!0);try{await new Promise(c=>setTimeout(c,2e3)),Le.success("Backup downloaded successfully")}catch{Le.error("Failed to download backup")}finally{e(!1)}},o=[{date:"2025-01-30 10:30 AM",location:"Lagos, Nigeria",device:"Chrome on Windows",status:"success"},{date:"2025-01-29 02:15 PM",location:"Lagos, Nigeria",device:"Chrome on Windows",status:"success"},{date:"2025-01-28 09:45 AM",location:"Lagos, Nigeria",device:"Safari on iPhone",status:"success"},{date:"2025-01-27 04:20 PM",location:"Unknown",device:"Chrome on Android",status:"failed"}];return r.jsxs("div",{className:"space-y-6",children:[r.jsxs(Fe,{children:[r.jsxs(qe,{children:[r.jsxs(He,{className:"flex items-center gap-2",children:[r.jsx(Un,{className:"w-5 h-5"}),"Data Backup"]}),r.jsx(ur,{children:"Backup your business data regularly to prevent data loss"})]}),r.jsxs(Ue,{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(Re,{htmlFor:"backupFrequency",children:"Automatic Backup Frequency"}),r.jsxs(wr,{value:t,onValueChange:s,children:[r.jsx(jr,{id:"backupFrequency",children:r.jsx(br,{})}),r.jsxs(Nr,{children:[r.jsx(Te,{value:"daily",children:"Daily"}),r.jsx(Te,{value:"weekly",children:"Weekly"}),r.jsx(Te,{value:"monthly",children:"Monthly"}),r.jsx(Te,{value:"never",children:"Never (Manual Only)"})]})]})]}),r.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg bg-muted/50",children:[r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(Cp,{className:"w-5 h-5 mt-0.5 text-muted-foreground"}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium",children:"Last Backup"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"January 28, 2025 at 11:30 PM"})]})]}),r.jsx(Ae,{onClick:i,disabled:n,children:n?r.jsxs(r.Fragment,{children:[r.jsx(an,{className:"w-4 h-4 mr-2 animate-spin"}),"Downloading..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Un,{className:"w-4 h-4 mr-2"}),"Download"]})})]}),r.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium",children:"Create Manual Backup"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Download a backup of all your business data"})]}),r.jsxs(Ae,{variant:"outline",onClick:i,disabled:n,children:[r.jsx(Un,{className:"w-4 h-4 mr-2"}),"Backup Now"]})]})]})]}),r.jsxs(Fe,{children:[r.jsxs(qe,{children:[r.jsxs(He,{className:"flex items-center gap-2",children:[r.jsx(Ih,{className:"w-5 h-5"}),"Security Settings"]}),r.jsx(ur,{children:"Manage your account security and access controls"})]}),r.jsxs(Ue,{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium",children:"Two-Factor Authentication"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Add an extra layer of security to your account"})]}),r.jsx(Ae,{variant:"outline",disabled:!0,children:"Coming Soon"})]}),r.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium",children:"Session Timeout"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Automatically log out after inactivity"})]}),r.jsxs(wr,{defaultValue:"30",children:[r.jsx(jr,{className:"w-32",children:r.jsx(br,{})}),r.jsxs(Nr,{children:[r.jsx(Te,{value:"15",children:"15 minutes"}),r.jsx(Te,{value:"30",children:"30 minutes"}),r.jsx(Te,{value:"60",children:"1 hour"}),r.jsx(Te,{value:"never",children:"Never"})]})]})]}),r.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium",children:"Require Password for Sensitive Actions"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Extra confirmation for deletions and data exports"})]}),r.jsx("input",{type:"checkbox",defaultChecked:!0,className:"w-4 h-4"})]})]})]}),r.jsxs(Fe,{children:[r.jsxs(qe,{children:[r.jsx(He,{children:"Login History"}),r.jsx(ur,{children:"Recent login activity on your account"})]}),r.jsx(Ue,{children:r.jsx("div",{className:"space-y-3",children:o.map((c,u)=>r.jsxs("div",{className:"flex items-start justify-between p-3 border rounded-lg",children:[r.jsxs("div",{className:"flex items-start gap-3",children:[c.status==="success"?r.jsx(Ed,{className:"w-5 h-5 text-green-600 mt-0.5"}):r.jsx(ua,{className:"w-5 h-5 text-red-600 mt-0.5"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium",children:c.date}),r.jsx("p",{className:"text-sm text-muted-foreground",children:c.location}),r.jsx("p",{className:"text-sm text-muted-foreground",children:c.device})]})]}),c.status==="failed"&&r.jsx("span",{className:"text-xs px-2 py-1 bg-red-100 text-red-800 rounded",children:"Failed"})]},u))})})]}),r.jsxs(Fe,{children:[r.jsxs(qe,{children:[r.jsx(He,{children:"Security Audit Log"}),r.jsx(ur,{children:"Track important security events and changes"})]}),r.jsx(Ue,{children:r.jsx("div",{className:"space-y-3",children:[{action:"Password changed",time:"2 days ago",user:"You"},{action:"Company settings updated",time:"5 days ago",user:"You"},{action:"New user invited",time:"1 week ago",user:"You"},{action:"Subscription upgraded",time:"2 weeks ago",user:"You"}].map((c,u)=>r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium",children:c.action}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:["by ",c.user]})]}),r.jsx("span",{className:"text-sm text-muted-foreground",children:c.time})]},u))})})]})]})}function TR(){const[n,e]=C.useState([{id:"invoices",title:"Invoice Updates",description:"New invoices, payments received, and overdue notices",email:!0,push:!0,sms:!1},{id:"payments",title:"Payment Notifications",description:"Payment confirmations and failed transactions",email:!0,push:!0,sms:!0},{id:"bills",title:"Bill Reminders",description:"Upcoming bills and payment due dates",email:!0,push:!1,sms:!1},{id:"inventory",title:"Inventory Alerts",description:"Low stock warnings and reorder notifications",email:!0,push:!0,sms:!1},{id:"tax",title:"Tax & Compliance",description:"Tax filing deadlines and compliance reminders",email:!0,push:!0,sms:!1},{id:"reports",title:"Report Generation",description:"When reports are ready to view or download",email:!0,push:!1,sms:!1},{id:"system",title:"System Updates",description:"New features, maintenance, and important announcements",email:!0,push:!0,sms:!1}]),[t,s]=C.useState("daily"),i=(c,u)=>{e(n.map(d=>d.id===c?{...d,[u]:!d[u]}:d))},o=()=>{Le.success("Notification preferences saved successfully")};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs(Fe,{children:[r.jsxs(qe,{children:[r.jsxs(He,{className:"flex items-center gap-2",children:[r.jsx(n0,{className:"w-5 h-5"}),"Email Notifications"]}),r.jsx(ur,{children:"Choose which emails you want to receive"})]}),r.jsxs(Ue,{className:"space-y-4",children:[r.jsx("div",{children:r.jsxs("label",{className:"flex items-center gap-2 mb-4",children:[r.jsx("input",{type:"checkbox",defaultChecked:!0,className:"w-4 h-4"}),r.jsx("span",{className:"font-medium",children:"Enable email notifications"})]})}),r.jsx("div",{className:"space-y-3",children:n.map(c=>r.jsxs("div",{className:"flex items-start justify-between p-3 border rounded-lg",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"font-medium",children:c.title}),r.jsx("p",{className:"text-sm text-muted-foreground",children:c.description})]}),r.jsx("div",{className:"flex gap-4",children:r.jsxs("label",{className:"flex items-center gap-1",children:[r.jsx("input",{type:"checkbox",checked:c.email,onChange:()=>i(c.id,"email"),className:"w-4 h-4"}),r.jsx("span",{className:"text-sm",children:"Email"})]})})]},c.id))})]})]}),r.jsxs(Fe,{children:[r.jsxs(qe,{children:[r.jsxs(He,{className:"flex items-center gap-2",children:[r.jsx(lS,{className:"w-5 h-5"}),"Push Notifications"]}),r.jsx(ur,{children:"Get instant notifications in your browser"})]}),r.jsxs(Ue,{className:"space-y-4",children:[r.jsx("div",{children:r.jsxs("label",{className:"flex items-center gap-2 mb-4",children:[r.jsx("input",{type:"checkbox",defaultChecked:!0,className:"w-4 h-4"}),r.jsx("span",{className:"font-medium",children:"Enable push notifications"})]})}),r.jsx("div",{className:"space-y-3",children:n.map(c=>r.jsxs("div",{className:"flex items-start justify-between p-3 border rounded-lg",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"font-medium",children:c.title}),r.jsx("p",{className:"text-sm text-muted-foreground",children:c.description})]}),r.jsx("div",{className:"flex gap-4",children:r.jsxs("label",{className:"flex items-center gap-1",children:[r.jsx("input",{type:"checkbox",checked:c.push,onChange:()=>i(c.id,"push"),className:"w-4 h-4"}),r.jsx("span",{className:"text-sm",children:"Push"})]})})]},c.id))})]})]}),r.jsxs(Fe,{children:[r.jsxs(qe,{children:[r.jsxs(He,{className:"flex items-center gap-2",children:[r.jsx(f3,{className:"w-5 h-5"}),"SMS Notifications"]}),r.jsx(ur,{children:"Receive important alerts via text message (Premium only)"})]}),r.jsx(Ue,{className:"space-y-4",children:r.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg bg-muted/50",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium",children:"SMS notifications are coming soon"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"This feature will be available for Premium subscribers"})]}),r.jsx(Ae,{variant:"outline",disabled:!0,children:"Coming Soon"})]})})]}),r.jsxs(Fe,{children:[r.jsxs(qe,{children:[r.jsx(He,{children:"Email Digest"}),r.jsx(ur,{children:"Receive a summary of your activities"})]}),r.jsxs(Ue,{className:"space-y-4",children:[r.jsx("div",{children:r.jsxs("label",{className:"flex items-center gap-2 mb-4",children:[r.jsx("input",{type:"checkbox",defaultChecked:!0,className:"w-4 h-4"}),r.jsx("span",{className:"font-medium",children:"Send me email digests"})]})}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2",children:"Digest Frequency"}),r.jsxs(wr,{value:t,onValueChange:s,children:[r.jsx(jr,{children:r.jsx(br,{})}),r.jsxs(Nr,{children:[r.jsx(Te,{value:"daily",children:"Daily Summary"}),r.jsx(Te,{value:"weekly",children:"Weekly Summary"}),r.jsx(Te,{value:"monthly",children:"Monthly Summary"}),r.jsx(Te,{value:"never",children:"Never"})]})]})]}),r.jsxs("div",{className:"space-y-2 pt-2",children:[r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",defaultChecked:!0,className:"w-4 h-4"}),r.jsx("span",{className:"text-sm",children:"Include financial summary"})]}),r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",defaultChecked:!0,className:"w-4 h-4"}),r.jsx("span",{className:"text-sm",children:"Include top customers & products"})]}),r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",defaultChecked:!0,className:"w-4 h-4"}),r.jsx("span",{className:"text-sm",children:"Include upcoming deadlines"})]})]})]})]}),r.jsx("div",{className:"flex justify-end",children:r.jsx(Ae,{onClick:o,children:"Save Notification Preferences"})})]})}function LR(){return r.jsxs("div",{className:"p-4 md:p-6",children:[r.jsxs("div",{className:"mb-4 md:mb-6",children:[r.jsx("h1",{className:"text-2xl md:text-3xl",children:"Settings"}),r.jsx("p",{className:"text-muted-foreground text-sm md:text-base",children:"Configure your EaziBook system settings"})]}),r.jsxs(pc,{defaultValue:"profile",className:"w-full",children:[r.jsxs(mc,{className:"mb-4 md:mb-6 flex-wrap h-auto gap-1",children:[r.jsx(Ar,{value:"profile",className:"text-xs md:text-sm",children:"Profile & Account"}),r.jsx(Ar,{value:"company",className:"text-xs md:text-sm",children:"Company Settings"}),r.jsx(Ar,{value:"users",className:"text-xs md:text-sm",children:"User Management"}),r.jsx(Ar,{value:"tax",className:"text-xs md:text-sm",children:"Tax Configuration"}),r.jsx(Ar,{value:"integrations",className:"text-xs md:text-sm",children:"Integrations"}),r.jsx(Ar,{value:"backup",className:"text-xs md:text-sm",children:"Backup & Security"}),r.jsx(Ar,{value:"notifications",className:"text-xs md:text-sm",children:"Notifications"}),r.jsx(Ar,{value:"subscription",className:"text-xs md:text-sm",children:"Subscription"}),r.jsx(Ar,{value:"ai",className:"text-xs md:text-sm",children:"AI Features"})]}),r.jsx(Er,{value:"profile",children:r.jsx(ZL,{})}),r.jsx(Er,{value:"company",children:r.jsx(BL,{})}),r.jsx(Er,{value:"users",children:r.jsx(CR,{})}),r.jsx(Er,{value:"tax",children:r.jsx(AR,{})}),r.jsx(Er,{value:"integrations",children:r.jsx(ER,{})}),r.jsx(Er,{value:"backup",children:r.jsx(PR,{})}),r.jsx(Er,{value:"notifications",children:r.jsx(TR,{})}),r.jsx(Er,{value:"subscription",children:r.jsx(QL,{})}),r.jsx(Er,{value:"ai",children:r.jsx("div",{className:"p-6 border-2 rounded-lg bg-muted",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-primary text-primary-foreground rounded-lg flex items-center justify-center flex-shrink-0",children:r.jsx("span",{className:"font-bold",children:"AI"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-medium mb-2",children:"AI-Powered Features"}),r.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"EaziBook is enhanced with artificial intelligence capabilities powered by OpenAI:"}),r.jsxs("ul",{className:"text-sm space-y-2 text-muted-foreground",children:[r.jsxs("li",{children:[" ",r.jsx("strong",{children:"AI Financial Consultant:"})," Chat with an AI assistant for business advice (chat button in bottom-right)"]}),r.jsxs("li",{children:[" ",r.jsx("strong",{children:"OCR Scanner:"})," Automatically extract data from invoices and receipts using computer vision"]}),r.jsxs("li",{children:[" ",r.jsx("strong",{children:"Smart Categorization:"})," AI-powered expense and transaction categorization"]}),r.jsxs("li",{children:[" ",r.jsx("strong",{children:"Business Insights:"})," Automated analytics and recommendations"]})]}),r.jsx("div",{className:"mt-3 p-3 bg-background rounded border",children:r.jsxs("p",{className:"text-xs text-muted-foreground",children:[r.jsx("strong",{children:"Note:"})," AI features require an OpenAI API key to be configured in the Integrations tab. The system will display error messages if the key is not configured or invalid."]})})]})]})})})]})]})}function IR(){return r.jsx(Fe,{className:"p-6 border-purple-200 bg-gradient-to-br from-purple-50 to-blue-50",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-purple-600 to-blue-600 rounded-lg flex items-center justify-center",children:r.jsx(jw,{className:"w-4 h-4 text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium",children:"AI Insights"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Powered by OpenAI"})]})]}),r.jsx(qt,{className:"bg-purple-600",children:"AI"})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex gap-3 p-3 bg-white rounded-lg border",children:[r.jsx(Td,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium",children:"Revenue Trend"}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Your revenue is up 15% compared to last month. Consider increasing inventory for high-demand items."})]})]}),r.jsxs("div",{className:"flex gap-3 p-3 bg-white rounded-lg border",children:[r.jsx(Aw,{className:"w-5 h-5 text-orange-600 flex-shrink-0 mt-0.5"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium",children:"Payment Reminder"}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"5 invoices are pending payment for more than 30 days. Consider sending payment reminders."})]})]}),r.jsxs("div",{className:"flex gap-3 p-3 bg-white rounded-lg border",children:[r.jsx(G3,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium",children:"Cost Optimization"}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Office supplies expenses increased by 25%. Review vendor pricing for potential savings."})]})]})]})]})})}async function Nu(){try{const{data:n,error:e}=await Ge.from("invoices").select("*, customers(name, email)").order("invoice_date",{ascending:!1});if(e)throw e;return n||[]}catch(n){return console.error("Error fetching invoices:",n),[]}}async function L1(n){let e=0;const t=5;for(;e<t;){const s=new Date().getFullYear(),i=String(new Date().getMonth()+1).padStart(2,"0"),o=Date.now().toString().slice(-6),c=Math.floor(Math.random()*100),u=`INV-${s}${i}-${o}${c}`,{data:d}=await Ge.from("invoices").select("id").eq("invoice_number",u).maybeSingle();if(!d)return u;e++}return`INV-${new Date().getFullYear()}-${crypto.randomUUID().substring(0,8)}`}async function RR(n,e){try{n.invoice_number||(n.invoice_number=await L1(n.company_id)),n.balance_due=n.total-(n.amount_paid||0);const{data:t,error:s}=await Ge.from("invoices").insert([n]).select().single();if(s){if(s.code==="23505"&&s.message.includes("invoice_number")){n.invoice_number=await L1(n.company_id);const{data:c,error:u}=await Ge.from("invoices").insert([n]).select().single();if(u)throw u;const d=e.map(p=>({...p,invoice_id:c.id})),{error:h}=await Ge.from("invoice_items").insert(d);if(h)throw h;return c}throw s}const i=e.map(c=>({...c,invoice_id:t.id})),{error:o}=await Ge.from("invoice_items").insert(i);if(o)throw o;return t}catch(t){return console.error("Error creating invoice:",t),null}}async function uN(){try{const n=await Nu();return{total:n.length,draft:n.filter(t=>t.status==="draft").length,sent:n.filter(t=>t.status==="sent").length,paid:n.filter(t=>t.status==="paid").length,overdue:n.filter(t=>t.status==="overdue").length,totalAmount:n.reduce((t,s)=>t+s.total,0),totalPaid:n.reduce((t,s)=>t+(s.amount_paid||0),0),totalOutstanding:n.reduce((t,s)=>t+(s.balance_due||0),0)}}catch(n){return console.error("Error getting invoice stats:",n),{total:0,draft:0,sent:0,paid:0,overdue:0,totalAmount:0,totalPaid:0,totalOutstanding:0}}}async function rf(){try{const{data:n,error:e}=await Ge.from("customers").select("*").order("created_at",{ascending:!1});if(e)throw e;return n||[]}catch(n){return console.error("Error fetching customers:",n),[]}}async function I1(n){let e=0;const t=5;for(;e<t;){const s=Date.now(),i=Math.floor(Math.random()*1e3),o=`CUST-${s}-${i}`,{data:c}=await Ge.from("customers").select("id").eq("customer_code",o).maybeSingle();if(!c)return o;e++}return`CUST-${crypto.randomUUID().substring(0,8)}`}async function dN(n){try{n.customer_code||(n.customer_code=await I1(n.company_id));const{data:e,error:t}=await Ge.from("customers").insert([n]).select().single();if(t){if(t.code==="23505"&&t.message.includes("customer_code")){n.customer_code=await I1(n.company_id);const{data:s,error:i}=await Ge.from("customers").insert([n]).select().single();if(i)throw i;return s}throw t}return e}catch(e){return console.error("Error creating customer:",e),null}}async function OR(n,e){try{const{data:t,error:s}=await Ge.from("customers").update(e).eq("id",n).select().single();if(s)throw s;return t}catch(t){return console.error("Error updating customer:",t),null}}async function DR(n){try{const{error:e}=await Ge.from("customers").delete().eq("id",n);if(e)throw e;return!0}catch(e){return console.error("Error deleting customer:",e),!1}}async function MR(n){try{const{data:e,error:t}=await Ge.from("customers").select("*").or(`name.ilike.%${n}%,email.ilike.%${n}%,company_name.ilike.%${n}%`).order("name");if(t)throw t;return e||[]}catch(e){return console.error("Error searching customers:",e),[]}}async function FR(){try{const n=await rf();return{total:n.length,active:n.filter(t=>t.status==="active").length,inactive:n.filter(t=>t.status==="inactive").length,totalBalance:n.reduce((t,s)=>t+(s.balance||0),0)}}catch(n){return console.error("Error getting customer stats:",n),{total:0,active:0,inactive:0,totalBalance:0}}}async function hN(){const{data:{user:n}}=await Ge.auth.getUser();if(!n)throw console.error(" No authenticated user found"),new Error("Not authenticated. Please log in again.");console.log(" User authenticated:",n.email);const{data:e,error:t}=await Ge.from("profiles").select("company_id").eq("id",n.id).single();if(t)throw console.error(" Error fetching profile:",t),new Error("Profile not found. Please try logging out and logging back in, or contact support.");if(!e)throw console.error(" Profile does not exist for user:",n.email),new Error("Your profile is not set up. Please log out and log back in, or contact support.");if(!e.company_id)throw console.error(" Profile has no company_id for user:",n.email),console.error(" SOLUTION: Run /EMERGENCY_FIX.sql in Supabase SQL Editor while logged in as this user"),new Error("Your account setup is incomplete. Please log out and log back in. If this persists, contact support.");return console.log(" Company ID found:",e.company_id),e.company_id}async function Vd(){try{const{data:n,error:e}=await Ge.from("products").select("*").order("name");if(e)throw e;return n||[]}catch(n){return console.error("Error fetching products:",n),[]}}async function R1(n,e){let t=0;const s=5;for(;t<s;){const o=n==="product"?"PROD":"SERV",c=Date.now().toString().slice(-6),u=Math.floor(Math.random()*1e3),d=`${o}-${c}${u}`,{data:h}=await Ge.from("products").select("id").eq("sku",d).maybeSingle();if(!h)return d;t++}return`${n==="product"?"PROD":"SERV"}-${crypto.randomUUID().substring(0,8)}`}async function BR(n){try{if(!n.company_id){const s=await hN();if(!s)throw console.error("Error creating product: No company_id found for user"),new Error("User company not found. Please ensure your profile is set up correctly.");n.company_id=s}n.sku||(n.sku=await R1(n.type,n.company_id));const{data:e,error:t}=await Ge.from("products").insert([n]).select().single();if(t){if(console.error("Error creating product:",t),t.code==="23505"&&t.message.includes("sku")){n.sku=await R1(n.type,n.company_id);const{data:s,error:i}=await Ge.from("products").insert([n]).select().single();if(i)throw console.error("Error creating product (retry):",i),i;return s}throw t}return e}catch(e){return console.error("Error creating product:",e),null}}async function UR(n){try{const{error:e}=await Ge.from("products").delete().eq("id",n);if(e)throw e;return!0}catch(e){return console.error("Error deleting product:",e),!1}}async function $R(n){try{const{data:e,error:t}=await Ge.from("products").select("*").or(`name.ilike.%${n}%,sku.ilike.%${n}%,description.ilike.%${n}%`).order("name");if(t)throw t;return e||[]}catch(e){return console.error("Error searching products:",e),[]}}async function fN(){try{const{data:n,error:e}=await Ge.from("products").select("*").eq("type","product").order("stock_quantity");if(e)throw e;return(n||[]).filter(s=>(s.stock_quantity||0)<=(s.low_stock_threshold||0))}catch(n){return console.error("Error fetching low stock products:",n),[]}}async function zR(){try{const n=await Vd();return{total:n.length,products:n.filter(t=>t.type==="product").length,services:n.filter(t=>t.type==="service").length,active:n.filter(t=>t.status==="active").length,lowStock:n.filter(t=>t.type==="product"&&(t.stock_quantity||0)<=(t.low_stock_threshold||0)).length,totalValue:n.reduce((t,s)=>t+s.price*(s.stock_quantity||0),0)}}catch(n){return console.error("Error getting product stats:",n),{total:0,products:0,services:0,active:0,lowStock:0,totalValue:0}}}async function No(){try{const{data:n,error:e}=await Ge.from("transactions").select("*").order("transaction_date",{ascending:!1});if(e)throw e;return n||[]}catch(n){return console.error("Error fetching transactions:",n),[]}}async function qR(n,e){try{const{data:t,error:s}=await Ge.from("transactions").select("*").gte("transaction_date",n).lte("transaction_date",e).order("transaction_date",{ascending:!1});if(s)throw s;return t||[]}catch(t){return console.error("Error fetching transactions by date:",t),[]}}async function VR(n){try{const{data:e,error:t}=await Ge.from("transactions").select("*").eq("type",n).order("transaction_date",{ascending:!1});if(t)throw t;return e||[]}catch(e){return console.error("Error fetching transactions by type:",e),[]}}async function HR(n){try{if(!n.transaction_number){const s=await No(),i=new Date().getFullYear();n.transaction_number=`TXN-${i}-${String(s.length+1).padStart(5,"0")}`}const{data:e,error:t}=await Ge.from("transactions").insert([n]).select().single();if(t)throw t;return e}catch(e){return console.error("Error creating transaction:",e),null}}async function WR(n){try{const{error:e}=await Ge.from("transactions").delete().eq("id",n);if(e)throw e;return!0}catch(e){return console.error("Error deleting transaction:",e),!1}}async function G0(){try{const n=await No();return{total:n.length,income:n.filter(t=>t.type==="income"||t.type==="invoice"&&t.status==="completed").reduce((t,s)=>t+s.amount,0),expenses:n.filter(t=>t.type==="expense"||t.type==="bill").reduce((t,s)=>t+s.amount,0),pending:n.filter(t=>t.status==="pending").length,completed:n.filter(t=>t.status==="completed").length,byType:{invoice:n.filter(t=>t.type==="invoice").length,bill:n.filter(t=>t.type==="bill").length,payment:n.filter(t=>t.type==="payment").length,expense:n.filter(t=>t.type==="expense").length,income:n.filter(t=>t.type==="income").length}}}catch(n){return console.error("Error getting transaction stats:",n),{total:0,income:0,expenses:0,pending:0,completed:0,byType:{invoice:0,bill:0,payment:0,expense:0,income:0}}}}async function GR(n){try{const{data:e,error:t}=await Ge.from("transactions").select("*").or(`transaction_number.ilike.%${n}%,description.ilike.%${n}%`).order("transaction_date",{ascending:!1});if(t)throw t;return e||[]}catch(e){return console.error("Error searching transactions:",e),[]}}async function KR(){try{const[n,e,t,s]=await Promise.all([uN(),FR(),zR(),G0()]),i={total:n.totalPaid,change:"+12.5%",trend:"up"},o={total:e.total,active:e.active,change:"+8.2%",trend:"up"},c={total:t.total,lowStock:t.lowStock,change:t.lowStock>0?"-2.1%":"+0.0%",trend:t.lowStock>0?"down":"up"},u={pending:n.sent+n.draft,overdue:n.overdue,change:"+15.3%",trend:"up"};return{revenue:i,customers:o,products:c,invoices:u}}catch(n){return console.error("Error fetching dashboard stats:",n),{revenue:{total:0,change:"+0.0%",trend:"up"},customers:{total:0,active:0,change:"+0.0%",trend:"up"},products:{total:0,lowStock:0,change:"+0.0%",trend:"up"},invoices:{pending:0,overdue:0,change:"+0.0%",trend:"up"}}}}async function YR(){try{const n=[],{data:e}=await Ge.from("invoices").select("*, customers(name)").order("created_at",{ascending:!1}).limit(3);e&&e.forEach(s=>{n.push({id:s.id,type:"invoice",message:`Invoice ${s.invoice_number} created for ${s.customers?.name||"Unknown"}`,time:O1(s.created_at),status:s.status==="paid"?"success":"pending",created_at:s.created_at})});const{data:t}=await Ge.from("payments").select("*").order("created_at",{ascending:!1}).limit(2);return t&&t.forEach(s=>{n.push({id:s.id,type:"payment",message:`Payment received - ${s.currency} ${s.amount.toLocaleString()}`,time:O1(s.created_at),status:"success",created_at:s.created_at})}),n.sort((s,i)=>new Date(i.created_at).getTime()-new Date(s.created_at).getTime()),n.slice(0,5)}catch(n){return console.error("Error fetching recent activities:",n),[]}}async function JR(){try{const[n,e]=await Promise.all([uN(),G0()]);return{overdueInvoices:n.overdue,draftInvoices:n.draft,paidThisMonth:n.totalPaid,pendingPayments:n.totalOutstanding}}catch(n){return console.error("Error fetching quick stats:",n),{overdueInvoices:0,draftInvoices:0,paidThisMonth:0,pendingPayments:0}}}function O1(n){const e=new Date(n),s=Math.floor((new Date().getTime()-e.getTime())/1e3);if(s<60)return"just now";if(s<3600){const i=Math.floor(s/60);return`${i} ${i===1?"min":"mins"} ago`}else if(s<86400){const i=Math.floor(s/3600);return`${i} ${i===1?"hour":"hours"} ago`}else if(s<604800){const i=Math.floor(s/86400);return`${i} ${i===1?"day":"days"} ago`}else return e.toLocaleDateString()}function D1({onQuickInvoice:n,onQuickBilling:e,onOCRScanner:t}){const{currency:s}=fa(),{isPremium:i,usage:o,limits:c}=wu(),[u,d]=C.useState(!0),[h,p]=C.useState(!1),[g,w]=C.useState([{title:"Total Revenue",value:ot(1234567,s),change:"+12.5%",trend:"up",icon:da},{title:"Active Customers",value:"1,234",change:"+8.2%",trend:"up",icon:vi},{title:"Inventory Items",value:"5,678",change:"-2.1%",trend:"down",icon:Fa},{title:"Pending Invoices",value:"23",change:"+15.3%",trend:"up",icon:vs}]),x=async()=>{p(!0);try{const T=await KR();w([{title:"Total Revenue",value:ot(T.revenue.total,s),change:T.revenue.change,trend:T.revenue.trend,icon:da},{title:"Active Customers",value:T.customers.total.toLocaleString(),change:T.customers.change,trend:T.customers.trend,icon:vi},{title:"Inventory Items",value:T.products.total.toLocaleString(),change:T.products.change,trend:T.products.trend,icon:Fa},{title:"Pending Invoices",value:T.invoices.pending.toString(),change:T.invoices.change,trend:T.invoices.trend,icon:vs}])}catch(T){console.error("Error fetching dashboard data:",T),Le.error("Failed to load dashboard data. Please refresh.")}finally{p(!1)}},[S,_]=C.useState([]),[k,b]=C.useState({overdueInvoices:0,draftInvoices:0,paidThisMonth:0,pendingPayments:0});C.useEffect(()=>{(async()=>{d(!0),await x(),d(!1)})()},[s]),C.useEffect(()=>{(async()=>{try{const F=await YR();_(F)}catch(F){console.error("Error loading recent activities:",F)}})()},[]),C.useEffect(()=>{(async()=>{try{const F=await JR();b(F)}catch(F){console.error("Error loading quick stats:",F)}})()},[]);const R=[{title:"Create Invoice",description:"Generate a new invoice quickly",icon:vs,action:n,color:"bg-muted hover:bg-accent border-border",iconColor:"text-foreground"},{title:"Quick Bill",description:"Create and send bills instantly",icon:Pd,action:e,color:"bg-muted hover:bg-accent border-border",iconColor:"text-foreground"},{title:"AI OCR Scanner",description:"Scan invoices with AI",icon:kw,action:t,color:"bg-muted hover:bg-accent border-border",iconColor:"text-foreground",badge:"AI"},{title:"GST Calculator",description:"Calculate GST on transactions",icon:ac,action:()=>console.log("GST Calculator"),color:"bg-muted hover:bg-accent border-border",iconColor:"text-foreground"}],P=T=>{switch(T){case"success":return r.jsx(Ed,{className:"w-4 h-4 text-green-500"});case"warning":return r.jsx(ua,{className:"w-4 h-4 text-yellow-500"});case"pending":return r.jsx(Cp,{className:"w-4 h-4 text-blue-500"});default:return r.jsx(Ed,{className:"w-4 h-4 text-gray-500"})}};return u?r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx(Jc,{className:"h-8 w-48 mb-2"}),r.jsx(Jc,{className:"h-4 w-96"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(Jc,{className:"h-10 w-24"}),r.jsx(Jc,{className:"h-10 w-32"})]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[1,2,3,4].map(T=>r.jsxs(Fe,{children:[r.jsx(qe,{children:r.jsx(Jc,{className:"h-4 w-24"})}),r.jsxs(Ue,{children:[r.jsx(Jc,{className:"h-8 w-32 mb-2"}),r.jsx(Jc,{className:"h-3 w-20"})]})]},T))})]}):r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx("h1",{children:"Dashboard"}),r.jsx(qt,{variant:"secondary",children:"EaziBook"})]}),r.jsx("p",{className:"text-muted-foreground",children:"Welcome back! Here's what's happening with your business."})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(Ae,{variant:"outline",size:"sm",onClick:x,disabled:h,className:"gap-2",children:[r.jsx(Qp,{className:`w-4 h-4 ${h?"animate-spin":""}`}),"Refresh"]}),r.jsxs(Ae,{onClick:n,className:"gap-2",children:[r.jsx(lu,{className:"w-4 h-4"}),"Quick Invoice"]}),r.jsxs(Ae,{onClick:e,variant:"outline",className:"gap-2",children:[r.jsx(Pd,{className:"w-4 h-4"}),"Quick Bill"]})]})]}),!i&&r.jsx(Fe,{className:"border-2",children:r.jsx(Ue,{className:"p-6",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-muted rounded-lg flex items-center justify-center flex-shrink-0",children:r.jsx(Lh,{className:"w-5 h-5"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium mb-1",children:"Free Plan"}),r.jsxs("p",{className:"text-sm text-muted-foreground mb-3",children:["You're using ",o.invoices+o.bills," of ",c.invoices+c.bills," monthly transactions"]}),r.jsxs(Ae,{size:"sm",className:"gap-2",children:[r.jsx(xi,{className:"w-4 h-4"}),"Upgrade to Premium"]})]})]}),r.jsx(qt,{variant:"secondary",children:"Free"})]})})}),r.jsxs(Fe,{children:[r.jsx(qe,{children:r.jsxs(He,{className:"flex items-center gap-2",children:[r.jsx(lu,{className:"w-5 h-5"}),"Quick Actions"]})}),r.jsx(Ue,{children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:R.map((T,F)=>r.jsxs("button",{onClick:T.action,className:`p-4 rounded-lg border transition-all duration-200 hover:shadow-md text-left ${T.color}`,children:[r.jsxs("div",{className:"flex items-start justify-between mb-2",children:[r.jsx(T.icon,{className:`w-6 h-6 ${T.iconColor}`}),T.badge&&r.jsx(qt,{className:"text-xs",variant:"secondary",children:T.badge})]}),r.jsx("h3",{className:"font-medium mb-1",children:T.title}),r.jsx("p",{className:"text-sm opacity-80",children:T.description})]},F))})})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:g.map((T,F)=>r.jsxs(Fe,{children:[r.jsxs(qe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(He,{className:"text-sm font-medium",children:T.title}),r.jsx(T.icon,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsxs(Ue,{children:[r.jsx("div",{className:"text-2xl font-bold",children:T.value}),r.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[T.trend==="up"?r.jsx(Td,{className:"h-3 w-3 text-green-500"}):r.jsx(Cw,{className:"h-3 w-3 text-red-500"}),T.change," from last month"]})]})]},F))}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs(Fe,{children:[r.jsx(qe,{children:r.jsx(He,{children:"Recent Activity"})}),r.jsx(Ue,{children:S.length===0?r.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[r.jsx(Cp,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),r.jsx("p",{className:"text-sm",children:"No recent activity"})]}):r.jsx("div",{className:"space-y-4",children:S.map(T=>r.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-muted/50",children:[P(T.status),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-sm",children:T.message}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:T.time})]})]},T.id))})})]}),r.jsxs(Fe,{children:[r.jsx(qe,{children:r.jsx(He,{children:"Quick Stats"})}),r.jsx(Ue,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex justify-between items-center p-3 bg-muted/50 rounded-lg",children:[r.jsx("span",{className:"text-sm",children:"Overdue Invoices"}),r.jsx(qt,{variant:"destructive",children:k.overdueInvoices})]}),r.jsxs("div",{className:"flex justify-between items-center p-3 bg-muted/50 rounded-lg",children:[r.jsx("span",{className:"text-sm",children:"Draft Invoices"}),r.jsx(qt,{variant:"secondary",children:k.draftInvoices})]}),r.jsxs("div",{className:"flex justify-between items-center p-3 bg-muted/50 rounded-lg",children:[r.jsx("span",{className:"text-sm",children:"Paid This Month"}),r.jsx(qt,{variant:"outline",children:ot(k.paidThisMonth,s)})]}),r.jsxs("div",{className:"flex justify-between items-center p-3 bg-muted/50 rounded-lg",children:[r.jsx("span",{className:"text-sm",children:"Pending Payments"}),r.jsx(qt,{variant:"secondary",children:ot(k.pendingPayments,s)})]})]})})]})]}),r.jsx(IR,{})]})}function yi({className:n,...e}){return r.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:r.jsx("table",{"data-slot":"table",className:Nt("w-full caption-bottom text-sm",n),...e})})}function wi({className:n,...e}){return r.jsx("thead",{"data-slot":"table-header",className:Nt("[&_tr]:border-b",n),...e})}function bi({className:n,...e}){return r.jsx("tbody",{"data-slot":"table-body",className:Nt("[&_tr:last-child]:border-0",n),...e})}function vr({className:n,...e}){return r.jsx("tr",{"data-slot":"table-row",className:Nt("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",n),...e})}function Ze({className:n,...e}){return r.jsx("th",{"data-slot":"table-head",className:Nt("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",n),...e})}function Ye({className:n,...e}){return r.jsx("td",{"data-slot":"table-cell",className:Nt("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",n),...e})}async function pN(){try{const{data:n,error:e}=await Ge.from("journal_entries").select(`
        *,
        journal_entry_lines (
          *,
          chart_of_accounts (
            account_code,
            account_name,
            account_type
          )
        )
      `).order("entry_date",{ascending:!1});if(e)throw console.error("Error fetching ledger entries:",e),e;const t=[];if(n){for(const s of n)if(s.journal_entry_lines&&Array.isArray(s.journal_entry_lines))for(const i of s.journal_entry_lines){const o=i.chart_of_accounts||{};t.push({id:i.id,company_id:s.company_id,entry_number:s.entry_number,entry_date:s.entry_date,account:o.account_name||"Unknown Account",account_type:o.account_type||"expense",debit:i.debit||0,credit:i.credit||0,description:i.description||s.description||"",reference_type:"manual",reference_id:s.id,created_at:s.created_at,updated_at:s.updated_at})}}return t}catch(n){return console.error("Error in getLedgerEntries:",n),[]}}async function XR(n){try{const{data:{user:e}}=await Ge.auth.getUser();if(!e)return console.error("No authenticated user"),null;const{data:t}=await Ge.from("profiles").select("company_id").eq("id",e.id).single();if(!t?.company_id)return console.error("No company_id found for user"),null;const s=t.company_id;let i=n.entry_number;if(!i){const p=await pN();i=`JE-${new Date().getFullYear()}-${String(p.length+1).padStart(5,"0")}`}const{data:o}=await Ge.from("chart_of_accounts").select("*").eq("company_id",s).eq("account_name",n.account).eq("account_type",n.account_type).limit(1);let c=o?.[0]?.id;if(!c){const p=`${n.account_type.substring(0,3).toUpperCase()}-${Date.now()}`,{data:g,error:w}=await Ge.from("chart_of_accounts").insert([{company_id:s,account_code:p,account_name:n.account,account_type:n.account_type,balance:0,is_active:!0}]).select().single();if(w)return console.error("Error creating account:",w),null;c=g?.id}if(!c)return console.error("Failed to get or create account"),null;const{data:u,error:d}=await Ge.from("journal_entries").insert([{company_id:s,entry_number:i,entry_date:n.entry_date,description:n.description,reference:n.reference_id||"",status:"posted"}]).select().single();if(d)throw console.error("Error creating journal entry:",d),d;const h=[];if(n.debit>0&&h.push({journal_entry_id:u.id,account_id:c,debit:n.debit,credit:0,description:n.description}),n.credit>0&&h.push({journal_entry_id:u.id,account_id:c,debit:0,credit:n.credit,description:n.description}),h.length>0){const{error:p}=await Ge.from("journal_entry_lines").insert(h);if(p)throw console.error("Error creating journal entry lines:",p),p}return{...n,id:u.id,entry_number:i}}catch(e){return console.error("Error creating ledger entry:",e),null}}async function QR(){try{const{data:n,error:e}=await Ge.from("chart_of_accounts").select("*").eq("is_active",!0).order("account_code");if(e)throw e;return n||[]}catch(n){return console.error("Error fetching chart of accounts:",n),[]}}async function ZR(n,e){try{const t=await No(),s=await Nu(),i=(w,x)=>!n||!e?w:w.filter(S=>{const _=new Date(S[x]);return _>=new Date(n)&&_<=new Date(e)}),o=i(t,"transaction_date"),u=i(s,"invoice_date").filter(w=>w.status==="paid").reduce((w,x)=>w+x.total,0),d=o.filter(w=>w.type==="bill"&&w.category==="inventory").reduce((w,x)=>w+x.amount,0),h=o.filter(w=>w.type==="expense"&&w.category!=="inventory").reduce((w,x)=>w+x.amount,0),p=u-d,g=p-h;return{revenue:u,costOfSales:d,grossProfit:p,grossProfitMargin:u>0?(p/u*100).toFixed(2):"0",operatingExpenses:h,netProfit:g,netProfitMargin:u>0?(g/u*100).toFixed(2):"0"}}catch(t){return console.error("Error calculating P&L:",t),{revenue:0,costOfSales:0,grossProfit:0,grossProfitMargin:"0",operatingExpenses:0,netProfit:0,netProfitMargin:"0"}}}async function eO(){try{const n=await No(),e=await Vd(),t=await Nu(),s=n.filter(k=>k.status==="completed").reduce((k,b)=>b.type==="income"||b.type==="invoice"&&b.status==="completed"?k+b.amount:b.type==="expense"||b.type==="bill"?k-b.amount:k,0),i=t.filter(k=>k.status==="sent"||k.status==="overdue").reduce((k,b)=>k+b.total,0),o=e.reduce((k,b)=>k+b.stock_quantity*b.selling_price,0),c=s+i+o,u=0,d=c+u,h=n.filter(k=>k.type==="bill"&&k.status==="pending").reduce((k,b)=>k+b.amount,0),p=h,g=0,w=p+g,x=d-w,S=x*.7,_=x*.3;return{assets:{currentAssets:c,fixedAssets:u,total:d,breakdown:{cashAndBank:s,accountsReceivable:i,inventory:o}},liabilities:{currentLiabilities:p,longTermLiabilities:g,total:w,breakdown:{accountsPayable:h}},equity:{capital:S,retainedEarnings:_,total:x}}}catch(n){return console.error("Error calculating balance sheet:",n),{assets:{currentAssets:0,fixedAssets:0,total:0,breakdown:{cashAndBank:0,accountsReceivable:0,inventory:0}},liabilities:{currentLiabilities:0,longTermLiabilities:0,total:0,breakdown:{accountsPayable:0}},equity:{capital:0,retainedEarnings:0,total:0}}}}async function tO(n,e){try{const t=await No(),s=n&&e?t.filter(w=>{const x=new Date(w.transaction_date);return x>=new Date(n)&&x<=new Date(e)}):t,i=s.filter(w=>w.type==="income"||w.type==="expense").reduce((w,x)=>x.type==="income"?w+x.amount:w-x.amount,0),o=s.filter(w=>w.category==="investment"||w.category==="asset").reduce((w,x)=>w-x.amount,0),c=s.filter(w=>w.category==="loan"||w.category==="capital").reduce((w,x)=>w+x.amount,0),u=i+o+c,p=(await No()).filter(w=>w.status==="completed").reduce((w,x)=>x.type==="income"?w+x.amount:x.type==="expense"?w-x.amount:w,0),g=p-u;return{operating:i,investing:o,financing:c,netCashFlow:u,openingBalance:g,closingBalance:p}}catch(t){return console.error("Error calculating cash flow:",t),{operating:0,investing:0,financing:0,netCashFlow:0,openingBalance:0,closingBalance:0}}}function rO(){const{currency:n}=fa(),[e,t]=C.useState("ledger"),[s,i]=C.useState(!0),[o,c]=C.useState([]),[u,d]=C.useState([]),[h,p]=C.useState([]),[g,w]=C.useState(""),[x,S]=C.useState("all"),[_,k]=C.useState(!1),[b,R]=C.useState({entry_date:new Date().toISOString().split("T")[0],account:"",account_type:"expense",debit:0,credit:0,description:""}),P=async()=>{i(!0);try{const[L,z,U]=await Promise.all([pN(),QR(),Nu()]);c(L),d(z),p(U.filter(te=>te.status==="paid"||te.status==="sent"||te.status==="overdue"))}catch(L){console.error("Error loading accounting data:",L),Le.error("Failed to load accounting data")}finally{i(!1)}};C.useEffect(()=>{P()},[]);const T=o.filter(L=>{const z=!g||L.entry_number.toLowerCase().includes(g.toLowerCase())||L.description.toLowerCase().includes(g.toLowerCase())||L.account.toLowerCase().includes(g.toLowerCase()),U=x==="all"||L.account===x;return z&&U}),F=async()=>{if(!b.account||!b.debit&&!b.credit){Le.error("Please fill in all required fields");return}k(!0);try{const L={entry_number:"",entry_date:b.entry_date,account:b.account,account_type:b.account_type,debit:b.debit,credit:b.credit,description:b.description,reference_type:"manual"};await XR(L)?(Le.success("Ledger entry created successfully"),R({entry_date:new Date().toISOString().split("T")[0],account:"",account_type:"expense",debit:0,credit:0,description:""}),P()):Le.error("Failed to create ledger entry")}catch(L){console.error("Error creating ledger entry:",L),Le.error("An error occurred")}finally{k(!1)}},ne=T.reduce((L,z)=>L+z.debit,0),ee=T.reduce((L,z)=>L+z.credit,0),K=h.filter(L=>L.tax>0),Y=[{name:"Profit & Loss Statement",description:"Monthly P&L report",period:"Current Month",path:"/reports"},{name:"Balance Sheet",description:"Financial position statement",period:"As of Today",path:"/reports"},{name:"Cash Flow Statement",description:"Cash inflows and outflows",period:"Current Month",path:"/reports"},{name:"GST Report",description:"GST summary and details",period:"Current Month",path:"/reports"}],q={asset:u.filter(L=>L.account_type==="asset"),liability:u.filter(L=>L.account_type==="liability"),equity:u.filter(L=>L.account_type==="equity"),revenue:u.filter(L=>L.account_type==="revenue"),expense:u.filter(L=>L.account_type==="expense")};return s?r.jsx("div",{className:"p-6 flex items-center justify-center min-h-[400px]",children:r.jsxs("div",{className:"text-center",children:[r.jsx(an,{className:"w-8 h-8 animate-spin mx-auto mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"Loading accounting data..."})]})}):r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{children:"Accounting"}),r.jsx("p",{className:"text-muted-foreground",children:"Manage your financial records and reports"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(Ae,{variant:"outline",onClick:P,children:[r.jsx(bw,{className:"w-4 h-4 mr-2"}),"Refresh"]}),r.jsxs(fl,{children:[r.jsx(vc,{asChild:!0,children:r.jsxs(Ae,{children:[r.jsx(la,{className:"w-4 h-4 mr-2"}),"New Entry"]})}),r.jsxs(bo,{className:"max-w-md","aria-describedby":"dialog-description",children:[r.jsxs(pl,{children:[r.jsx(jo,{children:"New Ledger Entry"}),r.jsx("p",{id:"dialog-description",className:"sr-only",children:"Create a new ledger entry for your accounting records"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(Re,{htmlFor:"date",children:"Date"}),r.jsx(Ve,{id:"date",type:"date",value:b.entry_date,onChange:L=>R({...b,entry_date:L.target.value})})]}),r.jsxs("div",{children:[r.jsx(Re,{htmlFor:"account",children:"Account"}),r.jsx(Ve,{id:"account",placeholder:"Account name",value:b.account,onChange:L=>R({...b,account:L.target.value})})]})]}),r.jsxs("div",{children:[r.jsx(Re,{htmlFor:"account-type",children:"Account Type"}),r.jsxs(wr,{value:b.account_type,onValueChange:L=>R({...b,account_type:L}),children:[r.jsx(jr,{children:r.jsx(br,{placeholder:"Select type"})}),r.jsxs(Nr,{children:[r.jsx(Te,{value:"asset",children:"Asset"}),r.jsx(Te,{value:"liability",children:"Liability"}),r.jsx(Te,{value:"equity",children:"Equity"}),r.jsx(Te,{value:"revenue",children:"Revenue"}),r.jsx(Te,{value:"expense",children:"Expense"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(Re,{htmlFor:"debit",children:"Debit Amount"}),r.jsx(Ve,{id:"debit",type:"number",placeholder:"0",value:b.debit||"",onChange:L=>R({...b,debit:parseFloat(L.target.value)||0})})]}),r.jsxs("div",{children:[r.jsx(Re,{htmlFor:"credit",children:"Credit Amount"}),r.jsx(Ve,{id:"credit",type:"number",placeholder:"0",value:b.credit||"",onChange:L=>R({...b,credit:parseFloat(L.target.value)||0})})]})]}),r.jsxs("div",{children:[r.jsx(Re,{htmlFor:"description",children:"Description"}),r.jsx(Od,{id:"description",placeholder:"Enter description...",value:b.description,onChange:L=>R({...b,description:L.target.value})})]}),r.jsx(Ae,{className:"w-full",onClick:F,disabled:_,children:_?r.jsxs(r.Fragment,{children:[r.jsx(an,{className:"w-4 h-4 mr-2 animate-spin"}),"Adding..."]}):"Add Entry"})]})]})]})]})]}),r.jsxs(pc,{value:e,onValueChange:t,children:[r.jsxs(mc,{className:"grid w-full grid-cols-4",children:[r.jsx(Ar,{value:"ledger",children:"Ledger"}),r.jsx(Ar,{value:"invoices",children:"GST Invoices"}),r.jsx(Ar,{value:"reports",children:"Financial Reports"}),r.jsx(Ar,{value:"accounts",children:"Chart of Accounts"})]}),r.jsx(Er,{value:"ledger",className:"space-y-4",children:r.jsxs(Fe,{children:[r.jsxs(qe,{children:[r.jsx(He,{children:"General Ledger"}),r.jsxs("div",{className:"flex gap-4",children:[r.jsxs("div",{className:"relative flex-1 max-w-sm",children:[r.jsx(vu,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),r.jsx(Ve,{placeholder:"Search entries...",className:"pl-9",value:g,onChange:L=>w(L.target.value)})]}),r.jsxs(wr,{value:x,onValueChange:S,children:[r.jsx(jr,{className:"w-48",children:r.jsx(br,{placeholder:"Select account"})}),r.jsxs(Nr,{children:[r.jsx(Te,{value:"all",children:"All Accounts"}),Array.from(new Set(o.map(L=>L.account))).map(L=>r.jsx(Te,{value:L,children:L},L))]})]})]})]}),r.jsxs(Ue,{children:[r.jsxs(yi,{children:[r.jsx(wi,{children:r.jsxs(vr,{children:[r.jsx(Ze,{children:"Date"}),r.jsx(Ze,{children:"Entry ID"}),r.jsx(Ze,{children:"Account"}),r.jsx(Ze,{children:"Description"}),r.jsx(Ze,{className:"text-right",children:"Debit"}),r.jsx(Ze,{className:"text-right",children:"Credit"})]})}),r.jsx(bi,{children:T.length===0?r.jsx(vr,{children:r.jsx(Ye,{colSpan:6,className:"text-center text-muted-foreground py-8",children:"No ledger entries found. Create your first entry to get started."})}):T.map(L=>r.jsxs(vr,{children:[r.jsx(Ye,{children:new Date(L.entry_date).toLocaleDateString()}),r.jsx(Ye,{children:L.entry_number}),r.jsx(Ye,{children:L.account}),r.jsx(Ye,{children:L.description}),r.jsx(Ye,{className:"text-right",children:L.debit>0?ot(L.debit,n):"-"}),r.jsx(Ye,{className:"text-right",children:L.credit>0?ot(L.credit,n):"-"})]},L.id))})]}),T.length>0&&r.jsxs("div",{className:"mt-4 pt-4 border-t flex justify-between",children:[r.jsx("span",{className:"font-medium",children:"Totals:"}),r.jsxs("div",{className:"flex gap-8",children:[r.jsxs("span",{children:["Debit: ",ot(ne,n)]}),r.jsxs("span",{children:["Credit: ",ot(ee,n)]})]})]})]})]})}),r.jsx(Er,{value:"invoices",className:"space-y-4",children:r.jsxs(Fe,{children:[r.jsxs(qe,{children:[r.jsx(He,{children:"GST Invoices"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"All invoices with tax information for GST reporting"})]}),r.jsx(Ue,{children:r.jsxs(yi,{children:[r.jsx(wi,{children:r.jsxs(vr,{children:[r.jsx(Ze,{children:"Invoice ID"}),r.jsx(Ze,{children:"Customer"}),r.jsx(Ze,{children:"Date"}),r.jsx(Ze,{className:"text-right",children:"Subtotal"}),r.jsx(Ze,{className:"text-right",children:"Tax"}),r.jsx(Ze,{className:"text-right",children:"Total"}),r.jsx(Ze,{children:"Status"}),r.jsx(Ze,{children:"Actions"})]})}),r.jsx(bi,{children:K.length===0?r.jsx(vr,{children:r.jsx(Ye,{colSpan:8,className:"text-center text-muted-foreground py-8",children:"No GST invoices found"})}):K.map(L=>r.jsxs(vr,{children:[r.jsx(Ye,{children:L.invoice_number}),r.jsx(Ye,{children:L.customer_id||"Unknown"}),r.jsx(Ye,{children:new Date(L.invoice_date).toLocaleDateString()}),r.jsx(Ye,{className:"text-right",children:ot(L.subtotal,n)}),r.jsx(Ye,{className:"text-right",children:ot(L.tax,n)}),r.jsx(Ye,{className:"text-right",children:ot(L.total,n)}),r.jsx(Ye,{children:r.jsx(qt,{variant:L.status==="paid"?"default":L.status==="sent"?"secondary":"destructive",children:L.status})}),r.jsx(Ye,{children:r.jsx(Ae,{variant:"ghost",size:"sm",children:r.jsx(Un,{className:"w-4 h-4"})})})]},L.id))})]})})]})}),r.jsx(Er,{value:"reports",className:"space-y-4",children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Y.map((L,z)=>r.jsxs(Fe,{children:[r.jsx(qe,{children:r.jsxs(He,{className:"flex items-center gap-2",children:[r.jsx(vs,{className:"w-5 h-5"}),L.name]})}),r.jsxs(Ue,{children:[r.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:L.description}),r.jsxs("p",{className:"text-xs text-muted-foreground mb-4",children:["Period: ",L.period]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(Ae,{size:"sm",variant:"outline",children:[r.jsx(Un,{className:"w-4 h-4 mr-2"}),"Download"]}),r.jsx(Ae,{size:"sm",onClick:()=>window.location.hash="#reports",children:"View"})]})]})]},z))})}),r.jsx(Er,{value:"accounts",className:"space-y-4",children:r.jsxs(Fe,{children:[r.jsxs(qe,{children:[r.jsx(He,{children:"Chart of Accounts"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage your account structure and balances"})]}),r.jsx(Ue,{children:r.jsx("div",{className:"space-y-4",children:Object.entries(q).map(([L,z])=>r.jsxs("div",{className:"border rounded-lg p-4",children:[r.jsx("h3",{className:"font-medium mb-2 capitalize",children:L}),r.jsx("div",{className:"space-y-2 ml-4",children:z.length===0?r.jsx("p",{className:"text-sm text-muted-foreground",children:"No accounts in this category"}):z.map(U=>r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{children:U.account_name}),r.jsx("span",{children:ot(U.balance,n)})]},U.id))})]},L))})})]})})]})]})}function nO(n,e=[]){let t=[];function s(o,c){const u=C.createContext(c);u.displayName=o+"Context";const d=t.length;t=[...t,c];const h=g=>{const{scope:w,children:x,...S}=g,_=w?.[n]?.[d]||u,k=C.useMemo(()=>S,Object.values(S));return r.jsx(_.Provider,{value:k,children:x})};h.displayName=o+"Provider";function p(g,w){const x=w?.[n]?.[d]||u,S=C.useContext(x);if(S)return S;if(c!==void 0)return c;throw new Error(`\`${g}\` must be used within \`${o}\``)}return[h,p]}const i=()=>{const o=t.map(c=>C.createContext(c));return function(u){const d=u?.[n]||o;return C.useMemo(()=>({[`__scope${n}`]:{...u,[n]:d}}),[u,d])}};return i.scopeName=n,[s,sO(i,...e)]}function sO(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const s=n.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const c=s.reduce((u,{useScope:d,scopeName:h})=>{const g=d(o)[`__scope${h}`];return{...u,...g}},{});return C.useMemo(()=>({[`__scope${e.scopeName}`]:c}),[c])}};return t.scopeName=e.scopeName,t}var iO=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],mN=iO.reduce((n,e)=>{const t=Kp(`Primitive.${e}`),s=C.forwardRef((i,o)=>{const{asChild:c,...u}=i,d=c?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(d,{...u,ref:o})});return s.displayName=`Primitive.${e}`,{...n,[e]:s}},{}),K0="Progress",Y0=100,[aO]=nO(K0),[oO,lO]=aO(K0),gN=C.forwardRef((n,e)=>{const{__scopeProgress:t,value:s=null,max:i,getValueLabel:o=cO,...c}=n;(i||i===0)&&!M1(i)&&console.error(uO(`${i}`,"Progress"));const u=M1(i)?i:Y0;s!==null&&!F1(s,u)&&console.error(dO(`${s}`,"Progress"));const d=F1(s,u)?s:null,h=qp(d)?o(d,u):void 0;return r.jsx(oO,{scope:t,value:d,max:u,children:r.jsx(mN.div,{"aria-valuemax":u,"aria-valuemin":0,"aria-valuenow":qp(d)?d:void 0,"aria-valuetext":h,role:"progressbar","data-state":yN(d,u),"data-value":d??void 0,"data-max":u,...c,ref:e})})});gN.displayName=K0;var xN="ProgressIndicator",vN=C.forwardRef((n,e)=>{const{__scopeProgress:t,...s}=n,i=lO(xN,t);return r.jsx(mN.div,{"data-state":yN(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...s,ref:e})});vN.displayName=xN;function cO(n,e){return`${Math.round(n/e*100)}%`}function yN(n,e){return n==null?"indeterminate":n===e?"complete":"loading"}function qp(n){return typeof n=="number"}function M1(n){return qp(n)&&!isNaN(n)&&n>0}function F1(n,e){return qp(n)&&!isNaN(n)&&n<=e&&n>=0}function uO(n,e){return`Invalid prop \`max\` of value \`${n}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Y0}\`.`}function dO(n,e){return`Invalid prop \`value\` of value \`${n}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Y0} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var hO=gN,fO=vN;function Ux({className:n,value:e,...t}){return r.jsx(hO,{"data-slot":"progress",className:Nt("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",n),...t,children:r.jsx(fO,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})})}function pO(){const{currency:n}=fa(),[e,t]=C.useState("products"),[s,i]=C.useState([]),[o,c]=C.useState([]),[u,d]=C.useState(!0),h=[],p=[];C.useEffect(()=>{g()},[]);const g=async()=>{d(!0);try{const[S,_]=await Promise.all([Vd(),fN()]);i(S.filter(k=>k.type==="product")),c(_)}catch(S){console.error("Error loading inventory:",S),Le.error("Failed to load inventory data")}finally{d(!1)}},w=(S,_)=>S===0?"out-of-stock":S<=_?"low-stock":"in-stock",x=(S,_)=>_>0?S/_*100:0;return u?r.jsx("div",{className:"p-6 space-y-6",children:r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsxs("div",{className:"text-center",children:[r.jsx(an,{className:"w-8 h-8 animate-spin mx-auto mb-2"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading inventory..."})]})})}):r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{children:"Inventory Management"}),r.jsx("p",{className:"text-muted-foreground",children:"Track stock levels and manage orders"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(Ae,{variant:"outline",children:[r.jsx(bw,{className:"w-4 h-4 mr-2"}),"Filter"]}),r.jsxs(fl,{children:[r.jsx(vc,{asChild:!0,children:r.jsxs(Ae,{children:[r.jsx(la,{className:"w-4 h-4 mr-2"}),"Add Product"]})}),r.jsxs(bo,{"aria-describedby":"inventory-dialog-description",children:[r.jsxs(pl,{children:[r.jsx(jo,{children:"Add New Product"}),r.jsx("p",{id:"inventory-dialog-description",className:"sr-only",children:"Add a new product to your inventory"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(Re,{htmlFor:"name",children:"Product Name"}),r.jsx(Ve,{id:"name",placeholder:"Enter product name"})]}),r.jsxs("div",{children:[r.jsx(Re,{htmlFor:"sku",children:"SKU"}),r.jsx(Ve,{id:"sku",placeholder:"Enter SKU"})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(Re,{htmlFor:"category",children:"Category"}),r.jsxs(wr,{children:[r.jsx(jr,{children:r.jsx(br,{placeholder:"Select category"})}),r.jsxs(Nr,{children:[r.jsx(Te,{value:"electronics",children:"Electronics"}),r.jsx(Te,{value:"accessories",children:"Accessories"}),r.jsx(Te,{value:"furniture",children:"Furniture"})]})]})]}),r.jsxs("div",{children:[r.jsx(Re,{htmlFor:"supplier",children:"Supplier"}),r.jsxs(wr,{children:[r.jsx(jr,{children:r.jsx(br,{placeholder:"Select supplier"})}),r.jsxs(Nr,{children:[r.jsx(Te,{value:"tech-supplies",children:"Tech Supplies Co."}),r.jsx(Te,{value:"cable-world",children:"Cable World"}),r.jsx(Te,{value:"desk-solutions",children:"Desk Solutions"})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx(Re,{htmlFor:"current",children:"Current Stock"}),r.jsx(Ve,{id:"current",type:"number",placeholder:"0"})]}),r.jsxs("div",{children:[r.jsx(Re,{htmlFor:"min",children:"Min Stock"}),r.jsx(Ve,{id:"min",type:"number",placeholder:"0"})]}),r.jsxs("div",{children:[r.jsx(Re,{htmlFor:"max",children:"Max Stock"}),r.jsx(Ve,{id:"max",type:"number",placeholder:"0"})]})]}),r.jsxs("div",{children:[r.jsx(Re,{htmlFor:"price",children:"Price"}),r.jsx(Ve,{id:"price",type:"number",placeholder:"0"})]}),r.jsx(Ae,{className:"w-full",children:"Add Product"})]})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs(Fe,{children:[r.jsxs(qe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(He,{className:"text-sm font-medium",children:"Total Products"}),r.jsx(Fa,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsxs(Ue,{children:[r.jsx("div",{className:"text-2xl font-bold",children:s.length}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"In stock items"})]})]}),r.jsxs(Fe,{children:[r.jsxs(qe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(He,{className:"text-sm font-medium",children:"Low Stock Alerts"}),r.jsx(Aw,{className:"h-4 w-4 text-orange-500"})]}),r.jsxs(Ue,{children:[r.jsx("div",{className:"text-2xl font-bold text-orange-500",children:o.length}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Items below minimum"})]})]}),r.jsxs(Fe,{children:[r.jsxs(qe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(He,{className:"text-sm font-medium",children:"Out of Stock"}),r.jsx(dx,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsxs(Ue,{children:[r.jsx("div",{className:"text-2xl font-bold",children:s.filter(S=>(S.stock_quantity||0)===0).length}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Items with zero stock"})]})]}),r.jsxs(Fe,{children:[r.jsxs(qe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(He,{className:"text-sm font-medium",children:"Total Value"}),r.jsx(Td,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsxs(Ue,{children:[r.jsx("div",{className:"text-2xl font-bold",children:ot(s.reduce((S,_)=>S+(_.stock_quantity||0)*_.price,0),n)}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Current inventory value"})]})]})]}),r.jsxs(pc,{value:e,onValueChange:t,children:[r.jsxs(mc,{className:"grid w-full grid-cols-3",children:[r.jsx(Ar,{value:"products",children:"Products"}),r.jsx(Ar,{value:"orders",children:"Orders"}),r.jsx(Ar,{value:"suppliers",children:"Suppliers"})]}),r.jsx(Er,{value:"products",className:"space-y-4",children:r.jsxs(Fe,{children:[r.jsxs(qe,{children:[r.jsx(He,{children:"Product Inventory"}),r.jsxs("div",{className:"flex gap-4",children:[r.jsxs("div",{className:"relative flex-1 max-w-sm",children:[r.jsx(vu,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),r.jsx(Ve,{placeholder:"Search products...",className:"pl-9"})]}),r.jsxs(wr,{children:[r.jsx(jr,{className:"w-48",children:r.jsx(br,{placeholder:"Category"})}),r.jsxs(Nr,{children:[r.jsx(Te,{value:"all",children:"All Categories"}),r.jsx(Te,{value:"electronics",children:"Electronics"}),r.jsx(Te,{value:"accessories",children:"Accessories"}),r.jsx(Te,{value:"furniture",children:"Furniture"})]})]}),r.jsxs(wr,{children:[r.jsx(jr,{className:"w-48",children:r.jsx(br,{placeholder:"Stock Status"})}),r.jsxs(Nr,{children:[r.jsx(Te,{value:"all",children:"All Products"}),r.jsx(Te,{value:"in-stock",children:"In Stock"}),r.jsx(Te,{value:"low-stock",children:"Low Stock"}),r.jsx(Te,{value:"out-of-stock",children:"Out of Stock"})]})]})]})]}),r.jsx(Ue,{children:r.jsxs(yi,{children:[r.jsx(wi,{children:r.jsxs(vr,{children:[r.jsx(Ze,{children:"Product"}),r.jsx(Ze,{children:"SKU"}),r.jsx(Ze,{children:"Category"}),r.jsx(Ze,{children:"Current Stock"}),r.jsx(Ze,{children:"Stock Level"}),r.jsx(Ze,{children:"Price"}),r.jsx(Ze,{children:"Status"}),r.jsx(Ze,{children:"Supplier"})]})}),r.jsx(bi,{children:s.length===0?r.jsx(vr,{children:r.jsx(Ye,{colSpan:8,className:"text-center py-8",children:r.jsxs("div",{className:"flex flex-col items-center gap-2",children:[r.jsx(Fa,{className:"w-12 h-12 text-muted-foreground"}),r.jsx("p",{className:"text-muted-foreground",children:"No products found"})]})})}):s.map(S=>{const _=S.stock_quantity||0,k=S.low_stock_threshold||10,b=w(_,k);return r.jsxs(vr,{children:[r.jsx(Ye,{className:"font-medium",children:S.name}),r.jsx(Ye,{children:S.sku||"-"}),r.jsx(Ye,{children:S.category||"-"}),r.jsx(Ye,{children:_}),r.jsx(Ye,{children:r.jsxs("div",{className:"space-y-1",children:[r.jsx(Ux,{value:x(_,100),className:"h-2"}),r.jsxs("div",{className:"text-xs text-muted-foreground",children:["Min: ",k]})]})}),r.jsx(Ye,{children:ot(S.price,n)}),r.jsx(Ye,{children:r.jsx(qt,{variant:b==="in-stock"?"default":b==="low-stock"?"secondary":"destructive",children:b.replace("-"," ")})}),r.jsx(Ye,{children:"-"})]},S.id)})})]})})]})}),r.jsx(Er,{value:"orders",className:"space-y-4",children:r.jsxs(Fe,{children:[r.jsxs(qe,{children:[r.jsx(He,{children:"Order Management"}),r.jsxs(Ae,{children:[r.jsx(la,{className:"w-4 h-4 mr-2"}),"Create Order"]})]}),r.jsx(Ue,{children:r.jsxs(yi,{children:[r.jsx(wi,{children:r.jsxs(vr,{children:[r.jsx(Ze,{children:"Order ID"}),r.jsx(Ze,{children:"Customer"}),r.jsx(Ze,{children:"Date"}),r.jsx(Ze,{children:"Products"}),r.jsx(Ze,{children:"Total"}),r.jsx(Ze,{children:"Status"}),r.jsx(Ze,{children:"Actions"})]})}),r.jsx(bi,{children:h.length===0?r.jsx(vr,{children:r.jsx(Ye,{colSpan:7,className:"text-center py-8",children:r.jsxs("div",{className:"flex flex-col items-center gap-2",children:[r.jsx(dx,{className:"w-12 h-12 text-muted-foreground"}),r.jsx("p",{className:"text-muted-foreground",children:"No orders found"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Orders will appear here once created"})]})})}):h.map(S=>r.jsxs(vr,{children:[r.jsx(Ye,{children:S.id}),r.jsx(Ye,{children:S.customer}),r.jsx(Ye,{children:S.date}),r.jsxs(Ye,{children:[S.products," items"]}),r.jsxs(Ye,{children:["",S.total.toLocaleString()]}),r.jsx(Ye,{children:r.jsx(qt,{variant:S.status==="delivered"?"default":S.status==="shipped"?"secondary":S.status==="processing"?"outline":"destructive",children:S.status})}),r.jsx(Ye,{children:r.jsx(Ae,{variant:"ghost",size:"sm",children:r.jsx(nu,{className:"w-4 h-4"})})})]},S.id))})]})})]})}),r.jsx(Er,{value:"suppliers",className:"space-y-4",children:r.jsxs(Fe,{children:[r.jsxs(qe,{children:[r.jsx(He,{children:"Supplier Management"}),r.jsxs(Ae,{children:[r.jsx(la,{className:"w-4 h-4 mr-2"}),"Add Supplier"]})]}),r.jsx(Ue,{children:r.jsxs(yi,{children:[r.jsx(wi,{children:r.jsxs(vr,{children:[r.jsx(Ze,{children:"Supplier ID"}),r.jsx(Ze,{children:"Name"}),r.jsx(Ze,{children:"Contact Person"}),r.jsx(Ze,{children:"Phone"}),r.jsx(Ze,{children:"Email"}),r.jsx(Ze,{children:"Status"})]})}),r.jsx(bi,{children:p.length===0?r.jsx(vr,{children:r.jsx(Ye,{colSpan:6,className:"text-center py-8",children:r.jsxs("div",{className:"flex flex-col items-center gap-2",children:[r.jsx(nu,{className:"w-12 h-12 text-muted-foreground"}),r.jsx("p",{className:"text-muted-foreground",children:"No suppliers found"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Go to Suppliers page to manage suppliers"})]})})}):p.map(S=>r.jsxs(vr,{children:[r.jsx(Ye,{children:S.id}),r.jsx(Ye,{children:S.name}),r.jsx(Ye,{children:S.contact}),r.jsx(Ye,{children:S.phone}),r.jsx(Ye,{children:S.email}),r.jsx(Ye,{children:r.jsx(qt,{variant:S.status==="active"?"default":"secondary",children:S.status})})]},S.id))})]})})]})})]})]})}function mO(){const[n,e]=C.useState("gst"),t=[{period:"January 2025",type:"VAT Return",dueDate:"2025-02-21",status:"pending",amount:875e3},{period:"December 2024",type:"VAT Return",dueDate:"2025-01-21",status:"filed",amount:82e4},{period:"November 2024",type:"VAT Return",dueDate:"2024-12-21",status:"filed",amount:765e3},{period:"October 2024",type:"VAT Return",dueDate:"2024-11-21",status:"filed",amount:712e3}],s=[{period:"January 2025",type:"WHT Return",dueDate:"2025-02-10",status:"pending",amount:325e3},{period:"December 2024",type:"WHT Return",dueDate:"2025-01-10",status:"filed",amount:298e3},{period:"November 2024",type:"WHT Return",dueDate:"2024-12-10",status:"filed",amount:285e3},{period:"October 2024",type:"WHT Return",dueDate:"2024-11-10",status:"filed",amount:272e3}],i={vatCollected:875e3,vatPaid:125e3,vatBalance:75e4,whtDeducted:325e3,whtRemitted:298e3,whtBalance:27e3,totalTaxLiability:777e3},o=[{type:"WHT Return",period:"January 2025",dueDate:"2025-02-10",daysLeft:7},{type:"VAT Return",period:"January 2025",dueDate:"2025-02-21",daysLeft:18},{type:"PAYE Remittance",period:"January 2025",dueDate:"2025-02-10",daysLeft:7},{type:"CIT Estimate",period:"Q4 2024",dueDate:"2025-01-31",daysLeft:0},{type:"Annual Returns",period:"FY 2024",dueDate:"2025-03-31",daysLeft:56}],c=u=>u<=3?"destructive":u<=7?"secondary":"default";return r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{children:"Tax Compliance"}),r.jsx("p",{className:"text-muted-foreground",children:"Manage VAT, WHT, PAYE and other Nigerian tax obligations"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(Ae,{variant:"outline",children:[r.jsx(ac,{className:"w-4 h-4 mr-2"}),"Tax Calculator"]}),r.jsxs(Ae,{children:[r.jsx(wd,{className:"w-4 h-4 mr-2"}),"File Return"]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs(Fe,{children:[r.jsxs(qe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(He,{className:"text-sm font-medium",children:"VAT Collected"}),r.jsx(vs,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsxs(Ue,{children:[r.jsxs("div",{className:"text-2xl font-bold",children:["",i.vatCollected.toLocaleString()]}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Current month"})]})]}),r.jsxs(Fe,{children:[r.jsxs(qe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(He,{className:"text-sm font-medium",children:"WHT Deducted"}),r.jsx(vs,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsxs(Ue,{children:[r.jsxs("div",{className:"text-2xl font-bold",children:["",i.whtDeducted.toLocaleString()]}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Current month"})]})]}),r.jsxs(Fe,{children:[r.jsxs(qe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(He,{className:"text-sm font-medium",children:"Tax Liability"}),r.jsx(ua,{className:"h-4 w-4 text-orange-500"})]}),r.jsxs(Ue,{children:[r.jsxs("div",{className:"text-2xl font-bold text-orange-500",children:["",i.totalTaxLiability.toLocaleString()]}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Outstanding amount"})]})]}),r.jsxs(Fe,{children:[r.jsxs(qe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(He,{className:"text-sm font-medium",children:"Compliance Rate"}),r.jsx(Ed,{className:"h-4 w-4 text-green-500"})]}),r.jsxs(Ue,{children:[r.jsx("div",{className:"text-2xl font-bold text-green-500",children:"92%"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"On-time filings"})]})]})]}),r.jsxs(Fe,{children:[r.jsx(qe,{children:r.jsxs(He,{className:"flex items-center gap-2",children:[r.jsx(Xp,{className:"w-5 h-5"}),"Upcoming Deadlines"]})}),r.jsx(Ue,{children:r.jsx("div",{className:"space-y-3",children:o.map((u,d)=>r.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:u.type}),r.jsx("p",{className:"text-sm text-muted-foreground",children:u.period})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"text-sm",children:u.dueDate}),r.jsxs(qt,{variant:c(u.daysLeft),className:"text-xs",children:[u.daysLeft," days left"]})]})]},d))})})]}),r.jsxs(pc,{value:n,onValueChange:e,children:[r.jsxs(mc,{className:"grid w-full grid-cols-3",children:[r.jsx(Ar,{value:"vat",children:"VAT Returns"}),r.jsx(Ar,{value:"wht",children:"WHT Returns"}),r.jsx(Ar,{value:"summary",children:"Tax Summary"})]}),r.jsx(Er,{value:"vat",className:"space-y-4",children:r.jsxs(Fe,{children:[r.jsxs(qe,{children:[r.jsx(He,{children:"VAT Return Filing"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(Ae,{size:"sm",children:"Generate VAT Return"}),r.jsx(Ae,{size:"sm",variant:"outline",children:"Download Template"})]})]}),r.jsx(Ue,{children:r.jsxs(yi,{children:[r.jsx(wi,{children:r.jsxs(vr,{children:[r.jsx(Ze,{children:"Period"}),r.jsx(Ze,{children:"Return Type"}),r.jsx(Ze,{children:"Due Date"}),r.jsx(Ze,{className:"text-right",children:"Amount"}),r.jsx(Ze,{children:"Status"}),r.jsx(Ze,{children:"Actions"})]})}),r.jsx(bi,{children:t.map((u,d)=>r.jsxs(vr,{children:[r.jsx(Ye,{children:u.period}),r.jsx(Ye,{children:u.type}),r.jsx(Ye,{children:u.dueDate}),r.jsxs(Ye,{className:"text-right",children:["",u.amount.toLocaleString()]}),r.jsx(Ye,{children:r.jsx(qt,{variant:u.status==="filed"?"default":"secondary",children:u.status})}),r.jsx(Ye,{children:r.jsxs("div",{className:"flex gap-2",children:[r.jsx(Ae,{variant:"ghost",size:"sm",children:r.jsx(Un,{className:"w-4 h-4"})}),u.status==="pending"&&r.jsx(Ae,{size:"sm",children:"File Return"})]})})]},d))})]})})]})}),r.jsx(Er,{value:"wht",className:"space-y-4",children:r.jsxs(Fe,{children:[r.jsxs(qe,{children:[r.jsx(He,{children:"Withholding Tax (WHT) Returns"}),r.jsx(Ae,{children:"Generate WHT Return"})]}),r.jsx(Ue,{children:r.jsxs(yi,{children:[r.jsx(wi,{children:r.jsxs(vr,{children:[r.jsx(Ze,{children:"Period"}),r.jsx(Ze,{children:"Return Type"}),r.jsx(Ze,{children:"Due Date"}),r.jsx(Ze,{className:"text-right",children:"Amount"}),r.jsx(Ze,{children:"Status"}),r.jsx(Ze,{children:"Actions"})]})}),r.jsx(bi,{children:s.map((u,d)=>r.jsxs(vr,{children:[r.jsx(Ye,{children:u.period}),r.jsx(Ye,{children:u.type}),r.jsx(Ye,{children:u.dueDate}),r.jsxs(Ye,{className:"text-right",children:["",u.amount.toLocaleString()]}),r.jsx(Ye,{children:r.jsx(qt,{variant:u.status==="filed"?"default":"secondary",children:u.status})}),r.jsx(Ye,{children:r.jsxs("div",{className:"flex gap-2",children:[r.jsx(Ae,{variant:"ghost",size:"sm",children:r.jsx(Un,{className:"w-4 h-4"})}),u.status==="pending"&&r.jsx(Ae,{size:"sm",children:"File Return"})]})})]},d))})]})})]})}),r.jsxs(Er,{value:"summary",className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs(Fe,{children:[r.jsx(qe,{children:r.jsx(He,{children:"VAT Summary"})}),r.jsxs(Ue,{className:"space-y-4",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"VAT Collected (Output)"}),r.jsxs("span",{className:"font-medium",children:["",i.vatCollected.toLocaleString()]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"VAT Paid (Input)"}),r.jsxs("span",{className:"font-medium",children:["",i.vatPaid.toLocaleString()]})]}),r.jsx("div",{className:"border-t pt-2",children:r.jsxs("div",{className:"flex justify-between font-medium",children:[r.jsx("span",{children:"Net VAT Payable"}),r.jsxs("span",{children:["",i.vatBalance.toLocaleString()]})]})}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{children:"Payment Progress"}),r.jsx("span",{children:"86%"})]}),r.jsx(Ux,{value:86,className:"h-2"})]})]})]}),r.jsxs(Fe,{children:[r.jsx(qe,{children:r.jsx(He,{children:"WHT Summary"})}),r.jsxs(Ue,{className:"space-y-4",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"WHT Deducted"}),r.jsxs("span",{className:"font-medium",children:["",i.whtDeducted.toLocaleString()]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"WHT Remitted"}),r.jsxs("span",{className:"font-medium",children:["",i.whtRemitted.toLocaleString()]})]}),r.jsx("div",{className:"border-t pt-2",children:r.jsxs("div",{className:"flex justify-between font-medium",children:[r.jsx("span",{children:"WHT Payable"}),r.jsxs("span",{children:["",i.whtBalance.toLocaleString()]})]})}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{children:"Remittance Progress"}),r.jsx("span",{children:"92%"})]}),r.jsx(Ux,{value:92,className:"h-2"})]})]})]})]}),r.jsxs(Fe,{children:[r.jsx(qe,{children:r.jsx(He,{children:"Nigerian Tax Calendar"})}),r.jsx(Ue,{children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsx("h4",{className:"font-medium mb-2",children:"Monthly"}),r.jsxs("ul",{className:"text-sm space-y-1 text-muted-foreground",children:[r.jsx("li",{children:" WHT Remittance (10th)"}),r.jsx("li",{children:" PAYE Remittance (10th)"}),r.jsx("li",{children:" VAT Return (21st)"})]})]}),r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsx("h4",{className:"font-medium mb-2",children:"Quarterly"}),r.jsxs("ul",{className:"text-sm space-y-1 text-muted-foreground",children:[r.jsx("li",{children:" CIT Estimate (Jan 31)"}),r.jsx("li",{children:" Advance Tax Payment"}),r.jsx("li",{children:" TET Returns"})]})]}),r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsx("h4",{className:"font-medium mb-2",children:"Annually"}),r.jsxs("ul",{className:"text-sm space-y-1 text-muted-foreground",children:[r.jsx("li",{children:" Annual Tax Returns (Mar 31)"}),r.jsx("li",{children:" CIT Returns (Jun 30)"}),r.jsx("li",{children:" Tax Audit Reports"})]})]}),r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsx("h4",{className:"font-medium mb-2",children:"Special"}),r.jsxs("ul",{className:"text-sm space-y-1 text-muted-foreground",children:[r.jsx("li",{children:" Development Levy"}),r.jsx("li",{children:" Education Tax (2.5%)"}),r.jsx("li",{children:" NITDA Levy (1%)"})]})]})]})})]})]})]})]})}async function wN(){try{const{data:n,error:e}=await Ge.from("employees").select("*").order("created_at",{ascending:!1});if(e)throw e;return n||[]}catch(n){return console.error("Error fetching employees:",n),[]}}async function B1(){let n=0;const e=5;for(;n<e;){const t=Date.now(),s=Math.floor(Math.random()*1e3),i=`EMP${t.toString().slice(-6)}${s.toString().padStart(3,"0")}`,{data:o}=await Ge.from("employees").select("id").eq("employee_code",i).maybeSingle();if(!o)return i;n++}return`EMP-${crypto.randomUUID().substring(0,8)}`}async function gO(n){try{n.employee_code||(n.employee_code=await B1());const{data:e,error:t}=await Ge.from("employees").insert([n]).select().single();if(t){if(t.code==="23505"&&t.message.includes("employee_code")){n.employee_code=await B1();const{data:s,error:i}=await Ge.from("employees").insert([n]).select().single();if(i)throw i;return s}throw t}return e}catch(e){return console.error("Error creating employee:",e),null}}async function xO(){try{const{data:n,error:e}=await Ge.from("payroll_runs").select("*").order("payment_date",{ascending:!1});if(e)throw e;return n||[]}catch(n){return console.error("Error fetching payroll runs:",n),[]}}async function vO(n){const e=[];let t=0,s=0,i=0;return n.forEach(o=>{if(o.status==="active"&&o.salary){const c=o.salary,u=c*.3,d=0,h=c+u+d,p=h*.1,g=h*.05,w=p+g,x=h-w;e.push({payroll_run_id:"",employee_id:o.id,basic_salary:c,allowances:u,bonuses:d,gross_salary:h,tax_deduction:p,other_deductions:g,total_deductions:w,net_salary:x}),t+=h,s+=w,i+=x}}),{totalGross:t,totalDeductions:s,totalNet:i,items:e}}async function U1(){try{const e=(await wN()).filter(s=>s.status==="active"),t=await vO(e);return{totalEmployees:e.length,totalGrossSalary:t.totalGross,totalDeductions:t.totalDeductions,totalNetSalary:t.totalNet,pfContribution:t.totalGross*.12,esiContribution:t.totalGross*.0075,tdsDeducted:t.totalGross*.1}}catch(n){return console.error("Error getting payroll summary:",n),{totalEmployees:0,totalGrossSalary:0,totalDeductions:0,totalNetSalary:0,pfContribution:0,esiContribution:0,tdsDeducted:0}}}function yO(){const[n,e]=C.useState("employees"),[t,s]=C.useState([]),[i,o]=C.useState([]),[c,u]=C.useState(!0),[d,h]=C.useState(!1),[p,g]=C.useState(""),[w,x]=C.useState("all"),[S,_]=C.useState(!1),{currency:k}=fa(),[b,R]=C.useState({totalEmployees:0,totalGrossSalary:0,totalDeductions:0,totalNetSalary:0,pfContribution:0,esiContribution:0,tdsDeducted:0}),[P,T]=C.useState({first_name:"",last_name:"",employee_code:"",email:"",phone:"",designation:"",department:"",employment_type:"full-time",salary:0,date_of_joining:new Date().toISOString().split("T")[0]});C.useEffect(()=>{F()},[]);const F=async()=>{u(!0);try{const[q,L,z]=await Promise.all([wN(),U1(),xO()]);s(q),R(L),o(z)}catch(q){console.error("Error loading payroll data:",q),Le.error("Failed to load payroll data")}finally{u(!1)}},ne=async()=>{if(!P.first_name||!P.last_name||!P.salary){Le.error("Please fill in all required fields");return}h(!0);try{const q=await gO({...P,status:"active"});if(q){Le.success("Employee added successfully"),s([q,...t]);const L=await U1();R(L),T({first_name:"",last_name:"",employee_code:"",email:"",phone:"",designation:"",department:"",employment_type:"full-time",salary:0,date_of_joining:new Date().toISOString().split("T")[0]}),_(!1)}else Le.error("Failed to add employee")}catch(q){console.error("Error adding employee:",q),Le.error("An error occurred while adding employee")}finally{h(!1)}},ee=q=>{const L=q.salary||0,z=L*.3,U=L*.1,te=L+z+U,re=L*.12,ue=te*.0075,fe=te*.1,B=re+ue+fe,Z=te-B;return{baseSalary:L,hra:z,allowances:U,grossSalary:te,pf:re,esi:ue,tds:fe,totalDeductions:B,netSalary:Z}},K=t.filter(q=>{const L=p===""||q.first_name.toLowerCase().includes(p.toLowerCase())||q.last_name.toLowerCase().includes(p.toLowerCase())||q.employee_code?.toLowerCase().includes(p.toLowerCase())||q.email?.toLowerCase().includes(p.toLowerCase()),z=w==="all"||q.department?.toLowerCase()===w.toLowerCase();return L&&z}),Y=[{name:"PAYE Return",period:"January 2025",dueDate:"2025-02-10",status:"pending"},{name:"NSITF Contribution",period:"January 2025",dueDate:"2025-02-15",status:"pending"},{name:"Pension Contribution",period:"January 2025",dueDate:"2025-02-10",status:"pending"},{name:"NHF Deduction",period:"January 2025",dueDate:"2025-02-15",status:"pending"},{name:"ITF Contribution",period:"January 2025",dueDate:"2025-02-28",status:"pending"},{name:"Annual Tax Returns",period:"FY 2024",dueDate:"2025-03-31",status:"not-due"}];return c?r.jsx("div",{className:"flex items-center justify-center h-96",children:r.jsx(an,{className:"w-8 h-8 animate-spin text-muted-foreground"})}):r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{children:"Payroll Management"}),r.jsx("p",{className:"text-muted-foreground",children:"Manage employee salaries and statutory compliance"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(Ae,{variant:"outline",children:[r.jsx(ac,{className:"w-4 h-4 mr-2"}),"Salary Calculator"]}),r.jsxs(fl,{open:S,onOpenChange:_,children:[r.jsx(vc,{asChild:!0,children:r.jsxs(Ae,{children:[r.jsx(la,{className:"w-4 h-4 mr-2"}),"Add Employee"]})}),r.jsxs(bo,{"aria-describedby":"payroll-dialog-description",children:[r.jsxs(pl,{children:[r.jsx(jo,{children:"Add New Employee"}),r.jsx("p",{id:"payroll-dialog-description",className:"sr-only",children:"Add a new employee to the payroll system"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(Re,{htmlFor:"first_name",children:"First Name *"}),r.jsx(Ve,{id:"first_name",placeholder:"John",value:P.first_name,onChange:q=>T({...P,first_name:q.target.value})})]}),r.jsxs("div",{children:[r.jsx(Re,{htmlFor:"last_name",children:"Last Name *"}),r.jsx(Ve,{id:"last_name",placeholder:"Doe",value:P.last_name,onChange:q=>T({...P,last_name:q.target.value})})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(Re,{htmlFor:"email",children:"Email"}),r.jsx(Ve,{id:"email",type:"email",placeholder:"john@example.com",value:P.email,onChange:q=>T({...P,email:q.target.value})})]}),r.jsxs("div",{children:[r.jsx(Re,{htmlFor:"phone",children:"Phone"}),r.jsx(Ve,{id:"phone",placeholder:"+234 800 000 0000",value:P.phone,onChange:q=>T({...P,phone:q.target.value})})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(Re,{htmlFor:"designation",children:"Designation"}),r.jsx(Ve,{id:"designation",placeholder:"Software Engineer",value:P.designation,onChange:q=>T({...P,designation:q.target.value})})]}),r.jsxs("div",{children:[r.jsx(Re,{htmlFor:"department",children:"Department"}),r.jsxs(wr,{value:P.department,onValueChange:q=>T({...P,department:q}),children:[r.jsx(jr,{children:r.jsx(br,{placeholder:"Select department"})}),r.jsxs(Nr,{children:[r.jsx(Te,{value:"IT",children:"IT"}),r.jsx(Te,{value:"Marketing",children:"Marketing"}),r.jsx(Te,{value:"Finance",children:"Finance"}),r.jsx(Te,{value:"HR",children:"HR"}),r.jsx(Te,{value:"Sales",children:"Sales"}),r.jsx(Te,{value:"Support",children:"Support"}),r.jsx(Te,{value:"Operations",children:"Operations"})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(Re,{htmlFor:"employment_type",children:"Employment Type"}),r.jsxs(wr,{value:P.employment_type,onValueChange:q=>T({...P,employment_type:q}),children:[r.jsx(jr,{children:r.jsx(br,{placeholder:"Select type"})}),r.jsxs(Nr,{children:[r.jsx(Te,{value:"full-time",children:"Full-time"}),r.jsx(Te,{value:"part-time",children:"Part-time"}),r.jsx(Te,{value:"contract",children:"Contract"}),r.jsx(Te,{value:"intern",children:"Intern"})]})]})]}),r.jsxs("div",{children:[r.jsxs(Re,{htmlFor:"salary",children:["Base Salary * (",k,")"]}),r.jsx(Ve,{id:"salary",type:"number",placeholder:"50000",value:P.salary||"",onChange:q=>T({...P,salary:parseFloat(q.target.value)||0})})]})]}),r.jsxs("div",{children:[r.jsx(Re,{htmlFor:"date_of_joining",children:"Date of Joining"}),r.jsx(Ve,{id:"date_of_joining",type:"date",value:P.date_of_joining,onChange:q=>T({...P,date_of_joining:q.target.value})})]}),r.jsx(Ae,{className:"w-full",onClick:ne,disabled:d,children:d?r.jsxs(r.Fragment,{children:[r.jsx(an,{className:"w-4 h-4 mr-2 animate-spin"}),"Adding..."]}):"Add Employee"})]})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs(Fe,{children:[r.jsxs(qe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(He,{className:"text-sm font-medium",children:"Total Employees"}),r.jsx(vi,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsxs(Ue,{children:[r.jsx("div",{className:"text-2xl font-bold",children:b.totalEmployees}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Active employees"})]})]}),r.jsxs(Fe,{children:[r.jsxs(qe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(He,{className:"text-sm font-medium",children:"Gross Salary"}),r.jsx(da,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsxs(Ue,{children:[r.jsx("div",{className:"text-2xl font-bold",children:ot(b.totalGrossSalary,k)}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Monthly total"})]})]}),r.jsxs(Fe,{children:[r.jsxs(qe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(He,{className:"text-sm font-medium",children:"Total Deductions"}),r.jsx(vs,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsxs(Ue,{children:[r.jsx("div",{className:"text-2xl font-bold",children:ot(b.totalDeductions,k)}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"PF, ESI, TDS"})]})]}),r.jsxs(Fe,{children:[r.jsxs(qe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(He,{className:"text-sm font-medium",children:"Net Salary"}),r.jsx(da,{className:"h-4 w-4 text-green-500"})]}),r.jsxs(Ue,{children:[r.jsx("div",{className:"text-2xl font-bold text-green-500",children:ot(b.totalNetSalary,k)}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"After deductions"})]})]})]}),r.jsxs(pc,{value:n,onValueChange:e,children:[r.jsxs(mc,{className:"grid w-full grid-cols-4",children:[r.jsx(Ar,{value:"employees",children:"Employees"}),r.jsx(Ar,{value:"payroll",children:"Payroll Run"}),r.jsx(Ar,{value:"statutory",children:"Statutory Reports"}),r.jsx(Ar,{value:"history",children:"Payroll History"})]}),r.jsx(Er,{value:"employees",className:"space-y-4",children:r.jsxs(Fe,{children:[r.jsxs(qe,{children:[r.jsx(He,{children:"Employee Salary Details"}),r.jsxs("div",{className:"flex gap-4",children:[r.jsxs("div",{className:"relative flex-1 max-w-sm",children:[r.jsx(vu,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),r.jsx(Ve,{placeholder:"Search employees...",className:"pl-9",value:p,onChange:q=>g(q.target.value)})]}),r.jsxs(wr,{value:w,onValueChange:x,children:[r.jsx(jr,{className:"w-48",children:r.jsx(br,{placeholder:"Department"})}),r.jsxs(Nr,{children:[r.jsx(Te,{value:"all",children:"All Departments"}),r.jsx(Te,{value:"it",children:"IT"}),r.jsx(Te,{value:"marketing",children:"Marketing"}),r.jsx(Te,{value:"finance",children:"Finance"}),r.jsx(Te,{value:"hr",children:"HR"}),r.jsx(Te,{value:"sales",children:"Sales"}),r.jsx(Te,{value:"support",children:"Support"})]})]})]})]}),r.jsx(Ue,{children:K.length===0?r.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[r.jsx(vi,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),r.jsx("p",{children:"No employees found"}),r.jsx("p",{className:"text-sm",children:"Add your first employee to get started"})]}):r.jsxs(yi,{children:[r.jsx(wi,{children:r.jsxs(vr,{children:[r.jsx(Ze,{children:"Employee"}),r.jsx(Ze,{children:"Designation"}),r.jsx(Ze,{children:"Department"}),r.jsx(Ze,{className:"text-right",children:"Base Salary"}),r.jsx(Ze,{className:"text-right",children:"Gross Salary"}),r.jsx(Ze,{className:"text-right",children:"Deductions"}),r.jsx(Ze,{className:"text-right",children:"Net Salary"}),r.jsx(Ze,{children:"Status"})]})}),r.jsx(bi,{children:K.map(q=>{const L=ee(q);return r.jsxs(vr,{children:[r.jsx(Ye,{children:r.jsxs("div",{children:[r.jsxs("p",{className:"font-medium",children:[q.first_name," ",q.last_name]}),r.jsx("p",{className:"text-sm text-muted-foreground",children:q.employee_code})]})}),r.jsx(Ye,{children:q.designation||"-"}),r.jsx(Ye,{children:q.department||"-"}),r.jsx(Ye,{className:"text-right",children:ot(L.baseSalary,k)}),r.jsx(Ye,{className:"text-right",children:ot(L.grossSalary,k)}),r.jsx(Ye,{className:"text-right",children:ot(L.totalDeductions,k)}),r.jsx(Ye,{className:"text-right",children:ot(L.netSalary,k)}),r.jsx(Ye,{children:r.jsx(qt,{variant:q.status==="active"?"default":"secondary",children:q.status})})]},q.id)})})]})})]})}),r.jsx(Er,{value:"payroll",className:"space-y-4",children:r.jsxs(Fe,{children:[r.jsxs(qe,{children:[r.jsx(He,{children:"Process Payroll"}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Process salary for ",new Date().toLocaleDateString("en-US",{month:"long",year:"numeric"}),"  ",b.totalEmployees," employees"]})]}),r.jsxs(Ue,{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsx("h4",{className:"font-medium mb-2",children:"Salary Components"}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Total Basic"}),r.jsx("span",{children:ot(b.totalGrossSalary*.6,k)})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Total HRA"}),r.jsx("span",{children:ot(b.totalGrossSalary*.3,k)})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Total Allowances"}),r.jsx("span",{children:ot(b.totalGrossSalary*.1,k)})]}),r.jsx("div",{className:"border-t pt-2 font-medium",children:r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Gross Total"}),r.jsx("span",{children:ot(b.totalGrossSalary,k)})]})})]})]}),r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsx("h4",{className:"font-medium mb-2",children:"Deductions"}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"PF (Employee)"}),r.jsx("span",{children:ot(b.pfContribution/2,k)})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"ESI (Employee)"}),r.jsx("span",{children:ot(b.esiContribution/2,k)})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"TDS"}),r.jsx("span",{children:ot(b.tdsDeducted,k)})]}),r.jsx("div",{className:"border-t pt-2 font-medium",children:r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Total Deductions"}),r.jsx("span",{children:ot(b.totalDeductions,k)})]})})]})]}),r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsx("h4",{className:"font-medium mb-2",children:"Employer Contributions"}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"PF (Employer)"}),r.jsx("span",{children:ot(b.pfContribution/2,k)})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"ESI (Employer)"}),r.jsx("span",{children:ot(b.esiContribution/2,k)})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Professional Tax"}),r.jsx("span",{children:ot(b.totalGrossSalary*.02,k)})]}),r.jsx("div",{className:"border-t pt-2 font-medium",children:r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Total Contribution"}),r.jsx("span",{children:ot((b.pfContribution+b.esiContribution)/2+b.totalGrossSalary*.02,k)})]})})]})]})]}),r.jsxs("div",{className:"flex justify-between items-center p-4 bg-muted/50 rounded-lg",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:"Net Payable Amount"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Total amount to be transferred"})]}),r.jsx("div",{className:"text-right",children:r.jsx("p",{className:"text-2xl font-bold",children:ot(b.totalNetSalary,k)})})]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsx(Ae,{className:"flex-1",children:"Process Payroll"}),r.jsx(Ae,{variant:"outline",children:"Generate Payslips"}),r.jsxs(Ae,{variant:"outline",children:[r.jsx(Un,{className:"w-4 h-4 mr-2"}),"Export"]})]})]})]})}),r.jsx(Er,{value:"statutory",className:"space-y-4",children:r.jsxs(Fe,{children:[r.jsx(qe,{children:r.jsx(He,{children:"Statutory Compliance Reports"})}),r.jsx(Ue,{children:r.jsxs(yi,{children:[r.jsx(wi,{children:r.jsxs(vr,{children:[r.jsx(Ze,{children:"Report Type"}),r.jsx(Ze,{children:"Period"}),r.jsx(Ze,{children:"Due Date"}),r.jsx(Ze,{children:"Status"}),r.jsx(Ze,{children:"Actions"})]})}),r.jsx(bi,{children:Y.map((q,L)=>r.jsxs(vr,{children:[r.jsx(Ye,{className:"font-medium",children:q.name}),r.jsx(Ye,{children:q.period}),r.jsx(Ye,{children:q.dueDate}),r.jsx(Ye,{children:r.jsx(qt,{variant:q.status==="completed"?"default":q.status==="pending"?"secondary":"outline",children:q.status.replace("-"," ")})}),r.jsx(Ye,{children:r.jsxs("div",{className:"flex gap-2",children:[r.jsx(Ae,{variant:"ghost",size:"sm",children:r.jsx(Un,{className:"w-4 h-4"})}),q.status==="pending"&&r.jsx(Ae,{size:"sm",children:"Generate"})]})})]},L))})]})})]})}),r.jsx(Er,{value:"history",className:"space-y-4",children:r.jsxs(Fe,{children:[r.jsx(qe,{children:r.jsx(He,{children:"Payroll Processing History"})}),r.jsx(Ue,{children:i.length===0?r.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[r.jsx(Xp,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),r.jsx("p",{children:"No payroll history found"}),r.jsx("p",{className:"text-sm",children:"Process your first payroll to see history"})]}):r.jsxs(yi,{children:[r.jsx(wi,{children:r.jsxs(vr,{children:[r.jsx(Ze,{children:"Period"}),r.jsx(Ze,{children:"Payment Date"}),r.jsx(Ze,{className:"text-right",children:"Gross Salary"}),r.jsx(Ze,{className:"text-right",children:"Deductions"}),r.jsx(Ze,{className:"text-right",children:"Net Paid"}),r.jsx(Ze,{children:"Status"}),r.jsx(Ze,{children:"Actions"})]})}),r.jsx(bi,{children:i.map(q=>r.jsxs(vr,{children:[r.jsx(Ye,{className:"font-medium",children:q.payroll_period}),r.jsx(Ye,{children:new Date(q.payment_date).toLocaleDateString()}),r.jsx(Ye,{className:"text-right",children:ot(q.total_gross||0,k)}),r.jsx(Ye,{className:"text-right",children:ot(q.total_deductions||0,k)}),r.jsx(Ye,{className:"text-right",children:ot(q.total_net||0,k)}),r.jsx(Ye,{children:r.jsx(qt,{variant:q.status==="paid"?"default":q.status==="processed"?"secondary":"outline",children:q.status})}),r.jsx(Ye,{children:r.jsx(Ae,{variant:"ghost",size:"sm",children:r.jsx(Un,{className:"w-4 h-4"})})})]},q.id))})]})})]})})]})]})}const wO="modulepreload",bO=function(n){return"/"+n},$1={},zg=function(e,t,s){let i=Promise.resolve();if(t&&t.length>0){let c=function(h){return Promise.all(h.map(p=>Promise.resolve(p).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),d=u?.nonce||u?.getAttribute("nonce");i=c(t.map(h=>{if(h=bO(h),h in $1)return;$1[h]=!0;const p=h.endsWith(".css"),g=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${g}`))return;const w=document.createElement("link");if(w.rel=p?"stylesheet":wO,p||(w.as="script"),w.crossOrigin="",w.href=h,d&&w.setAttribute("nonce",d),document.head.appendChild(w),p)return new Promise((x,S)=>{w.addEventListener("load",x),w.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${h}`)))})}))}function o(c){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=c,window.dispatchEvent(u),!u.defaultPrevented)throw c}return i.then(c=>{for(const u of c||[])u.status==="rejected"&&o(u.reason);return e().catch(o)})};function Xr(n){"@babel/helpers - typeof";return Xr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xr(n)}var za=Uint8Array,zi=Uint16Array,J0=Int32Array,X0=new za([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Q0=new za([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),z1=new za([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),bN=function(n,e){for(var t=new zi(31),s=0;s<31;++s)t[s]=e+=1<<n[s-1];for(var i=new J0(t[30]),s=1;s<30;++s)for(var o=t[s];o<t[s+1];++o)i[o]=o-t[s]<<5|s;return{b:t,r:i}},jN=bN(X0,2),jO=jN.b,$x=jN.r;jO[28]=258,$x[258]=28;var NO=bN(Q0,0),q1=NO.r,zx=new zi(32768);for(var mn=0;mn<32768;++mn){var ec=(mn&43690)>>1|(mn&21845)<<1;ec=(ec&52428)>>2|(ec&13107)<<2,ec=(ec&61680)>>4|(ec&3855)<<4,zx[mn]=((ec&65280)>>8|(ec&255)<<8)>>1}var Ph=(function(n,e,t){for(var s=n.length,i=0,o=new zi(e);i<s;++i)n[i]&&++o[n[i]-1];var c=new zi(e);for(i=1;i<e;++i)c[i]=c[i-1]+o[i-1]<<1;var u;if(t){u=new zi(1<<e);var d=15-e;for(i=0;i<s;++i)if(n[i])for(var h=i<<4|n[i],p=e-n[i],g=c[n[i]-1]++<<p,w=g|(1<<p)-1;g<=w;++g)u[zx[g]>>d]=h}else for(u=new zi(s),i=0;i<s;++i)n[i]&&(u[i]=zx[c[n[i]-1]++]>>15-n[i]);return u}),gu=new za(288);for(var mn=0;mn<144;++mn)gu[mn]=8;for(var mn=144;mn<256;++mn)gu[mn]=9;for(var mn=256;mn<280;++mn)gu[mn]=7;for(var mn=280;mn<288;++mn)gu[mn]=8;var Vp=new za(32);for(var mn=0;mn<32;++mn)Vp[mn]=5;var _O=Ph(gu,9,0),SO=Ph(Vp,5,0),NN=function(n){return(n+7)/8|0},kO=function(n,e,t){return(t==null||t>n.length)&&(t=n.length),new za(n.subarray(e,t))},ol=function(n,e,t){t<<=e&7;var s=e/8|0;n[s]|=t,n[s+1]|=t>>8},bh=function(n,e,t){t<<=e&7;var s=e/8|0;n[s]|=t,n[s+1]|=t>>8,n[s+2]|=t>>16},qg=function(n,e){for(var t=[],s=0;s<n.length;++s)n[s]&&t.push({s,f:n[s]});var i=t.length,o=t.slice();if(!i)return{t:SN,l:0};if(i==1){var c=new za(t[0].s+1);return c[t[0].s]=1,{t:c,l:1}}t.sort(function(F,ne){return F.f-ne.f}),t.push({s:-1,f:25001});var u=t[0],d=t[1],h=0,p=1,g=2;for(t[0]={s:-1,f:u.f+d.f,l:u,r:d};p!=i-1;)u=t[t[h].f<t[g].f?h++:g++],d=t[h!=p&&t[h].f<t[g].f?h++:g++],t[p++]={s:-1,f:u.f+d.f,l:u,r:d};for(var w=o[0].s,s=1;s<i;++s)o[s].s>w&&(w=o[s].s);var x=new zi(w+1),S=qx(t[p-1],x,0);if(S>e){var s=0,_=0,k=S-e,b=1<<k;for(o.sort(function(ne,ee){return x[ee.s]-x[ne.s]||ne.f-ee.f});s<i;++s){var R=o[s].s;if(x[R]>e)_+=b-(1<<S-x[R]),x[R]=e;else break}for(_>>=k;_>0;){var P=o[s].s;x[P]<e?_-=1<<e-x[P]++-1:++s}for(;s>=0&&_;--s){var T=o[s].s;x[T]==e&&(--x[T],++_)}S=e}return{t:new za(x),l:S}},qx=function(n,e,t){return n.s==-1?Math.max(qx(n.l,e,t+1),qx(n.r,e,t+1)):e[n.s]=t},V1=function(n){for(var e=n.length;e&&!n[--e];);for(var t=new zi(++e),s=0,i=n[0],o=1,c=function(d){t[s++]=d},u=1;u<=e;++u)if(n[u]==i&&u!=e)++o;else{if(!i&&o>2){for(;o>138;o-=138)c(32754);o>2&&(c(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(c(i),--o;o>6;o-=6)c(8304);o>2&&(c(o-3<<5|8208),o=0)}for(;o--;)c(i);o=1,i=n[u]}return{c:t.subarray(0,s),n:e}},jh=function(n,e){for(var t=0,s=0;s<e.length;++s)t+=n[s]*e[s];return t},_N=function(n,e,t){var s=t.length,i=NN(e+2);n[i]=s&255,n[i+1]=s>>8,n[i+2]=n[i]^255,n[i+3]=n[i+1]^255;for(var o=0;o<s;++o)n[i+o+4]=t[o];return(i+4+s)*8},H1=function(n,e,t,s,i,o,c,u,d,h,p){ol(e,p++,t),++i[256];for(var g=qg(i,15),w=g.t,x=g.l,S=qg(o,15),_=S.t,k=S.l,b=V1(w),R=b.c,P=b.n,T=V1(_),F=T.c,ne=T.n,ee=new zi(19),K=0;K<R.length;++K)++ee[R[K]&31];for(var K=0;K<F.length;++K)++ee[F[K]&31];for(var Y=qg(ee,7),q=Y.t,L=Y.l,z=19;z>4&&!q[z1[z-1]];--z);var U=h+5<<3,te=jh(i,gu)+jh(o,Vp)+c,re=jh(i,w)+jh(o,_)+c+14+3*z+jh(ee,q)+2*ee[16]+3*ee[17]+7*ee[18];if(d>=0&&U<=te&&U<=re)return _N(e,p,n.subarray(d,d+h));var ue,fe,B,Z;if(ol(e,p,1+(re<te)),p+=2,re<te){ue=Ph(w,x,0),fe=w,B=Ph(_,k,0),Z=_;var me=Ph(q,L,0);ol(e,p,P-257),ol(e,p+5,ne-1),ol(e,p+10,z-4),p+=14;for(var K=0;K<z;++K)ol(e,p+3*K,q[z1[K]]);p+=3*z;for(var H=[R,F],O=0;O<2;++O)for(var V=H[O],K=0;K<V.length;++K){var X=V[K]&31;ol(e,p,me[X]),p+=q[X],X>15&&(ol(e,p,V[K]>>5&127),p+=V[K]>>12)}}else ue=_O,fe=gu,B=SO,Z=Vp;for(var K=0;K<u;++K){var se=s[K];if(se>255){var X=se>>18&31;bh(e,p,ue[X+257]),p+=fe[X+257],X>7&&(ol(e,p,se>>23&31),p+=X0[X]);var de=se&31;bh(e,p,B[de]),p+=Z[de],de>3&&(bh(e,p,se>>5&8191),p+=Q0[de])}else bh(e,p,ue[se]),p+=fe[se]}return bh(e,p,ue[256]),p+fe[256]},CO=new J0([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),SN=new za(0),AO=function(n,e,t,s,i,o){var c=o.z||n.length,u=new za(s+c+5*(1+Math.ceil(c/7e3))+i),d=u.subarray(s,u.length-i),h=o.l,p=(o.r||0)&7;if(e){p&&(d[0]=o.r>>3);for(var g=CO[e-1],w=g>>13,x=g&8191,S=(1<<t)-1,_=o.p||new zi(32768),k=o.h||new zi(S+1),b=Math.ceil(t/3),R=2*b,P=function(ut){return(n[ut]^n[ut+1]<<b^n[ut+2]<<R)&S},T=new J0(25e3),F=new zi(288),ne=new zi(32),ee=0,K=0,Y=o.i||0,q=0,L=o.w||0,z=0;Y+2<c;++Y){var U=P(Y),te=Y&32767,re=k[U];if(_[te]=re,k[U]=te,L<=Y){var ue=c-Y;if((ee>7e3||q>24576)&&(ue>423||!h)){p=H1(n,d,0,T,F,ne,K,q,z,Y-z,p),q=ee=K=0,z=Y;for(var fe=0;fe<286;++fe)F[fe]=0;for(var fe=0;fe<30;++fe)ne[fe]=0}var B=2,Z=0,me=x,H=te-re&32767;if(ue>2&&U==P(Y-H))for(var O=Math.min(w,ue)-1,V=Math.min(32767,Y),X=Math.min(258,ue);H<=V&&--me&&te!=re;){if(n[Y+B]==n[Y+B-H]){for(var se=0;se<X&&n[Y+se]==n[Y+se-H];++se);if(se>B){if(B=se,Z=H,se>O)break;for(var de=Math.min(H,se-2),le=0,fe=0;fe<de;++fe){var ge=Y-H+fe&32767,be=_[ge],Se=ge-be&32767;Se>le&&(le=Se,re=ge)}}}te=re,re=_[te],H+=te-re&32767}if(Z){T[q++]=268435456|$x[B]<<18|q1[Z];var De=$x[B]&31,Je=q1[Z]&31;K+=X0[De]+Q0[Je],++F[257+De],++ne[Je],L=Y+B,++ee}else T[q++]=n[Y],++F[n[Y]]}}for(Y=Math.max(Y,L);Y<c;++Y)T[q++]=n[Y],++F[n[Y]];p=H1(n,d,h,T,F,ne,K,q,z,Y-z,p),h||(o.r=p&7|d[p/8|0]<<3,p-=7,o.h=k,o.p=_,o.i=Y,o.w=L)}else{for(var Y=o.w||0;Y<c+h;Y+=65535){var tt=Y+65535;tt>=c&&(d[p/8|0]=h,tt=c),p=_N(d,p+1,n.subarray(Y,tt))}o.i=c}return kO(u,0,s+NN(p)+i)},kN=function(){var n=1,e=0;return{p:function(t){for(var s=n,i=e,o=t.length|0,c=0;c!=o;){for(var u=Math.min(c+2655,o);c<u;++c)i+=s+=t[c];s=(s&65535)+15*(s>>16),i=(i&65535)+15*(i>>16)}n=s,e=i},d:function(){return n%=65521,e%=65521,(n&255)<<24|(n&65280)<<8|(e&255)<<8|e>>8}}},EO=function(n,e,t,s,i){if(!i&&(i={l:1},e.dictionary)){var o=e.dictionary.subarray(-32768),c=new za(o.length+n.length);c.set(o),c.set(n,o.length),n=c,i.w=o.length}return AO(n,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+e.mem,t,s,i)},CN=function(n,e,t){for(;t;++e)n[e]=t,t>>>=8},PO=function(n,e){var t=e.level,s=t==0?0:t<6?1:t==9?3:2;if(n[0]=120,n[1]=s<<6|(e.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,e.dictionary){var i=kN();i.p(e.dictionary),CN(n,2,i.d())}};function Vx(n,e){e||(e={});var t=kN();t.p(n);var s=EO(n,e,e.dictionary?6:2,4);return PO(s,e),CN(s,s.length-4,t.d()),s}var TO=typeof TextDecoder<"u"&&new TextDecoder,LO=0;try{TO.decode(SN,{stream:!0}),LO=1}catch{}function IO(n){if(Array.isArray(n))return n}function RO(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var s,i,o,c,u=[],d=!0,h=!1;try{if(o=(t=t.call(n)).next,e!==0)for(;!(d=(s=o.call(t)).done)&&(u.push(s.value),u.length!==e);d=!0);}catch(p){h=!0,i=p}finally{try{if(!d&&t.return!=null&&(c=t.return(),Object(c)!==c))return}finally{if(h)throw i}}return u}}function W1(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,s=Array(e);t<e;t++)s[t]=n[t];return s}function OO(n,e){if(n){if(typeof n=="string")return W1(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?W1(n,e):void 0}}function DO(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function G1(n,e){return IO(n)||RO(n,e)||OO(n,e)||DO()}function K1(n,e="utf8"){return new TextDecoder(e).decode(n)}const MO=new TextEncoder;function FO(n){return MO.encode(n)}const BO=1024*8,UO=(()=>{const n=new Uint8Array(4),e=new Uint32Array(n.buffer);return!((e[0]=1)&n[0])})(),Vg={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class Z0{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=BO,t={}){let s=!1;typeof e=="number"?e=new ArrayBuffer(e):(s=!0,this.lastWrittenByte=e.byteLength);const i=t.offset?t.offset>>>0:0,o=e.byteLength-i;let c=i;(ArrayBuffer.isView(e)||e instanceof Z0)&&(e.byteLength!==e.buffer.byteLength&&(c=e.byteOffset+i),e=e.buffer),s?this.lastWrittenByte=o:this.lastWrittenByte=0,this.buffer=e,this.length=o,this.byteLength=o,this.byteOffset=c,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,c,o),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const s=(this.offset+e)*2,i=new Uint8Array(s);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=s,this.byteLength=s,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,t){const s=Vg[t].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,o=this.buffer.slice(i,i+s);if(this.littleEndian===UO&&t!=="uint8"&&t!=="int8"){const u=new Uint8Array(this.buffer.slice(i,i+s));u.reverse();const d=new Vg[t](u.buffer);return this.offset+=s,d.reverse(),d}const c=new Vg[t](o);return this.offset+=s,c}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let t="";for(let s=0;s<e;s++)t+=this.readChar();return t}readUtf8(e=1){return K1(this.readBytes(e))}decodeText(e=1,t="utf8"){return K1(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes(FO(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Hd(n){let e=n.length;for(;--e>=0;)n[e]=0}const $O=3,zO=258,AN=29,qO=256,VO=qO+1+AN,EN=30,HO=512,WO=new Array((VO+2)*2);Hd(WO);const GO=new Array(EN*2);Hd(GO);const KO=new Array(HO);Hd(KO);const YO=new Array(zO-$O+1);Hd(YO);const JO=new Array(AN);Hd(JO);const XO=new Array(EN);Hd(XO);const QO=(n,e,t,s)=>{let i=n&65535|0,o=n>>>16&65535|0,c=0;for(;t!==0;){c=t>2e3?2e3:t,t-=c;do i=i+e[s++]|0,o=o+i|0;while(--c);i%=65521,o%=65521}return i|o<<16|0};var Hx=QO;const ZO=()=>{let n,e=[];for(var t=0;t<256;t++){n=t;for(var s=0;s<8;s++)n=n&1?3988292384^n>>>1:n>>>1;e[t]=n}return e},e7=new Uint32Array(ZO()),t7=(n,e,t,s)=>{const i=e7,o=s+t;n^=-1;for(let c=s;c<o;c++)n=n>>>8^i[(n^e[c])&255];return n^-1};var po=t7,Wx={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},PN={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const r7=(n,e)=>Object.prototype.hasOwnProperty.call(n,e);var n7=function(n){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const t=e.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const s in t)r7(t,s)&&(n[s]=t[s])}}return n},s7=n=>{let e=0;for(let s=0,i=n.length;s<i;s++)e+=n[s].length;const t=new Uint8Array(e);for(let s=0,i=0,o=n.length;s<o;s++){let c=n[s];t.set(c,i),i+=c.length}return t},TN={assign:n7,flattenChunks:s7};let LN=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{LN=!1}const Vh=new Uint8Array(256);for(let n=0;n<256;n++)Vh[n]=n>=252?6:n>=248?5:n>=240?4:n>=224?3:n>=192?2:1;Vh[254]=Vh[254]=1;var i7=n=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(n);let e,t,s,i,o,c=n.length,u=0;for(i=0;i<c;i++)t=n.charCodeAt(i),(t&64512)===55296&&i+1<c&&(s=n.charCodeAt(i+1),(s&64512)===56320&&(t=65536+(t-55296<<10)+(s-56320),i++)),u+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(u),o=0,i=0;o<u;i++)t=n.charCodeAt(i),(t&64512)===55296&&i+1<c&&(s=n.charCodeAt(i+1),(s&64512)===56320&&(t=65536+(t-55296<<10)+(s-56320),i++)),t<128?e[o++]=t:t<2048?(e[o++]=192|t>>>6,e[o++]=128|t&63):t<65536?(e[o++]=224|t>>>12,e[o++]=128|t>>>6&63,e[o++]=128|t&63):(e[o++]=240|t>>>18,e[o++]=128|t>>>12&63,e[o++]=128|t>>>6&63,e[o++]=128|t&63);return e};const a7=(n,e)=>{if(e<65534&&n.subarray&&LN)return String.fromCharCode.apply(null,n.length===e?n:n.subarray(0,e));let t="";for(let s=0;s<e;s++)t+=String.fromCharCode(n[s]);return t};var o7=(n,e)=>{const t=e||n.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(n.subarray(0,e));let s,i;const o=new Array(t*2);for(i=0,s=0;s<t;){let c=n[s++];if(c<128){o[i++]=c;continue}let u=Vh[c];if(u>4){o[i++]=65533,s+=u-1;continue}for(c&=u===2?31:u===3?15:7;u>1&&s<t;)c=c<<6|n[s++]&63,u--;if(u>1){o[i++]=65533;continue}c<65536?o[i++]=c:(c-=65536,o[i++]=55296|c>>10&1023,o[i++]=56320|c&1023)}return a7(o,i)},l7=(n,e)=>{e=e||n.length,e>n.length&&(e=n.length);let t=e-1;for(;t>=0&&(n[t]&192)===128;)t--;return t<0||t===0?e:t+Vh[n[t]]>e?t:e},Gx={string2buf:i7,buf2string:o7,utf8border:l7};function c7(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var u7=c7;const ap=16209,d7=16191;var h7=function(e,t){let s,i,o,c,u,d,h,p,g,w,x,S,_,k,b,R,P,T,F,ne,ee,K,Y,q;const L=e.state;s=e.next_in,Y=e.input,i=s+(e.avail_in-5),o=e.next_out,q=e.output,c=o-(t-e.avail_out),u=o+(e.avail_out-257),d=L.dmax,h=L.wsize,p=L.whave,g=L.wnext,w=L.window,x=L.hold,S=L.bits,_=L.lencode,k=L.distcode,b=(1<<L.lenbits)-1,R=(1<<L.distbits)-1;e:do{S<15&&(x+=Y[s++]<<S,S+=8,x+=Y[s++]<<S,S+=8),P=_[x&b];t:for(;;){if(T=P>>>24,x>>>=T,S-=T,T=P>>>16&255,T===0)q[o++]=P&65535;else if(T&16){F=P&65535,T&=15,T&&(S<T&&(x+=Y[s++]<<S,S+=8),F+=x&(1<<T)-1,x>>>=T,S-=T),S<15&&(x+=Y[s++]<<S,S+=8,x+=Y[s++]<<S,S+=8),P=k[x&R];r:for(;;){if(T=P>>>24,x>>>=T,S-=T,T=P>>>16&255,T&16){if(ne=P&65535,T&=15,S<T&&(x+=Y[s++]<<S,S+=8,S<T&&(x+=Y[s++]<<S,S+=8)),ne+=x&(1<<T)-1,ne>d){e.msg="invalid distance too far back",L.mode=ap;break e}if(x>>>=T,S-=T,T=o-c,ne>T){if(T=ne-T,T>p&&L.sane){e.msg="invalid distance too far back",L.mode=ap;break e}if(ee=0,K=w,g===0){if(ee+=h-T,T<F){F-=T;do q[o++]=w[ee++];while(--T);ee=o-ne,K=q}}else if(g<T){if(ee+=h+g-T,T-=g,T<F){F-=T;do q[o++]=w[ee++];while(--T);if(ee=0,g<F){T=g,F-=T;do q[o++]=w[ee++];while(--T);ee=o-ne,K=q}}}else if(ee+=g-T,T<F){F-=T;do q[o++]=w[ee++];while(--T);ee=o-ne,K=q}for(;F>2;)q[o++]=K[ee++],q[o++]=K[ee++],q[o++]=K[ee++],F-=3;F&&(q[o++]=K[ee++],F>1&&(q[o++]=K[ee++]))}else{ee=o-ne;do q[o++]=q[ee++],q[o++]=q[ee++],q[o++]=q[ee++],F-=3;while(F>2);F&&(q[o++]=q[ee++],F>1&&(q[o++]=q[ee++]))}}else if((T&64)===0){P=k[(P&65535)+(x&(1<<T)-1)];continue r}else{e.msg="invalid distance code",L.mode=ap;break e}break}}else if((T&64)===0){P=_[(P&65535)+(x&(1<<T)-1)];continue t}else if(T&32){L.mode=d7;break e}else{e.msg="invalid literal/length code",L.mode=ap;break e}break}}while(s<i&&o<u);F=S>>3,s-=F,S-=F<<3,x&=(1<<S)-1,e.next_in=s,e.next_out=o,e.avail_in=s<i?5+(i-s):5-(s-i),e.avail_out=o<u?257+(u-o):257-(o-u),L.hold=x,L.bits=S};const dd=15,Y1=852,J1=592,X1=0,Hg=1,Q1=2,f7=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),p7=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),m7=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),g7=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),x7=(n,e,t,s,i,o,c,u)=>{const d=u.bits;let h=0,p=0,g=0,w=0,x=0,S=0,_=0,k=0,b=0,R=0,P,T,F,ne,ee,K=null,Y;const q=new Uint16Array(dd+1),L=new Uint16Array(dd+1);let z=null,U,te,re;for(h=0;h<=dd;h++)q[h]=0;for(p=0;p<s;p++)q[e[t+p]]++;for(x=d,w=dd;w>=1&&q[w]===0;w--);if(x>w&&(x=w),w===0)return i[o++]=1<<24|64<<16|0,i[o++]=1<<24|64<<16|0,u.bits=1,0;for(g=1;g<w&&q[g]===0;g++);for(x<g&&(x=g),k=1,h=1;h<=dd;h++)if(k<<=1,k-=q[h],k<0)return-1;if(k>0&&(n===X1||w!==1))return-1;for(L[1]=0,h=1;h<dd;h++)L[h+1]=L[h]+q[h];for(p=0;p<s;p++)e[t+p]!==0&&(c[L[e[t+p]]++]=p);if(n===X1?(K=z=c,Y=20):n===Hg?(K=f7,z=p7,Y=257):(K=m7,z=g7,Y=0),R=0,p=0,h=g,ee=o,S=x,_=0,F=-1,b=1<<x,ne=b-1,n===Hg&&b>Y1||n===Q1&&b>J1)return 1;for(;;){U=h-_,c[p]+1<Y?(te=0,re=c[p]):c[p]>=Y?(te=z[c[p]-Y],re=K[c[p]-Y]):(te=96,re=0),P=1<<h-_,T=1<<S,g=T;do T-=P,i[ee+(R>>_)+T]=U<<24|te<<16|re|0;while(T!==0);for(P=1<<h-1;R&P;)P>>=1;if(P!==0?(R&=P-1,R+=P):R=0,p++,--q[h]===0){if(h===w)break;h=e[t+c[p]]}if(h>x&&(R&ne)!==F){for(_===0&&(_=x),ee+=g,S=h-_,k=1<<S;S+_<w&&(k-=q[S+_],!(k<=0));)S++,k<<=1;if(b+=1<<S,n===Hg&&b>Y1||n===Q1&&b>J1)return 1;F=R&ne,i[F]=x<<24|S<<16|ee-o|0}}return R!==0&&(i[ee+R]=h-_<<24|64<<16|0),u.bits=x,0};var Th=x7;const v7=0,IN=1,RN=2,{Z_FINISH:Z1,Z_BLOCK:y7,Z_TREES:op,Z_OK:xu,Z_STREAM_END:w7,Z_NEED_DICT:b7,Z_STREAM_ERROR:ha,Z_DATA_ERROR:ON,Z_MEM_ERROR:DN,Z_BUF_ERROR:j7,Z_DEFLATED:e2}=PN,km=16180,t2=16181,r2=16182,n2=16183,s2=16184,i2=16185,a2=16186,o2=16187,l2=16188,c2=16189,Hp=16190,ll=16191,Wg=16192,u2=16193,Gg=16194,d2=16195,h2=16196,f2=16197,p2=16198,lp=16199,cp=16200,m2=16201,g2=16202,x2=16203,v2=16204,y2=16205,Kg=16206,w2=16207,b2=16208,bn=16209,MN=16210,FN=16211,N7=852,_7=592,S7=15,k7=S7,j2=n=>(n>>>24&255)+(n>>>8&65280)+((n&65280)<<8)+((n&255)<<24);function C7(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const _u=n=>{if(!n)return 1;const e=n.state;return!e||e.strm!==n||e.mode<km||e.mode>FN?1:0},BN=n=>{if(_u(n))return ha;const e=n.state;return n.total_in=n.total_out=e.total=0,n.msg="",e.wrap&&(n.adler=e.wrap&1),e.mode=km,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(N7),e.distcode=e.distdyn=new Int32Array(_7),e.sane=1,e.back=-1,xu},UN=n=>{if(_u(n))return ha;const e=n.state;return e.wsize=0,e.whave=0,e.wnext=0,BN(n)},$N=(n,e)=>{let t;if(_u(n))return ha;const s=n.state;return e<0?(t=0,e=-e):(t=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?ha:(s.window!==null&&s.wbits!==e&&(s.window=null),s.wrap=t,s.wbits=e,UN(n))},zN=(n,e)=>{if(!n)return ha;const t=new C7;n.state=t,t.strm=n,t.window=null,t.mode=km;const s=$N(n,e);return s!==xu&&(n.state=null),s},A7=n=>zN(n,k7);let N2=!0,Yg,Jg;const E7=n=>{if(N2){Yg=new Int32Array(512),Jg=new Int32Array(32);let e=0;for(;e<144;)n.lens[e++]=8;for(;e<256;)n.lens[e++]=9;for(;e<280;)n.lens[e++]=7;for(;e<288;)n.lens[e++]=8;for(Th(IN,n.lens,0,288,Yg,0,n.work,{bits:9}),e=0;e<32;)n.lens[e++]=5;Th(RN,n.lens,0,32,Jg,0,n.work,{bits:5}),N2=!1}n.lencode=Yg,n.lenbits=9,n.distcode=Jg,n.distbits=5},qN=(n,e,t,s)=>{let i;const o=n.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),s>=o.wsize?(o.window.set(e.subarray(t-o.wsize,t),0),o.wnext=0,o.whave=o.wsize):(i=o.wsize-o.wnext,i>s&&(i=s),o.window.set(e.subarray(t-s,t-s+i),o.wnext),s-=i,s?(o.window.set(e.subarray(t-s,t),0),o.wnext=s,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0},P7=(n,e)=>{let t,s,i,o,c,u,d,h,p,g,w,x,S,_,k=0,b,R,P,T,F,ne,ee,K;const Y=new Uint8Array(4);let q,L;const z=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(_u(n)||!n.output||!n.input&&n.avail_in!==0)return ha;t=n.state,t.mode===ll&&(t.mode=Wg),c=n.next_out,i=n.output,d=n.avail_out,o=n.next_in,s=n.input,u=n.avail_in,h=t.hold,p=t.bits,g=u,w=d,K=xu;e:for(;;)switch(t.mode){case km:if(t.wrap===0){t.mode=Wg;break}for(;p<16;){if(u===0)break e;u--,h+=s[o++]<<p,p+=8}if(t.wrap&2&&h===35615){t.wbits===0&&(t.wbits=15),t.check=0,Y[0]=h&255,Y[1]=h>>>8&255,t.check=po(t.check,Y,2,0),h=0,p=0,t.mode=t2;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((h&255)<<8)+(h>>8))%31){n.msg="incorrect header check",t.mode=bn;break}if((h&15)!==e2){n.msg="unknown compression method",t.mode=bn;break}if(h>>>=4,p-=4,ee=(h&15)+8,t.wbits===0&&(t.wbits=ee),ee>15||ee>t.wbits){n.msg="invalid window size",t.mode=bn;break}t.dmax=1<<t.wbits,t.flags=0,n.adler=t.check=1,t.mode=h&512?c2:ll,h=0,p=0;break;case t2:for(;p<16;){if(u===0)break e;u--,h+=s[o++]<<p,p+=8}if(t.flags=h,(t.flags&255)!==e2){n.msg="unknown compression method",t.mode=bn;break}if(t.flags&57344){n.msg="unknown header flags set",t.mode=bn;break}t.head&&(t.head.text=h>>8&1),t.flags&512&&t.wrap&4&&(Y[0]=h&255,Y[1]=h>>>8&255,t.check=po(t.check,Y,2,0)),h=0,p=0,t.mode=r2;case r2:for(;p<32;){if(u===0)break e;u--,h+=s[o++]<<p,p+=8}t.head&&(t.head.time=h),t.flags&512&&t.wrap&4&&(Y[0]=h&255,Y[1]=h>>>8&255,Y[2]=h>>>16&255,Y[3]=h>>>24&255,t.check=po(t.check,Y,4,0)),h=0,p=0,t.mode=n2;case n2:for(;p<16;){if(u===0)break e;u--,h+=s[o++]<<p,p+=8}t.head&&(t.head.xflags=h&255,t.head.os=h>>8),t.flags&512&&t.wrap&4&&(Y[0]=h&255,Y[1]=h>>>8&255,t.check=po(t.check,Y,2,0)),h=0,p=0,t.mode=s2;case s2:if(t.flags&1024){for(;p<16;){if(u===0)break e;u--,h+=s[o++]<<p,p+=8}t.length=h,t.head&&(t.head.extra_len=h),t.flags&512&&t.wrap&4&&(Y[0]=h&255,Y[1]=h>>>8&255,t.check=po(t.check,Y,2,0)),h=0,p=0}else t.head&&(t.head.extra=null);t.mode=i2;case i2:if(t.flags&1024&&(x=t.length,x>u&&(x=u),x&&(t.head&&(ee=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(s.subarray(o,o+x),ee)),t.flags&512&&t.wrap&4&&(t.check=po(t.check,s,x,o)),u-=x,o+=x,t.length-=x),t.length))break e;t.length=0,t.mode=a2;case a2:if(t.flags&2048){if(u===0)break e;x=0;do ee=s[o+x++],t.head&&ee&&t.length<65536&&(t.head.name+=String.fromCharCode(ee));while(ee&&x<u);if(t.flags&512&&t.wrap&4&&(t.check=po(t.check,s,x,o)),u-=x,o+=x,ee)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=o2;case o2:if(t.flags&4096){if(u===0)break e;x=0;do ee=s[o+x++],t.head&&ee&&t.length<65536&&(t.head.comment+=String.fromCharCode(ee));while(ee&&x<u);if(t.flags&512&&t.wrap&4&&(t.check=po(t.check,s,x,o)),u-=x,o+=x,ee)break e}else t.head&&(t.head.comment=null);t.mode=l2;case l2:if(t.flags&512){for(;p<16;){if(u===0)break e;u--,h+=s[o++]<<p,p+=8}if(t.wrap&4&&h!==(t.check&65535)){n.msg="header crc mismatch",t.mode=bn;break}h=0,p=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),n.adler=t.check=0,t.mode=ll;break;case c2:for(;p<32;){if(u===0)break e;u--,h+=s[o++]<<p,p+=8}n.adler=t.check=j2(h),h=0,p=0,t.mode=Hp;case Hp:if(t.havedict===0)return n.next_out=c,n.avail_out=d,n.next_in=o,n.avail_in=u,t.hold=h,t.bits=p,b7;n.adler=t.check=1,t.mode=ll;case ll:if(e===y7||e===op)break e;case Wg:if(t.last){h>>>=p&7,p-=p&7,t.mode=Kg;break}for(;p<3;){if(u===0)break e;u--,h+=s[o++]<<p,p+=8}switch(t.last=h&1,h>>>=1,p-=1,h&3){case 0:t.mode=u2;break;case 1:if(E7(t),t.mode=lp,e===op){h>>>=2,p-=2;break e}break;case 2:t.mode=h2;break;case 3:n.msg="invalid block type",t.mode=bn}h>>>=2,p-=2;break;case u2:for(h>>>=p&7,p-=p&7;p<32;){if(u===0)break e;u--,h+=s[o++]<<p,p+=8}if((h&65535)!==(h>>>16^65535)){n.msg="invalid stored block lengths",t.mode=bn;break}if(t.length=h&65535,h=0,p=0,t.mode=Gg,e===op)break e;case Gg:t.mode=d2;case d2:if(x=t.length,x){if(x>u&&(x=u),x>d&&(x=d),x===0)break e;i.set(s.subarray(o,o+x),c),u-=x,o+=x,d-=x,c+=x,t.length-=x;break}t.mode=ll;break;case h2:for(;p<14;){if(u===0)break e;u--,h+=s[o++]<<p,p+=8}if(t.nlen=(h&31)+257,h>>>=5,p-=5,t.ndist=(h&31)+1,h>>>=5,p-=5,t.ncode=(h&15)+4,h>>>=4,p-=4,t.nlen>286||t.ndist>30){n.msg="too many length or distance symbols",t.mode=bn;break}t.have=0,t.mode=f2;case f2:for(;t.have<t.ncode;){for(;p<3;){if(u===0)break e;u--,h+=s[o++]<<p,p+=8}t.lens[z[t.have++]]=h&7,h>>>=3,p-=3}for(;t.have<19;)t.lens[z[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,q={bits:t.lenbits},K=Th(v7,t.lens,0,19,t.lencode,0,t.work,q),t.lenbits=q.bits,K){n.msg="invalid code lengths set",t.mode=bn;break}t.have=0,t.mode=p2;case p2:for(;t.have<t.nlen+t.ndist;){for(;k=t.lencode[h&(1<<t.lenbits)-1],b=k>>>24,R=k>>>16&255,P=k&65535,!(b<=p);){if(u===0)break e;u--,h+=s[o++]<<p,p+=8}if(P<16)h>>>=b,p-=b,t.lens[t.have++]=P;else{if(P===16){for(L=b+2;p<L;){if(u===0)break e;u--,h+=s[o++]<<p,p+=8}if(h>>>=b,p-=b,t.have===0){n.msg="invalid bit length repeat",t.mode=bn;break}ee=t.lens[t.have-1],x=3+(h&3),h>>>=2,p-=2}else if(P===17){for(L=b+3;p<L;){if(u===0)break e;u--,h+=s[o++]<<p,p+=8}h>>>=b,p-=b,ee=0,x=3+(h&7),h>>>=3,p-=3}else{for(L=b+7;p<L;){if(u===0)break e;u--,h+=s[o++]<<p,p+=8}h>>>=b,p-=b,ee=0,x=11+(h&127),h>>>=7,p-=7}if(t.have+x>t.nlen+t.ndist){n.msg="invalid bit length repeat",t.mode=bn;break}for(;x--;)t.lens[t.have++]=ee}}if(t.mode===bn)break;if(t.lens[256]===0){n.msg="invalid code -- missing end-of-block",t.mode=bn;break}if(t.lenbits=9,q={bits:t.lenbits},K=Th(IN,t.lens,0,t.nlen,t.lencode,0,t.work,q),t.lenbits=q.bits,K){n.msg="invalid literal/lengths set",t.mode=bn;break}if(t.distbits=6,t.distcode=t.distdyn,q={bits:t.distbits},K=Th(RN,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,q),t.distbits=q.bits,K){n.msg="invalid distances set",t.mode=bn;break}if(t.mode=lp,e===op)break e;case lp:t.mode=cp;case cp:if(u>=6&&d>=258){n.next_out=c,n.avail_out=d,n.next_in=o,n.avail_in=u,t.hold=h,t.bits=p,h7(n,w),c=n.next_out,i=n.output,d=n.avail_out,o=n.next_in,s=n.input,u=n.avail_in,h=t.hold,p=t.bits,t.mode===ll&&(t.back=-1);break}for(t.back=0;k=t.lencode[h&(1<<t.lenbits)-1],b=k>>>24,R=k>>>16&255,P=k&65535,!(b<=p);){if(u===0)break e;u--,h+=s[o++]<<p,p+=8}if(R&&(R&240)===0){for(T=b,F=R,ne=P;k=t.lencode[ne+((h&(1<<T+F)-1)>>T)],b=k>>>24,R=k>>>16&255,P=k&65535,!(T+b<=p);){if(u===0)break e;u--,h+=s[o++]<<p,p+=8}h>>>=T,p-=T,t.back+=T}if(h>>>=b,p-=b,t.back+=b,t.length=P,R===0){t.mode=y2;break}if(R&32){t.back=-1,t.mode=ll;break}if(R&64){n.msg="invalid literal/length code",t.mode=bn;break}t.extra=R&15,t.mode=m2;case m2:if(t.extra){for(L=t.extra;p<L;){if(u===0)break e;u--,h+=s[o++]<<p,p+=8}t.length+=h&(1<<t.extra)-1,h>>>=t.extra,p-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=g2;case g2:for(;k=t.distcode[h&(1<<t.distbits)-1],b=k>>>24,R=k>>>16&255,P=k&65535,!(b<=p);){if(u===0)break e;u--,h+=s[o++]<<p,p+=8}if((R&240)===0){for(T=b,F=R,ne=P;k=t.distcode[ne+((h&(1<<T+F)-1)>>T)],b=k>>>24,R=k>>>16&255,P=k&65535,!(T+b<=p);){if(u===0)break e;u--,h+=s[o++]<<p,p+=8}h>>>=T,p-=T,t.back+=T}if(h>>>=b,p-=b,t.back+=b,R&64){n.msg="invalid distance code",t.mode=bn;break}t.offset=P,t.extra=R&15,t.mode=x2;case x2:if(t.extra){for(L=t.extra;p<L;){if(u===0)break e;u--,h+=s[o++]<<p,p+=8}t.offset+=h&(1<<t.extra)-1,h>>>=t.extra,p-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){n.msg="invalid distance too far back",t.mode=bn;break}t.mode=v2;case v2:if(d===0)break e;if(x=w-d,t.offset>x){if(x=t.offset-x,x>t.whave&&t.sane){n.msg="invalid distance too far back",t.mode=bn;break}x>t.wnext?(x-=t.wnext,S=t.wsize-x):S=t.wnext-x,x>t.length&&(x=t.length),_=t.window}else _=i,S=c-t.offset,x=t.length;x>d&&(x=d),d-=x,t.length-=x;do i[c++]=_[S++];while(--x);t.length===0&&(t.mode=cp);break;case y2:if(d===0)break e;i[c++]=t.length,d--,t.mode=cp;break;case Kg:if(t.wrap){for(;p<32;){if(u===0)break e;u--,h|=s[o++]<<p,p+=8}if(w-=d,n.total_out+=w,t.total+=w,t.wrap&4&&w&&(n.adler=t.check=t.flags?po(t.check,i,w,c-w):Hx(t.check,i,w,c-w)),w=d,t.wrap&4&&(t.flags?h:j2(h))!==t.check){n.msg="incorrect data check",t.mode=bn;break}h=0,p=0}t.mode=w2;case w2:if(t.wrap&&t.flags){for(;p<32;){if(u===0)break e;u--,h+=s[o++]<<p,p+=8}if(t.wrap&4&&h!==(t.total&4294967295)){n.msg="incorrect length check",t.mode=bn;break}h=0,p=0}t.mode=b2;case b2:K=w7;break e;case bn:K=ON;break e;case MN:return DN;case FN:default:return ha}return n.next_out=c,n.avail_out=d,n.next_in=o,n.avail_in=u,t.hold=h,t.bits=p,(t.wsize||w!==n.avail_out&&t.mode<bn&&(t.mode<Kg||e!==Z1))&&qN(n,n.output,n.next_out,w-n.avail_out),g-=n.avail_in,w-=n.avail_out,n.total_in+=g,n.total_out+=w,t.total+=w,t.wrap&4&&w&&(n.adler=t.check=t.flags?po(t.check,i,w,n.next_out-w):Hx(t.check,i,w,n.next_out-w)),n.data_type=t.bits+(t.last?64:0)+(t.mode===ll?128:0)+(t.mode===lp||t.mode===Gg?256:0),(g===0&&w===0||e===Z1)&&K===xu&&(K=j7),K},T7=n=>{if(_u(n))return ha;let e=n.state;return e.window&&(e.window=null),n.state=null,xu},L7=(n,e)=>{if(_u(n))return ha;const t=n.state;return(t.wrap&2)===0?ha:(t.head=e,e.done=!1,xu)},I7=(n,e)=>{const t=e.length;let s,i,o;return _u(n)||(s=n.state,s.wrap!==0&&s.mode!==Hp)?ha:s.mode===Hp&&(i=1,i=Hx(i,e,t,0),i!==s.check)?ON:(o=qN(n,e,t,t),o?(s.mode=MN,DN):(s.havedict=1,xu))};var R7=UN,O7=$N,D7=BN,M7=A7,F7=zN,B7=P7,U7=T7,$7=L7,z7=I7,q7="pako inflate (from Nodeca project)",ul={inflateReset:R7,inflateReset2:O7,inflateResetKeep:D7,inflateInit:M7,inflateInit2:F7,inflate:B7,inflateEnd:U7,inflateGetHeader:$7,inflateSetDictionary:z7,inflateInfo:q7};function V7(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var H7=V7;const VN=Object.prototype.toString,{Z_NO_FLUSH:W7,Z_FINISH:G7,Z_OK:Hh,Z_STREAM_END:Xg,Z_NEED_DICT:Qg,Z_STREAM_ERROR:K7,Z_DATA_ERROR:_2,Z_MEM_ERROR:Y7}=PN;function nf(n){this.options=TN.assign({chunkSize:1024*64,windowBits:15,to:""},n||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(n&&n.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u7,this.strm.avail_out=0;let t=ul.inflateInit2(this.strm,e.windowBits);if(t!==Hh)throw new Error(Wx[t]);if(this.header=new H7,ul.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=Gx.string2buf(e.dictionary):VN.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=ul.inflateSetDictionary(this.strm,e.dictionary),t!==Hh)))throw new Error(Wx[t])}nf.prototype.push=function(n,e){const t=this.strm,s=this.options.chunkSize,i=this.options.dictionary;let o,c,u;if(this.ended)return!1;for(e===~~e?c=e:c=e===!0?G7:W7,VN.call(n)==="[object ArrayBuffer]"?t.input=new Uint8Array(n):t.input=n,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(s),t.next_out=0,t.avail_out=s),o=ul.inflate(t,c),o===Qg&&i&&(o=ul.inflateSetDictionary(t,i),o===Hh?o=ul.inflate(t,c):o===_2&&(o=Qg));t.avail_in>0&&o===Xg&&t.state.wrap>0&&n[t.next_in]!==0;)ul.inflateReset(t),o=ul.inflate(t,c);switch(o){case K7:case _2:case Qg:case Y7:return this.onEnd(o),this.ended=!0,!1}if(u=t.avail_out,t.next_out&&(t.avail_out===0||o===Xg))if(this.options.to==="string"){let d=Gx.utf8border(t.output,t.next_out),h=t.next_out-d,p=Gx.buf2string(t.output,d);t.next_out=h,t.avail_out=s-h,h&&t.output.set(t.output.subarray(d,d+h),0),this.onData(p)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(o===Hh&&u===0)){if(o===Xg)return o=ul.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};nf.prototype.onData=function(n){this.chunks.push(n)};nf.prototype.onEnd=function(n){n===Hh&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=TN.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};function J7(n,e){const t=new nf(e);if(t.push(n),t.err)throw t.msg||Wx[t.err];return t.result}var X7=nf,Q7=J7,Z7={Inflate:X7,inflate:Q7};const{Inflate:eD,inflate:tD}=Z7;var S2=eD,rD=tD;const HN=[];for(let n=0;n<256;n++){let e=n;for(let t=0;t<8;t++)e&1?e=3988292384^e>>>1:e=e>>>1;HN[n]=e}const k2=4294967295;function nD(n,e,t){let s=n;for(let i=0;i<t;i++)s=HN[(s^e[i])&255]^s>>>8;return s}function sD(n,e){return(nD(k2,n,e)^k2)>>>0}function C2(n,e,t){const s=n.readUint32(),i=sD(new Uint8Array(n.buffer,n.byteOffset+n.offset-e-4,e),e);if(i!==s)throw new Error(`CRC mismatch for chunk ${t}. Expected ${s}, found ${i}`)}function WN(n,e,t){for(let s=0;s<t;s++)e[s]=n[s]}function GN(n,e,t,s){let i=0;for(;i<s;i++)e[i]=n[i];for(;i<t;i++)e[i]=n[i]+e[i-s]&255}function KN(n,e,t,s){let i=0;if(t.length===0)for(;i<s;i++)e[i]=n[i];else for(;i<s;i++)e[i]=n[i]+t[i]&255}function YN(n,e,t,s,i){let o=0;if(t.length===0){for(;o<i;o++)e[o]=n[o];for(;o<s;o++)e[o]=n[o]+(e[o-i]>>1)&255}else{for(;o<i;o++)e[o]=n[o]+(t[o]>>1)&255;for(;o<s;o++)e[o]=n[o]+(e[o-i]+t[o]>>1)&255}}function JN(n,e,t,s,i){let o=0;if(t.length===0){for(;o<i;o++)e[o]=n[o];for(;o<s;o++)e[o]=n[o]+e[o-i]&255}else{for(;o<i;o++)e[o]=n[o]+t[o]&255;for(;o<s;o++)e[o]=n[o]+iD(e[o-i],t[o],t[o-i])&255}}function iD(n,e,t){const s=n+e-t,i=Math.abs(s-n),o=Math.abs(s-e),c=Math.abs(s-t);return i<=o&&i<=c?n:o<=c?e:t}function aD(n,e,t,s,i,o){switch(n){case 0:WN(e,t,i);break;case 1:GN(e,t,i,o);break;case 2:KN(e,t,s,i);break;case 3:YN(e,t,s,i,o);break;case 4:JN(e,t,s,i,o);break;default:throw new Error(`Unsupported filter: ${n}`)}}const oD=new Uint16Array([255]),lD=new Uint8Array(oD.buffer),cD=lD[0]===255;function uD(n){const{data:e,width:t,height:s,channels:i,depth:o}=n,c=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],u=Math.ceil(o/8)*i,d=new Uint8Array(s*t*u);let h=0;for(let p=0;p<7;p++){const g=c[p],w=Math.ceil((t-g.x)/g.xStep),x=Math.ceil((s-g.y)/g.yStep);if(w<=0||x<=0)continue;const S=w*u,_=new Uint8Array(S);for(let k=0;k<x;k++){const b=e[h++],R=e.subarray(h,h+S);h+=S;const P=new Uint8Array(S);aD(b,R,P,_,S,u),_.set(P);for(let T=0;T<w;T++){const F=g.x+T*g.xStep,ne=g.y+k*g.yStep;if(!(F>=t||ne>=s))for(let ee=0;ee<u;ee++)d[(ne*t+F)*u+ee]=P[T*u+ee]}}}if(o===16){const p=new Uint16Array(d.buffer);if(cD)for(let g=0;g<p.length;g++)p[g]=dD(p[g]);return p}else return d}function dD(n){return(n&255)<<8|n>>8&255}const hD=new Uint16Array([255]),fD=new Uint8Array(hD.buffer),pD=fD[0]===255,mD=new Uint8Array(0);function A2(n){const{data:e,width:t,height:s,channels:i,depth:o}=n,c=Math.ceil(o/8)*i,u=Math.ceil(o/8*i*t),d=new Uint8Array(s*u);let h=mD,p=0,g,w;for(let x=0;x<s;x++){switch(g=e.subarray(p+1,p+1+u),w=d.subarray(x*u,(x+1)*u),e[p]){case 0:WN(g,w,u);break;case 1:GN(g,w,u,c);break;case 2:KN(g,w,h,u);break;case 3:YN(g,w,h,u,c);break;case 4:JN(g,w,h,u,c);break;default:throw new Error(`Unsupported filter: ${e[p]}`)}h=w,p+=u+1}if(o===16){const x=new Uint16Array(d.buffer);if(pD)for(let S=0;S<x.length;S++)x[S]=gD(x[S]);return x}else return d}function gD(n){return(n&255)<<8|n>>8&255}const yp=Uint8Array.of(137,80,78,71,13,10,26,10);function E2(n){if(!xD(n.readBytes(yp.length)))throw new Error("wrong PNG signature")}function xD(n){if(n.length<yp.length)return!1;for(let e=0;e<yp.length;e++)if(n[e]!==yp[e])return!1;return!0}const vD="tEXt",yD=0,XN=new TextDecoder("latin1");function wD(n){if(jD(n),n.length===0||n.length>79)throw new Error("keyword length must be between 1 and 79")}const bD=/^[\u0000-\u00FF]*$/;function jD(n){if(!bD.test(n))throw new Error("invalid latin1 text")}function ND(n,e,t){const s=QN(e);n[s]=_D(e,t-s.length-1)}function QN(n){for(n.mark();n.readByte()!==yD;);const e=n.offset;n.reset();const t=XN.decode(n.readBytes(e-n.offset-1));return n.skip(1),wD(t),t}function _D(n,e){return XN.decode(n.readBytes(e))}const Mi={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},Zg={UNKNOWN:-1,DEFLATE:0},P2={UNKNOWN:-1,ADAPTIVE:0},ex={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},up={NONE:0,BACKGROUND:1,PREVIOUS:2},tx={SOURCE:0,OVER:1};class SD extends Z0{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,t={}){super(e);const{checkCrc:s=!1}=t;this._checkCrc=s,this._inflator=new S2,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=Zg.UNKNOWN,this._filterMethod=P2.UNKNOWN,this._interlaceMethod=ex.UNKNOWN,this._colorType=Mi.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(E2(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeChunk(e,t)}return this.decodeImage(),this._png}decodeApng(){for(E2(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeApngChunk(e,t)}return this.decodeApngImage(),this._apng}decodeChunk(e,t){const s=this.offset;switch(t){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case vD:ND(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-s!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?C2(this,e+4,t):this.skip(4)}decodeApngChunk(e,t){const s=this.offset;switch(t!=="fdAT"&&t!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),t){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,t),this.offset=s+e;break}if(this.offset-s!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?C2(this,e+4,t):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=kD(this.readUint8());const t=this.readUint8();this._colorType=t;let s;switch(t){case Mi.GREYSCALE:s=1;break;case Mi.TRUECOLOUR:s=3;break;case Mi.INDEXED_COLOUR:s=1;break;case Mi.GREYSCALE_ALPHA:s=2;break;case Mi.TRUECOLOUR_ALPHA:s=4;break;case Mi.UNKNOWN:default:throw new Error(`Unknown color type: ${t}`)}if(this._png.channels=s,this._compressionMethod=this.readUint8(),this._compressionMethod!==Zg.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const t=e/3;this._hasPalette=!0;const s=[];this._palette=s;for(let i=0;i<t;i++)s.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const t=e,s=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,s,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let t=e,s=this.offset+this.byteOffset;if(s+=4,t-=4,this._inflator.push(new Uint8Array(this.buffer,s,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case Mi.GREYSCALE:case Mi.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let t=0;t<e/2;t++)this._transparency[t]=this.readUint16();break}case Mi.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let t=0;for(;t<e;t++){const s=this.readByte();this._palette[t].push(s)}for(;t<this._palette.length;t++)this._palette[t].push(255);break}case Mi.UNKNOWN:case Mi.GREYSCALE_ALPHA:case Mi.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const t=QN(this),s=this.readUint8();if(s!==Zg.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${s}`);const i=this.readBytes(e-t.length-2);this._png.iccEmbeddedProfile={name:t,profile:rD(i)}}decodepHYs(){const e=this.readUint32(),t=this.readUint32(),s=this.readByte();this._png.resolution={x:e,y:t,unit:s}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const t={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},s=this._frames.at(e);if(s){if(s.data=A2({data:s.data,width:s.width,height:s.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||s.xOffset===0&&s.yOffset===0&&s.width===this._png.width&&s.height===this._png.height)t.data=s.data;else{const i=this._apng.frames.at(e-1);this.disposeFrame(s,i,t),this.addFrameDataToCanvas(t,s)}this._apng.frames.push(t)}}return this._apng}disposeFrame(e,t,s){switch(e.disposeOp){case up.NONE:break;case up.BACKGROUND:for(let i=0;i<this._png.height;i++)for(let o=0;o<this._png.width;o++){const c=(i*e.width+o)*this._png.channels;for(let u=0;u<this._png.channels;u++)s.data[c+u]=0}break;case up.PREVIOUS:s.data.set(t.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,t){const s=1<<this._png.depth,i=(o,c)=>{const u=((o+t.yOffset)*this._png.width+t.xOffset+c)*this._png.channels,d=(o*t.width+c)*this._png.channels;return{index:u,frameIndex:d}};switch(t.blendOp){case tx.SOURCE:for(let o=0;o<t.height;o++)for(let c=0;c<t.width;c++){const{index:u,frameIndex:d}=i(o,c);for(let h=0;h<this._png.channels;h++)e.data[u+h]=t.data[d+h]}break;case tx.OVER:for(let o=0;o<t.height;o++)for(let c=0;c<t.width;c++){const{index:u,frameIndex:d}=i(o,c);for(let h=0;h<this._png.channels;h++){const p=t.data[d+this._png.channels-1]/s,g=h%(this._png.channels-1)===0?1:t.data[d+h],w=Math.floor(p*g+(1-p)*e.data[u+h]);e.data[u+h]+=w}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==P2.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===ex.NO_INTERLACE)this._png.data=A2({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===ex.ADAM7)this._png.data=uD({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,t=this._frames.at(-1);t?t.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:up.NONE,blendOp:tx.SOURCE,data:e}),this._inflator=new S2,this._writingDataChunks=!1}}function kD(n){if(n!==1&&n!==2&&n!==4&&n!==8&&n!==16)throw new Error(`invalid bit depth: ${n}`);return n}var T2;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.METRE=1]="METRE"})(T2||(T2={}));function CD(n,e){return new SD(n,e).decode()}var er=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function rx(){er.console&&typeof er.console.log=="function"&&er.console.log.apply(er.console,arguments)}var sn={log:rx,warn:function(n){er.console&&(typeof er.console.warn=="function"?er.console.warn.apply(er.console,arguments):rx.call(null,arguments))},error:function(n){er.console&&(typeof er.console.error=="function"?er.console.error.apply(er.console,arguments):rx(n))}};function nx(n,e,t){var s=new XMLHttpRequest;s.open("GET",n),s.responseType="blob",s.onload=function(){Qc(s.response,e,t)},s.onerror=function(){sn.error("could not download file")},s.send()}function L2(n){var e=new XMLHttpRequest;e.open("HEAD",n,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function dp(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(e)}}var Qc=er.saveAs||((typeof window>"u"?"undefined":Xr(window))!=="object"||window!==er?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,e,t){var s=er.URL||er.webkitURL,i=document.createElement("a");e=e||n.name||"download",i.download=e,i.rel="noopener",typeof n=="string"?(i.href=n,i.origin!==location.origin?L2(i.href)?nx(n,e,t):dp(i,i.target="_blank"):dp(i)):(i.href=s.createObjectURL(n),setTimeout(function(){s.revokeObjectURL(i.href)},4e4),setTimeout(function(){dp(i)},0))}:"msSaveOrOpenBlob"in navigator?function(n,e,t){if(e=e||n.name||"download",typeof n=="string")if(L2(n))nx(n,e,t);else{var s=document.createElement("a");s.href=n,s.target="_blank",setTimeout(function(){dp(s)})}else navigator.msSaveOrOpenBlob((function(i,o){return o===void 0?o={autoBom:!1}:Xr(o)!=="object"&&(sn.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i})(n,t),e)}:function(n,e,t,s){if((s=s||open("","_blank"))&&(s.document.title=s.document.body.innerText="downloading..."),typeof n=="string")return nx(n,e,t);var i=n.type==="application/octet-stream",o=/constructor/i.test(er.HTMLElement)||er.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||i&&o)&&(typeof FileReader>"u"?"undefined":Xr(FileReader))==="object"){var u=new FileReader;u.onloadend=function(){var p=u.result;p=c?p:p.replace(/^data:[^;]*;/,"data:attachment/file;"),s?s.location.href=p:location=p,s=null},u.readAsDataURL(n)}else{var d=er.URL||er.webkitURL,h=d.createObjectURL(n);s?s.location=h:location.href=h,s=null,setTimeout(function(){d.revokeObjectURL(h)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function ZN(n){var e;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(u){return[parseInt(u[1]),parseInt(u[2]),parseInt(u[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(u){return[parseInt(u[1],16),parseInt(u[2],16),parseInt(u[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(u){return[parseInt(u[1]+u[1],16),parseInt(u[2]+u[2],16),parseInt(u[3]+u[3],16)]}}],s=0;s<t.length;s++){var i=t[s].re,o=t[s].process,c=i.exec(n);c&&(e=o(c),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var u=this.r.toString(16),d=this.g.toString(16),h=this.b.toString(16);return u.length==1&&(u="0"+u),d.length==1&&(d="0"+d),h.length==1&&(h="0"+h),"#"+u+d+h}}var wp=er.atob.bind(er),I2=er.btoa.bind(er);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function sx(n,e){var t=n[0],s=n[1],i=n[2],o=n[3];t=Ms(t,s,i,o,e[0],7,-680876936),o=Ms(o,t,s,i,e[1],12,-389564586),i=Ms(i,o,t,s,e[2],17,606105819),s=Ms(s,i,o,t,e[3],22,-1044525330),t=Ms(t,s,i,o,e[4],7,-176418897),o=Ms(o,t,s,i,e[5],12,1200080426),i=Ms(i,o,t,s,e[6],17,-1473231341),s=Ms(s,i,o,t,e[7],22,-45705983),t=Ms(t,s,i,o,e[8],7,1770035416),o=Ms(o,t,s,i,e[9],12,-1958414417),i=Ms(i,o,t,s,e[10],17,-42063),s=Ms(s,i,o,t,e[11],22,-1990404162),t=Ms(t,s,i,o,e[12],7,1804603682),o=Ms(o,t,s,i,e[13],12,-40341101),i=Ms(i,o,t,s,e[14],17,-1502002290),t=Fs(t,s=Ms(s,i,o,t,e[15],22,1236535329),i,o,e[1],5,-165796510),o=Fs(o,t,s,i,e[6],9,-1069501632),i=Fs(i,o,t,s,e[11],14,643717713),s=Fs(s,i,o,t,e[0],20,-373897302),t=Fs(t,s,i,o,e[5],5,-701558691),o=Fs(o,t,s,i,e[10],9,38016083),i=Fs(i,o,t,s,e[15],14,-660478335),s=Fs(s,i,o,t,e[4],20,-405537848),t=Fs(t,s,i,o,e[9],5,568446438),o=Fs(o,t,s,i,e[14],9,-1019803690),i=Fs(i,o,t,s,e[3],14,-187363961),s=Fs(s,i,o,t,e[8],20,1163531501),t=Fs(t,s,i,o,e[13],5,-1444681467),o=Fs(o,t,s,i,e[2],9,-51403784),i=Fs(i,o,t,s,e[7],14,1735328473),t=Bs(t,s=Fs(s,i,o,t,e[12],20,-1926607734),i,o,e[5],4,-378558),o=Bs(o,t,s,i,e[8],11,-2022574463),i=Bs(i,o,t,s,e[11],16,1839030562),s=Bs(s,i,o,t,e[14],23,-35309556),t=Bs(t,s,i,o,e[1],4,-1530992060),o=Bs(o,t,s,i,e[4],11,1272893353),i=Bs(i,o,t,s,e[7],16,-155497632),s=Bs(s,i,o,t,e[10],23,-1094730640),t=Bs(t,s,i,o,e[13],4,681279174),o=Bs(o,t,s,i,e[0],11,-358537222),i=Bs(i,o,t,s,e[3],16,-722521979),s=Bs(s,i,o,t,e[6],23,76029189),t=Bs(t,s,i,o,e[9],4,-640364487),o=Bs(o,t,s,i,e[12],11,-421815835),i=Bs(i,o,t,s,e[15],16,530742520),t=Us(t,s=Bs(s,i,o,t,e[2],23,-995338651),i,o,e[0],6,-198630844),o=Us(o,t,s,i,e[7],10,1126891415),i=Us(i,o,t,s,e[14],15,-1416354905),s=Us(s,i,o,t,e[5],21,-57434055),t=Us(t,s,i,o,e[12],6,1700485571),o=Us(o,t,s,i,e[3],10,-1894986606),i=Us(i,o,t,s,e[10],15,-1051523),s=Us(s,i,o,t,e[1],21,-2054922799),t=Us(t,s,i,o,e[8],6,1873313359),o=Us(o,t,s,i,e[15],10,-30611744),i=Us(i,o,t,s,e[6],15,-1560198380),s=Us(s,i,o,t,e[13],21,1309151649),t=Us(t,s,i,o,e[4],6,-145523070),o=Us(o,t,s,i,e[11],10,-1120210379),i=Us(i,o,t,s,e[2],15,718787259),s=Us(s,i,o,t,e[9],21,-343485551),n[0]=ic(t,n[0]),n[1]=ic(s,n[1]),n[2]=ic(i,n[2]),n[3]=ic(o,n[3])}function Cm(n,e,t,s,i,o){return e=ic(ic(e,n),ic(s,o)),ic(e<<i|e>>>32-i,t)}function Ms(n,e,t,s,i,o,c){return Cm(e&t|~e&s,n,e,i,o,c)}function Fs(n,e,t,s,i,o,c){return Cm(e&s|t&~s,n,e,i,o,c)}function Bs(n,e,t,s,i,o,c){return Cm(e^t^s,n,e,i,o,c)}function Us(n,e,t,s,i,o,c){return Cm(t^(e|~s),n,e,i,o,c)}function e_(n){var e,t=n.length,s=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=n.length;e+=64)sx(s,AD(n.substring(e-64,e)));n=n.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<n.length;e++)i[e>>2]|=n.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(sx(s,i),e=0;e<16;e++)i[e]=0;return i[14]=8*t,sx(s,i),s}function AD(n){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=n.charCodeAt(e)+(n.charCodeAt(e+1)<<8)+(n.charCodeAt(e+2)<<16)+(n.charCodeAt(e+3)<<24);return t}var R2="0123456789abcdef".split("");function ED(n){for(var e="",t=0;t<4;t++)e+=R2[n>>8*t+4&15]+R2[n>>8*t&15];return e}function PD(n){return String.fromCharCode(255&n,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function Kx(n){return e_(n).map(PD).join("")}var TD=(function(n){for(var e=0;e<n.length;e++)n[e]=ED(n[e]);return n.join("")})(e_("hello"))!="5d41402abc4b2a76b9719d911017c592";function ic(n,e){if(TD){var t=(65535&n)+(65535&e);return(n>>16)+(e>>16)+(t>>16)<<16|65535&t}return n+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Yx(n,e){var t,s,i,o;if(n!==t){for(var c=(i=n,o=1+(256/n.length|0),new Array(o+1).join(i)),u=[],d=0;d<256;d++)u[d]=d;var h=0;for(d=0;d<256;d++){var p=u[d];h=(h+p+c.charCodeAt(d))%256,u[d]=u[h],u[h]=p}t=n,s=u}else u=s;var g=e.length,w=0,x=0,S="";for(d=0;d<g;d++)x=(x+(p=u[w=(w+1)%256]))%256,u[w]=u[x],u[x]=p,c=u[(u[w]+u[x])%256],S+=String.fromCharCode(e.charCodeAt(d)^c);return S}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var O2={print:4,modify:8,copy:16,"annot-forms":32};function gd(n,e,t,s){this.v=1,this.r=2;var i=192;n.forEach(function(u){if(O2.perm!==void 0)throw new Error("Invalid permission: "+u);i+=O2[u]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var o=(e+this.padding).substr(0,32),c=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,c),this.P=-(1+(255^i)),this.encryptionKey=Kx(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(s)).substr(0,5),this.U=Yx(this.encryptionKey,this.padding)}function xd(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var e="",t=n.length,s=0;s<t;s++){var i=n.charCodeAt(s);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):n[s]}return e}function D2(n){if(Xr(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,s,i){if(i=i||!1,typeof t!="string"||typeof s!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var o=Math.random().toString(35);return e[t][o]=[s,!!i],o},this.unsubscribe=function(t){for(var s in e)if(e[s][t])return delete e[s][t],Object.keys(e[s]).length===0&&delete e[s],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var s=Array.prototype.slice.call(arguments,1),i=[];for(var o in e[t]){var c=e[t][o];try{c[0].apply(n,s)}catch(u){er.console&&sn.error("jsPDF PubSub Error",u.message,u)}c[1]&&i.push(o)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Wp(n){if(!(this instanceof Wp))return new Wp(n);var e="opacity,stroke-opacity".split(",");for(var t in n)n.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=n[t]);this.id="",this.objectNumber=-1}function t_(n,e){this.gState=n,this.matrix=e,this.id="",this.objectNumber=-1}function ru(n,e,t,s,i){if(!(this instanceof ru))return new ru(n,e,t,s,i);this.type=n==="axial"?2:3,this.coords=e,this.colors=t,t_.call(this,s,i)}function yd(n,e,t,s,i){if(!(this instanceof yd))return new yd(n,e,t,s,i);this.boundingBox=n,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,t_.call(this,s,i)}function Ft(n){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",s=arguments[1],i=arguments[2],o=arguments[3],c=[],u=1,d=16,h="S",p=null;Xr(n=n||{})==="object"&&(t=n.orientation,s=n.unit||s,i=n.format||i,o=n.compress||n.compressPdf||o,(p=n.encryption||null)!==null&&(p.userPassword=p.userPassword||"",p.ownerPassword=p.ownerPassword||"",p.userPermissions=p.userPermissions||[]),u=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(e=n.precision),n.floatPrecision!==void 0&&(d=n.floatPrecision),h=n.defaultPathOperation||"S"),c=n.filters||(o===!0?["FlateEncode"]:c),s=s||"mm",t=(""+(t||"P")).toLowerCase();var g=n.putOnlyUsedFonts||!1,w={},x={internal:{},__private__:{}};x.__private__.PubSub=D2;var S="1.3",_=x.__private__.getPdfVersion=function(){return S};x.__private__.setPdfVersion=function(j){S=j};var k={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};x.__private__.getPageFormats=function(){return k};var b=x.__private__.getPageFormat=function(j){return k[j]};i=i||"a4";var R="compat",P="advanced",T=R;function F(){this.saveGraphicsState(),ie(new dt($t,0,0,-$t,0,oi()*$t).toString()+" cm"),this.setFontSize(this.getFontSize()/$t),h="n",T=P}function ne(){this.restoreGraphicsState(),h="S",T=R}var ee=x.__private__.combineFontStyleAndFontWeight=function(j,M){if(j=="bold"&&M=="normal"||j=="bold"&&M==400||j=="normal"&&M=="italic"||j=="bold"&&M=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return M&&(j=M==400||M==="normal"?j==="italic"?"italic":"normal":M!=700&&M!=="bold"||j!=="normal"?(M==700?"bold":M)+""+j:"bold"),j};x.advancedAPI=function(j){var M=T===R;return M&&F.call(this),typeof j!="function"||(j(this),M&&ne.call(this)),this},x.compatAPI=function(j){var M=T===P;return M&&ne.call(this),typeof j!="function"||(j(this),M&&F.call(this)),this},x.isAdvancedAPI=function(){return T===P};var K,Y=function(j){if(T!==P)throw new Error(j+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},q=x.roundToPrecision=x.__private__.roundToPrecision=function(j,M){var ce=e||M;if(isNaN(j)||isNaN(ce))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return j.toFixed(ce).replace(/0+$/,"")};K=x.hpf=x.__private__.hpf=typeof d=="number"?function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.hpf");return q(j,d)}:d==="smart"?function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.hpf");return q(j,j>-1&&j<1?16:5)}:function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.hpf");return q(j,16)};var L=x.f2=x.__private__.f2=function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.f2");return q(j,2)},z=x.__private__.f3=function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.f3");return q(j,3)},U=x.scale=x.__private__.scale=function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.scale");return T===R?j*$t:T===P?j:void 0},te=function(j){return U((function(M){return T===R?oi()-M:T===P?M:void 0})(j))};x.__private__.setPrecision=x.setPrecision=function(j){typeof parseInt(j,10)=="number"&&(e=parseInt(j,10))};var re,ue="00000000000000000000000000000000",fe=x.__private__.getFileId=function(){return ue},B=x.__private__.setFileId=function(j){return ue=j!==void 0&&/^[a-fA-F0-9]{32}$/.test(j)?j.toUpperCase():ue.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),p!==null&&($n=new gd(p.userPermissions,p.userPassword,p.ownerPassword,ue)),ue};x.setFileId=function(j){return B(j),this},x.getFileId=function(){return fe()};var Z=x.__private__.convertDateToPDFDate=function(j){var M=j.getTimezoneOffset(),ce=M<0?"+":"-",pe=Math.floor(Math.abs(M/60)),je=Math.abs(M%60),Be=[ce,X(pe),"'",X(je),"'"].join("");return["D:",j.getFullYear(),X(j.getMonth()+1),X(j.getDate()),X(j.getHours()),X(j.getMinutes()),X(j.getSeconds()),Be].join("")},me=x.__private__.convertPDFDateToDate=function(j){var M=parseInt(j.substr(2,4),10),ce=parseInt(j.substr(6,2),10)-1,pe=parseInt(j.substr(8,2),10),je=parseInt(j.substr(10,2),10),Be=parseInt(j.substr(12,2),10),Ke=parseInt(j.substr(14,2),10);return new Date(M,ce,pe,je,Be,Ke,0)},H=x.__private__.setCreationDate=function(j){var M;if(j===void 0&&(j=new Date),j instanceof Date)M=Z(j);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(j))throw new Error("Invalid argument passed to jsPDF.setCreationDate");M=j}return re=M},O=x.__private__.getCreationDate=function(j){var M=re;return j==="jsDate"&&(M=me(re)),M};x.setCreationDate=function(j){return H(j),this},x.getCreationDate=function(j){return O(j)};var V,X=x.__private__.padd2=function(j){return("0"+parseInt(j)).slice(-2)},se=x.__private__.padd2Hex=function(j){return("00"+(j=j.toString())).substr(j.length)},de=0,le=[],ge=[],be=0,Se=[],De=[],Je=!1,tt=ge;x.__private__.setCustomOutputDestination=function(j){Je=!0,tt=j};var ut=function(j){Je||(tt=j)};x.__private__.resetCustomOutputDestination=function(){Je=!1,tt=ge};var ie=x.__private__.out=function(j){return j=j.toString(),be+=j.length+1,tt.push(j),tt},st=x.__private__.write=function(j){return ie(arguments.length===1?j.toString():Array.prototype.join.call(arguments," "))},zt=x.__private__.getArrayBuffer=function(j){for(var M=j.length,ce=new ArrayBuffer(M),pe=new Uint8Array(ce);M--;)pe[M]=j.charCodeAt(M);return ce},Bt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];x.__private__.getStandardFonts=function(){return Bt};var We=n.fontSize||16;x.__private__.setFontSize=x.setFontSize=function(j){return We=T===P?j/$t:j,this};var Ot,ct=x.__private__.getFontSize=x.getFontSize=function(){return T===R?We:We*$t},ht=n.R2L||!1;x.__private__.setR2L=x.setR2L=function(j){return ht=j,this},x.__private__.getR2L=x.getR2L=function(){return ht};var _t,_r=x.__private__.setZoomMode=function(j){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(j))Ot=j;else if(isNaN(j)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(j)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+j+'" is not recognized.');Ot=j}else Ot=parseInt(j,10)};x.__private__.getZoomMode=function(){return Ot};var lr,Wt=x.__private__.setPageMode=function(j){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(j)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+j+'" is not recognized.');_t=j};x.__private__.getPageMode=function(){return _t};var cr=x.__private__.setLayoutMode=function(j){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(j)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+j+'" is not recognized.');lr=j};x.__private__.getLayoutMode=function(){return lr},x.__private__.setDisplayMode=x.setDisplayMode=function(j,M,ce){return _r(j),cr(M),Wt(ce),this};var nr={title:"",subject:"",author:"",keywords:"",creator:""};x.__private__.getDocumentProperty=function(j){if(Object.keys(nr).indexOf(j)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return nr[j]},x.__private__.getDocumentProperties=function(){return nr},x.__private__.setDocumentProperties=x.setProperties=x.setDocumentProperties=function(j){for(var M in nr)nr.hasOwnProperty(M)&&j[M]&&(nr[M]=j[M]);return this},x.__private__.setDocumentProperty=function(j,M){if(Object.keys(nr).indexOf(j)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return nr[j]=M};var gt,$t,xt,$r,pr,sr={},ir={},Dr=[],Dt={},kr={},Et={},Yt={},Pr=null,Xt=0,Ut=[],lt=new D2(x),Wr=n.hotfixes||[],yr={},on={},es=[],dt=function j(M,ce,pe,je,Be,Ke){if(!(this instanceof j))return new j(M,ce,pe,je,Be,Ke);isNaN(M)&&(M=1),isNaN(ce)&&(ce=0),isNaN(pe)&&(pe=0),isNaN(je)&&(je=1),isNaN(Be)&&(Be=0),isNaN(Ke)&&(Ke=0),this._matrix=[M,ce,pe,je,Be,Ke]};Object.defineProperty(dt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(j){this._matrix[0]=j}}),Object.defineProperty(dt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(j){this._matrix[1]=j}}),Object.defineProperty(dt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(j){this._matrix[2]=j}}),Object.defineProperty(dt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(j){this._matrix[3]=j}}),Object.defineProperty(dt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(j){this._matrix[4]=j}}),Object.defineProperty(dt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(j){this._matrix[5]=j}}),Object.defineProperty(dt.prototype,"a",{get:function(){return this._matrix[0]},set:function(j){this._matrix[0]=j}}),Object.defineProperty(dt.prototype,"b",{get:function(){return this._matrix[1]},set:function(j){this._matrix[1]=j}}),Object.defineProperty(dt.prototype,"c",{get:function(){return this._matrix[2]},set:function(j){this._matrix[2]=j}}),Object.defineProperty(dt.prototype,"d",{get:function(){return this._matrix[3]},set:function(j){this._matrix[3]=j}}),Object.defineProperty(dt.prototype,"e",{get:function(){return this._matrix[4]},set:function(j){this._matrix[4]=j}}),Object.defineProperty(dt.prototype,"f",{get:function(){return this._matrix[5]},set:function(j){this._matrix[5]=j}}),Object.defineProperty(dt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(dt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(dt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(dt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),dt.prototype.join=function(j){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(K).join(j)},dt.prototype.multiply=function(j){var M=j.sx*this.sx+j.shy*this.shx,ce=j.sx*this.shy+j.shy*this.sy,pe=j.shx*this.sx+j.sy*this.shx,je=j.shx*this.shy+j.sy*this.sy,Be=j.tx*this.sx+j.ty*this.shx+this.tx,Ke=j.tx*this.shy+j.ty*this.sy+this.ty;return new dt(M,ce,pe,je,Be,Ke)},dt.prototype.decompose=function(){var j=this.sx,M=this.shy,ce=this.shx,pe=this.sy,je=this.tx,Be=this.ty,Ke=Math.sqrt(j*j+M*M),yt=(j/=Ke)*ce+(M/=Ke)*pe;ce-=j*yt,pe-=M*yt;var Tt=Math.sqrt(ce*ce+pe*pe);return yt/=Tt,j*(pe/=Tt)<M*(ce/=Tt)&&(j=-j,M=-M,yt=-yt,Ke=-Ke),{scale:new dt(Ke,0,0,Tt,0,0),translate:new dt(1,0,0,1,je,Be),rotate:new dt(j,M,-M,j,0,0),skew:new dt(1,0,yt,1,0,0)}},dt.prototype.toString=function(j){return this.join(" ")},dt.prototype.inversed=function(){var j=this.sx,M=this.shy,ce=this.shx,pe=this.sy,je=this.tx,Be=this.ty,Ke=1/(j*pe-M*ce),yt=pe*Ke,Tt=-M*Ke,Qt=-ce*Ke,tr=j*Ke;return new dt(yt,Tt,Qt,tr,-yt*je-Qt*Be,-Tt*je-tr*Be)},dt.prototype.applyToPoint=function(j){var M=j.x*this.sx+j.y*this.shx+this.tx,ce=j.x*this.shy+j.y*this.sy+this.ty;return new si(M,ce)},dt.prototype.applyToRectangle=function(j){var M=this.applyToPoint(j),ce=this.applyToPoint(new si(j.x+j.w,j.y+j.h));return new Mo(M.x,M.y,ce.x-M.x,ce.y-M.y)},dt.prototype.clone=function(){var j=this.sx,M=this.shy,ce=this.shx,pe=this.sy,je=this.tx,Be=this.ty;return new dt(j,M,ce,pe,je,Be)},x.Matrix=dt;var Zr=x.matrixMult=function(j,M){return M.multiply(j)},cs=new dt(1,0,0,1,0,0);x.unitMatrix=x.identityMatrix=cs;var zr=function(j,M){if(!kr[j]){var ce=(M instanceof ru?"Sh":"P")+(Object.keys(Dt).length+1).toString(10);M.id=ce,kr[j]=ce,Dt[ce]=M,lt.publish("addPattern",M)}};x.ShadingPattern=ru,x.TilingPattern=yd,x.addShadingPattern=function(j,M){return Y("addShadingPattern()"),zr(j,M),this},x.beginTilingPattern=function(j){Y("beginTilingPattern()"),ii(j.boundingBox[0],j.boundingBox[1],j.boundingBox[2]-j.boundingBox[0],j.boundingBox[3]-j.boundingBox[1],j.matrix)},x.endTilingPattern=function(j,M){Y("endTilingPattern()"),M.stream=De[V].join(`
`),zr(j,M),lt.publish("endTilingPattern",M),es.pop().restore()};var ln,Mr=x.__private__.newObject=function(){var j=Fr();return jn(j,!0),j},Fr=x.__private__.newObjectDeferred=function(){return de++,le[de]=function(){return be},de},jn=function(j,M){return M=typeof M=="boolean"&&M,le[j]=be,M&&ie(j+" 0 obj"),j},pa=x.__private__.newAdditionalObject=function(){var j={objId:Fr(),content:""};return Se.push(j),j},Ga=Fr(),Ni=Fr(),Vi=x.__private__.decodeColorString=function(j){var M=j.split(" ");if(M.length!==2||M[1]!=="g"&&M[1]!=="G")M.length!==5||M[4]!=="k"&&M[4]!=="K"||(M=[(1-M[0])*(1-M[3]),(1-M[1])*(1-M[3]),(1-M[2])*(1-M[3]),"r"]);else{var ce=parseFloat(M[0]);M=[ce,ce,ce,"r"]}for(var pe="#",je=0;je<3;je++)pe+=("0"+Math.floor(255*parseFloat(M[je])).toString(16)).slice(-2);return pe},ts=x.__private__.encodeColorString=function(j){var M;typeof j=="string"&&(j={ch1:j});var ce=j.ch1,pe=j.ch2,je=j.ch3,Be=j.ch4,Ke=j.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ce=="string"&&ce.charAt(0)!=="#"){var yt=new ZN(ce);if(yt.ok)ce=yt.toHex();else if(!/^\d*\.?\d*$/.test(ce))throw new Error('Invalid color "'+ce+'" passed to jsPDF.encodeColorString.')}if(typeof ce=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ce)&&(ce="#"+ce[1]+ce[1]+ce[2]+ce[2]+ce[3]+ce[3]),typeof ce=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ce)){var Tt=parseInt(ce.substr(1),16);ce=Tt>>16&255,pe=Tt>>8&255,je=255&Tt}if(pe===void 0||Be===void 0&&ce===pe&&pe===je)M=typeof ce=="string"?ce+" "+Ke[0]:j.precision===2?L(ce/255)+" "+Ke[0]:z(ce/255)+" "+Ke[0];else if(Be===void 0||Xr(Be)==="object"){if(Be&&!isNaN(Be.a)&&Be.a===0)return["1.","1.","1.",Ke[1]].join(" ");M=typeof ce=="string"?[ce,pe,je,Ke[1]].join(" "):j.precision===2?[L(ce/255),L(pe/255),L(je/255),Ke[1]].join(" "):[z(ce/255),z(pe/255),z(je/255),Ke[1]].join(" ")}else M=typeof ce=="string"?[ce,pe,je,Be,Ke[2]].join(" "):j.precision===2?[L(ce),L(pe),L(je),L(Be),Ke[2]].join(" "):[z(ce),z(pe),z(je),z(Be),Ke[2]].join(" ");return M},ti=x.__private__.getFilters=function(){return c},zs=x.__private__.putStream=function(j){var M=(j=j||{}).data||"",ce=j.filters||ti(),pe=j.alreadyAppliedFilters||[],je=j.addLength1||!1,Be=M.length,Ke=j.objectId,yt=function(zn){return zn};if(p!==null&&Ke===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");p!==null&&(yt=$n.encryptor(Ke,0));var Tt={};ce===!0&&(ce=["FlateEncode"]);var Qt=j.additionalKeyValues||[],tr=(Tt=Ft.API.processDataByFilters!==void 0?Ft.API.processDataByFilters(M,ce):{data:M,reverseChain:[]}).reverseChain+(Array.isArray(pe)?pe.join(" "):pe.toString());if(Tt.data.length!==0&&(Qt.push({key:"Length",value:Tt.data.length}),je===!0&&Qt.push({key:"Length1",value:Be})),tr.length!=0)if(tr.split("/").length-1==1)Qt.push({key:"Filter",value:tr});else{Qt.push({key:"Filter",value:"["+tr+"]"});for(var Sr=0;Sr<Qt.length;Sr+=1)if(Qt[Sr].key==="DecodeParms"){for(var fn=[],In=0;In<Tt.reverseChain.split("/").length-1;In+=1)fn.push("null");fn.push(Qt[Sr].value),Qt[Sr].value="["+fn.join(" ")+"]"}}ie("<<");for(var en=0;en<Qt.length;en++)ie("/"+Qt[en].key+" "+Qt[en].value);ie(">>"),Tt.data.length!==0&&(ie("stream"),ie(yt(Tt.data)),ie("endstream"))},ko=x.__private__.putPage=function(j){var M=j.number,ce=j.data,pe=j.objId,je=j.contentsObjId;jn(pe,!0),ie("<</Type /Page"),ie("/Parent "+j.rootDictionaryObjId+" 0 R"),ie("/Resources "+j.resourceDictionaryObjId+" 0 R"),ie("/MediaBox ["+parseFloat(K(j.mediaBox.bottomLeftX))+" "+parseFloat(K(j.mediaBox.bottomLeftY))+" "+K(j.mediaBox.topRightX)+" "+K(j.mediaBox.topRightY)+"]"),j.cropBox!==null&&ie("/CropBox ["+K(j.cropBox.bottomLeftX)+" "+K(j.cropBox.bottomLeftY)+" "+K(j.cropBox.topRightX)+" "+K(j.cropBox.topRightY)+"]"),j.bleedBox!==null&&ie("/BleedBox ["+K(j.bleedBox.bottomLeftX)+" "+K(j.bleedBox.bottomLeftY)+" "+K(j.bleedBox.topRightX)+" "+K(j.bleedBox.topRightY)+"]"),j.trimBox!==null&&ie("/TrimBox ["+K(j.trimBox.bottomLeftX)+" "+K(j.trimBox.bottomLeftY)+" "+K(j.trimBox.topRightX)+" "+K(j.trimBox.topRightY)+"]"),j.artBox!==null&&ie("/ArtBox ["+K(j.artBox.bottomLeftX)+" "+K(j.artBox.bottomLeftY)+" "+K(j.artBox.topRightX)+" "+K(j.artBox.topRightY)+"]"),typeof j.userUnit=="number"&&j.userUnit!==1&&ie("/UserUnit "+j.userUnit),lt.publish("putPage",{objId:pe,pageContext:Ut[M],pageNumber:M,page:ce}),ie("/Contents "+je+" 0 R"),ie(">>"),ie("endobj");var Be=ce.join(`
`);return T===P&&(Be+=`
Q`),jn(je,!0),zs({data:Be,filters:ti(),objectId:je}),ie("endobj"),pe},_i=x.__private__.putPages=function(){var j,M,ce=[];for(j=1;j<=Xt;j++)Ut[j].objId=Fr(),Ut[j].contentsObjId=Fr();for(j=1;j<=Xt;j++)ce.push(ko({number:j,data:De[j],objId:Ut[j].objId,contentsObjId:Ut[j].contentsObjId,mediaBox:Ut[j].mediaBox,cropBox:Ut[j].cropBox,bleedBox:Ut[j].bleedBox,trimBox:Ut[j].trimBox,artBox:Ut[j].artBox,userUnit:Ut[j].userUnit,rootDictionaryObjId:Ga,resourceDictionaryObjId:Ni}));jn(Ga,!0),ie("<</Type /Pages");var pe="/Kids [";for(M=0;M<Xt;M++)pe+=ce[M]+" 0 R ";ie(pe+"]"),ie("/Count "+Xt),ie(">>"),ie("endobj"),lt.publish("postPutPages")},Ka=function(j){lt.publish("putFont",{font:j,out:ie,newObject:Mr,putStream:zs}),j.isAlreadyPutted!==!0&&(j.objectNumber=Mr(),ie("<<"),ie("/Type /Font"),ie("/BaseFont /"+xd(j.postScriptName)),ie("/Subtype /Type1"),typeof j.encoding=="string"&&ie("/Encoding /"+j.encoding),ie("/FirstChar 32"),ie("/LastChar 255"),ie(">>"),ie("endobj"))},Co=function(j){j.objectNumber=Mr();var M=[];M.push({key:"Type",value:"/XObject"}),M.push({key:"Subtype",value:"/Form"}),M.push({key:"BBox",value:"["+[K(j.x),K(j.y),K(j.x+j.width),K(j.y+j.height)].join(" ")+"]"}),M.push({key:"Matrix",value:"["+j.matrix.toString()+"]"});var ce=j.pages[1].join(`
`);zs({data:ce,additionalKeyValues:M,objectId:j.objectNumber}),ie("endobj")},Ao=function(j,M){M||(M=21);var ce=Mr(),pe=(function(Ke,yt){var Tt,Qt=[],tr=1/(yt-1);for(Tt=0;Tt<1;Tt+=tr)Qt.push(Tt);if(Qt.push(1),Ke[0].offset!=0){var Sr={offset:0,color:Ke[0].color};Ke.unshift(Sr)}if(Ke[Ke.length-1].offset!=1){var fn={offset:1,color:Ke[Ke.length-1].color};Ke.push(fn)}for(var In="",en=0,zn=0;zn<Qt.length;zn++){for(Tt=Qt[zn];Tt>Ke[en+1].offset;)en++;var Nn=Ke[en].offset,rs=(Tt-Nn)/(Ke[en+1].offset-Nn),xa=Ke[en].color,Ci=Ke[en+1].color;In+=se(Math.round((1-rs)*xa[0]+rs*Ci[0]).toString(16))+se(Math.round((1-rs)*xa[1]+rs*Ci[1]).toString(16))+se(Math.round((1-rs)*xa[2]+rs*Ci[2]).toString(16))}return In.trim()})(j.colors,M),je=[];je.push({key:"FunctionType",value:"0"}),je.push({key:"Domain",value:"[0.0 1.0]"}),je.push({key:"Size",value:"["+M+"]"}),je.push({key:"BitsPerSample",value:"8"}),je.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),je.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),zs({data:pe,additionalKeyValues:je,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ce}),ie("endobj"),j.objectNumber=Mr(),ie("<< /ShadingType "+j.type),ie("/ColorSpace /DeviceRGB");var Be="/Coords ["+K(parseFloat(j.coords[0]))+" "+K(parseFloat(j.coords[1]))+" ";j.type===2?Be+=K(parseFloat(j.coords[2]))+" "+K(parseFloat(j.coords[3])):Be+=K(parseFloat(j.coords[2]))+" "+K(parseFloat(j.coords[3]))+" "+K(parseFloat(j.coords[4]))+" "+K(parseFloat(j.coords[5])),ie(Be+="]"),j.matrix&&ie("/Matrix ["+j.matrix.toString()+"]"),ie("/Function "+ce+" 0 R"),ie("/Extend [true true]"),ie(">>"),ie("endobj")},xl=function(j,M){var ce=Fr(),pe=Mr();M.push({resourcesOid:ce,objectOid:pe}),j.objectNumber=pe;var je=[];je.push({key:"Type",value:"/Pattern"}),je.push({key:"PatternType",value:"1"}),je.push({key:"PaintType",value:"1"}),je.push({key:"TilingType",value:"1"}),je.push({key:"BBox",value:"["+j.boundingBox.map(K).join(" ")+"]"}),je.push({key:"XStep",value:K(j.xStep)}),je.push({key:"YStep",value:K(j.yStep)}),je.push({key:"Resources",value:ce+" 0 R"}),j.matrix&&je.push({key:"Matrix",value:"["+j.matrix.toString()+"]"}),zs({data:j.stream,additionalKeyValues:je,objectId:j.objectNumber}),ie("endobj")},Wd=function(j){for(var M in j.objectNumber=Mr(),ie("<<"),j)switch(M){case"opacity":ie("/ca "+L(j[M]));break;case"stroke-opacity":ie("/CA "+L(j[M]))}ie(">>"),ie("endobj")},rn=function(j){jn(j.resourcesOid,!0),ie("<<"),ie("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var M in ie("/Font <<"),sr)sr.hasOwnProperty(M)&&(g===!1||g===!0&&w.hasOwnProperty(M))&&ie("/"+M+" "+sr[M].objectNumber+" 0 R");ie(">>")})(),(function(){if(Object.keys(Dt).length>0){for(var M in ie("/Shading <<"),Dt)Dt.hasOwnProperty(M)&&Dt[M]instanceof ru&&Dt[M].objectNumber>=0&&ie("/"+M+" "+Dt[M].objectNumber+" 0 R");lt.publish("putShadingPatternDict"),ie(">>")}})(),(function(M){if(Object.keys(Dt).length>0){for(var ce in ie("/Pattern <<"),Dt)Dt.hasOwnProperty(ce)&&Dt[ce]instanceof x.TilingPattern&&Dt[ce].objectNumber>=0&&Dt[ce].objectNumber<M&&ie("/"+ce+" "+Dt[ce].objectNumber+" 0 R");lt.publish("putTilingPatternDict"),ie(">>")}})(j.objectOid),(function(){if(Object.keys(Et).length>0){var M;for(M in ie("/ExtGState <<"),Et)Et.hasOwnProperty(M)&&Et[M].objectNumber>=0&&ie("/"+M+" "+Et[M].objectNumber+" 0 R");lt.publish("putGStateDict"),ie(">>")}})(),(function(){for(var M in ie("/XObject <<"),yr)yr.hasOwnProperty(M)&&yr[M].objectNumber>=0&&ie("/"+M+" "+yr[M].objectNumber+" 0 R");lt.publish("putXobjectDict"),ie(">>")})(),ie(">>"),ie("endobj")},ku=function(j){ir[j.fontName]=ir[j.fontName]||{},ir[j.fontName][j.fontStyle]=j.id},vl=function(j,M,ce,pe,je){var Be={id:"F"+(Object.keys(sr).length+1).toString(10),postScriptName:j,fontName:M,fontStyle:ce,encoding:pe,isStandardFont:je||!1,metadata:{}};return lt.publish("addFont",{font:Be,instance:this}),sr[Be.id]=Be,ku(Be),Be.id},qs=x.__private__.pdfEscape=x.pdfEscape=function(j,M){return(function(ce,pe){var je,Be,Ke,yt,Tt,Qt,tr,Sr,fn;if(Ke=(pe=pe||{}).sourceEncoding||"Unicode",Tt=pe.outputEncoding,(pe.autoencode||Tt)&&sr[gt].metadata&&sr[gt].metadata[Ke]&&sr[gt].metadata[Ke].encoding&&(yt=sr[gt].metadata[Ke].encoding,!Tt&&sr[gt].encoding&&(Tt=sr[gt].encoding),!Tt&&yt.codePages&&(Tt=yt.codePages[0]),typeof Tt=="string"&&(Tt=yt[Tt]),Tt)){for(tr=!1,Qt=[],je=0,Be=ce.length;je<Be;je++)(Sr=Tt[ce.charCodeAt(je)])?Qt.push(String.fromCharCode(Sr)):Qt.push(ce[je]),Qt[je].charCodeAt(0)>>8&&(tr=!0);ce=Qt.join("")}for(je=ce.length;tr===void 0&&je!==0;)ce.charCodeAt(je-1)>>8&&(tr=!0),je--;if(!tr)return ce;for(Qt=pe.noBOM?[]:[254,255],je=0,Be=ce.length;je<Be;je++){if((fn=(Sr=ce.charCodeAt(je))>>8)>>8)throw new Error("Character at position "+je+" of string '"+ce+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Qt.push(fn),Qt.push(Sr-(fn<<8))}return String.fromCharCode.apply(void 0,Qt)})(j,M).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ya=x.__private__.beginPage=function(j){De[++Xt]=[],Ut[Xt]={objId:0,contentsObjId:0,userUnit:Number(u),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(j[0]),topRightY:Number(j[1])}},Eo(Xt),ut(De[V])},Cu=function(j,M){var ce,pe,je;switch(t=M||t,typeof j=="string"&&(ce=b(j.toLowerCase()),Array.isArray(ce)&&(pe=ce[0],je=ce[1])),Array.isArray(j)&&(pe=j[0]*$t,je=j[1]*$t),isNaN(pe)&&(pe=i[0],je=i[1]),(pe>14400||je>14400)&&(sn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),pe=Math.min(14400,pe),je=Math.min(14400,je)),i=[pe,je],t.substr(0,1)){case"l":je>pe&&(i=[je,pe]);break;case"p":pe>je&&(i=[je,pe])}Ya(i),Gt(ni),ie(Oo),Nc!==0&&ie(Nc+" J"),_c!==0&&ie(_c+" j"),lt.publish("addPage",{pageNumber:Xt})},yl=function(j){j>0&&j<=Xt&&(De.splice(j,1),Ut.splice(j,1),Xt--,V>Xt&&(V=Xt),this.setPage(V))},Eo=function(j){j>0&&j<=Xt&&(V=j)},Vs=x.__private__.getNumberOfPages=x.getNumberOfPages=function(){return De.length-1},Au=function(j,M,ce){var pe,je=void 0;return ce=ce||{},j=j!==void 0?j:sr[gt].fontName,M=M!==void 0?M:sr[gt].fontStyle,pe=j.toLowerCase(),ir[pe]!==void 0&&ir[pe][M]!==void 0?je=ir[pe][M]:ir[j]!==void 0&&ir[j][M]!==void 0?je=ir[j][M]:ce.disableWarning===!1&&sn.warn("Unable to look up font label for font '"+j+"', '"+M+"'. Refer to getFontList() for available fonts."),je||ce.noFallback||(je=ir.times[M])==null&&(je=ir.times.normal),je},Tn=x.__private__.putInfo=function(){var j=Mr(),M=function(pe){return pe};for(var ce in p!==null&&(M=$n.encryptor(j,0)),ie("<<"),ie("/Producer ("+qs(M("jsPDF "+Ft.version))+")"),nr)nr.hasOwnProperty(ce)&&nr[ce]&&ie("/"+ce.substr(0,1).toUpperCase()+ce.substr(1)+" ("+qs(M(nr[ce]))+")");ie("/CreationDate ("+qs(M(re))+")"),ie(">>"),ie("endobj")},wl=x.__private__.putCatalog=function(j){var M=(j=j||{}).rootDictionaryObjId||Ga;switch(Mr(),ie("<<"),ie("/Type /Catalog"),ie("/Pages "+M+" 0 R"),Ot||(Ot="fullwidth"),Ot){case"fullwidth":ie("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ie("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ie("/OpenAction [3 0 R /Fit]");break;case"original":ie("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ce=""+Ot;ce.substr(ce.length-1)==="%"&&(Ot=parseInt(Ot)/100),typeof Ot=="number"&&ie("/OpenAction [3 0 R /XYZ null null "+L(Ot)+"]")}switch(lr||(lr="continuous"),lr){case"continuous":ie("/PageLayout /OneColumn");break;case"single":ie("/PageLayout /SinglePage");break;case"two":case"twoleft":ie("/PageLayout /TwoColumnLeft");break;case"tworight":ie("/PageLayout /TwoColumnRight")}_t&&ie("/PageMode /"+_t),lt.publish("putCatalog"),ie(">>"),ie("endobj")},Gd=x.__private__.putTrailer=function(){ie("trailer"),ie("<<"),ie("/Size "+(de+1)),ie("/Root "+de+" 0 R"),ie("/Info "+(de-1)+" 0 R"),p!==null&&ie("/Encrypt "+$n.oid+" 0 R"),ie("/ID [ <"+ue+"> <"+ue+"> ]"),ie(">>")},Ln=x.__private__.putHeader=function(){ie("%PDF-"+S),ie("%")},Po=x.__private__.putXRef=function(){var j="0000000000";ie("xref"),ie("0 "+(de+1)),ie("0000000000 65535 f ");for(var M=1;M<=de;M++)typeof le[M]=="function"?ie((j+le[M]()).slice(-10)+" 00000 n "):le[M]!==void 0?ie((j+le[M]).slice(-10)+" 00000 n "):ie("0000000000 00000 n ")},Hs=x.__private__.buildDocument=function(){var j;de=0,be=0,ge=[],le=[],Se=[],Ga=Fr(),Ni=Fr(),ut(ge),lt.publish("buildDocument"),Ln(),_i(),(function(){lt.publish("putAdditionalObjects");for(var ce=0;ce<Se.length;ce++){var pe=Se[ce];jn(pe.objId,!0),ie(pe.content),ie("endobj")}lt.publish("postPutAdditionalObjects")})(),j=[],(function(){for(var ce in sr)sr.hasOwnProperty(ce)&&(g===!1||g===!0&&w.hasOwnProperty(ce))&&Ka(sr[ce])})(),(function(){var ce;for(ce in Et)Et.hasOwnProperty(ce)&&Wd(Et[ce])})(),(function(){for(var ce in yr)yr.hasOwnProperty(ce)&&Co(yr[ce])})(),(function(ce){var pe;for(pe in Dt)Dt.hasOwnProperty(pe)&&(Dt[pe]instanceof ru?Ao(Dt[pe]):Dt[pe]instanceof yd&&xl(Dt[pe],ce))})(j),lt.publish("putResources"),j.forEach(rn),rn({resourcesOid:Ni,objectOid:Number.MAX_SAFE_INTEGER}),lt.publish("postPutResources"),p!==null&&($n.oid=Mr(),ie("<<"),ie("/Filter /Standard"),ie("/V "+$n.v),ie("/R "+$n.r),ie("/U <"+$n.toHexString($n.U)+">"),ie("/O <"+$n.toHexString($n.O)+">"),ie("/P "+$n.P),ie(">>"),ie("endobj")),Tn(),wl();var M=be;return Po(),Gd(),ie("startxref"),ie(""+M),ie("%%EOF"),ut(De[V]),ge.join(`
`)},Hi=x.__private__.getBlob=function(j){return new Blob([zt(j)],{type:"application/pdf"})},To=x.output=x.__private__.output=(ln=function(j,M){switch(typeof(M=M||{})=="string"?M={filename:M}:M.filename=M.filename||"generated.pdf",j){case void 0:return Hs();case"save":x.save(M.filename);break;case"arraybuffer":return zt(Hs());case"blob":return Hi(Hs());case"bloburi":case"bloburl":if(er.URL!==void 0&&typeof er.URL.createObjectURL=="function")return er.URL&&er.URL.createObjectURL(Hi(Hs()))||void 0;sn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ce="",pe=Hs();try{ce=I2(pe)}catch{ce=I2(unescape(encodeURIComponent(pe)))}return"data:application/pdf;filename="+M.filename+";base64,"+ce;case"pdfobjectnewwindow":if(Object.prototype.toString.call(er)==="[object Window]"){var je="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Be=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';M.pdfObjectUrl&&(je=M.pdfObjectUrl,Be="");var Ke='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+je+'"'+Be+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(M)+");<\/script></body></html>",yt=er.open();return yt!==null&&yt.document.write(Ke),yt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(er)==="[object Window]"){var Tt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(M.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+M.filename+'" width="500px" height="400px" /></body></html>',Qt=er.open();if(Qt!==null){Qt.document.write(Tt);var tr=this;Qt.document.documentElement.querySelector("#pdfViewer").onload=function(){Qt.document.title=M.filename,Qt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(tr.output("bloburl"))}}return Qt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(er)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Sr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",M)+'"></iframe></body></html>',fn=er.open();if(fn!==null&&(fn.document.write(Sr),fn.document.title=M.filename),fn||typeof safari>"u")return fn;break;case"datauri":case"dataurl":return er.document.location.href=this.output("datauristring",M);default:return null}},ln.foo=function(){try{return ln.apply(this,arguments)}catch(ce){var j=ce.stack||"";~j.indexOf(" at ")&&(j=j.split(" at ")[1]);var M="Error in function "+j.split(`
`)[0].split("<")[0]+": "+ce.message;if(!er.console)throw new Error(M);er.console.error(M,ce),er.alert&&alert(M)}},ln.foo.bar=ln,ln.foo),ri=function(j){return Array.isArray(Wr)===!0&&Wr.indexOf(j)>-1};switch(s){case"pt":$t=1;break;case"mm":$t=72/25.4;break;case"cm":$t=72/2.54;break;case"in":$t=72;break;case"px":$t=ri("px_scaling")==1?.75:96/72;break;case"pc":case"em":$t=12;break;case"ex":$t=6;break;default:if(typeof s!="number")throw new Error("Invalid unit: "+s);$t=s}var $n=null;H(),B();var Si=x.__private__.getPageInfo=x.getPageInfo=function(j){if(isNaN(j)||j%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Ut[j].objId,pageNumber:j,pageContext:Ut[j]}},yc=x.__private__.getPageInfoByObjId=function(j){if(isNaN(j)||j%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var M in Ut)if(Ut[M].objId===j)break;return Si(M)},wc=x.__private__.getCurrentPageInfo=x.getCurrentPageInfo=function(){return{objId:Ut[V].objId,pageNumber:V,pageContext:Ut[V]}};x.addPage=function(){return Cu.apply(this,arguments),this},x.setPage=function(){return Eo.apply(this,arguments),ut.call(this,De[V]),this},x.insertPage=function(j){return this.addPage(),this.movePage(V,j),this},x.movePage=function(j,M){var ce,pe;if(j>M){ce=De[j],pe=Ut[j];for(var je=j;je>M;je--)De[je]=De[je-1],Ut[je]=Ut[je-1];De[M]=ce,Ut[M]=pe,this.setPage(M)}else if(j<M){ce=De[j],pe=Ut[j];for(var Be=j;Be<M;Be++)De[Be]=De[Be+1],Ut[Be]=Ut[Be+1];De[M]=ce,Ut[M]=pe,this.setPage(M)}return this},x.deletePage=function(){return yl.apply(this,arguments),this},x.__private__.text=x.text=function(j,M,ce,pe,je){var Be,Ke,yt,Tt,Qt,tr,Sr,fn,In,en=(pe=pe||{}).scope||this;if(typeof j=="number"&&typeof M=="number"&&(typeof ce=="string"||Array.isArray(ce))){var zn=ce;ce=M,M=j,j=zn}if(arguments[3]instanceof dt==0?(yt=arguments[4],Tt=arguments[5],Xr(Sr=arguments[3])==="object"&&Sr!==null||(typeof yt=="string"&&(Tt=yt,yt=null),typeof Sr=="string"&&(Tt=Sr,Sr=null),typeof Sr=="number"&&(yt=Sr,Sr=null),pe={flags:Sr,angle:yt,align:Tt})):(Y("The transform parameter of text() with a Matrix value"),In=je),isNaN(M)||isNaN(ce)||j==null)throw new Error("Invalid arguments passed to jsPDF.text");if(j.length===0)return en;var Nn,rs="",xa=typeof pe.lineHeightFactor=="number"?pe.lineHeightFactor:ks,Ci=en.internal.scaleFactor;function va(Tr){return Tr=Tr.split("	").join(Array(pe.TabLen||9).join(" ")),qs(Tr,Sr)}function Uo(Tr){for(var qr,xn=Tr.concat(),Rn=[],Pi=xn.length;Pi--;)typeof(qr=xn.shift())=="string"?Rn.push(qr):Array.isArray(Tr)&&(qr.length===1||qr[1]===void 0&&qr[2]===void 0)?Rn.push(qr[0]):Rn.push([qr[0],qr[1],qr[2]]);return Rn}function Al(Tr,qr){var xn;if(typeof Tr=="string")xn=qr(Tr)[0];else if(Array.isArray(Tr)){for(var Rn,Pi,Ac=Tr.concat(),Il=[],Na=Ac.length;Na--;)typeof(Rn=Ac.shift())=="string"?Il.push(qr(Rn)[0]):Array.isArray(Rn)&&typeof Rn[0]=="string"&&(Pi=qr(Rn[0],Rn[1],Rn[2]),Il.push([Pi[0],Pi[1],Pi[2]]));xn=Il}return xn}var Qa=!1,$o=!0;if(typeof j=="string")Qa=!0;else if(Array.isArray(j)){var Za=j.concat();Ke=[];for(var eo,ns=Za.length;ns--;)(typeof(eo=Za.shift())!="string"||Array.isArray(eo)&&typeof eo[0]!="string")&&($o=!1);Qa=$o}if(Qa===!1)throw new Error('Type of text must be string or Array. "'+j+'" is not recognized.');typeof j=="string"&&(j=j.match(/[\r?\n]/)?j.split(/\r\n|\r|\n/g):[j]);var zo=We/en.internal.scaleFactor,qo=zo*(xa-1);switch(pe.baseline){case"bottom":ce-=qo;break;case"top":ce+=zo-qo;break;case"hanging":ce+=zo-2*qo;break;case"middle":ce+=zo/2-qo}if((tr=pe.maxWidth||0)>0&&(typeof j=="string"?j=en.splitTextToSize(j,tr):Object.prototype.toString.call(j)==="[object Array]"&&(j=j.reduce(function(Tr,qr){return Tr.concat(en.splitTextToSize(qr,tr))},[]))),Be={text:j,x:M,y:ce,options:pe,mutex:{pdfEscape:qs,activeFontKey:gt,fonts:sr,activeFontSize:We}},lt.publish("preProcessText",Be),j=Be.text,yt=(pe=Be.options).angle,In instanceof dt==0&&yt&&typeof yt=="number"){yt*=Math.PI/180,pe.rotationDirection===0&&(yt=-yt),T===P&&(yt=-yt);var kc=Math.cos(yt),Cc=Math.sin(yt);In=new dt(kc,Cc,-Cc,kc,0,0)}else yt&&yt instanceof dt&&(In=yt);T!==P||In||(In=cs),(Qt=pe.charSpace||Cs)!==void 0&&(rs+=K(U(Qt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(fn=pe.horizontalScale)!==void 0&&(rs+=K(100*fn)+` Tz
`),pe.lang;var ys=-1,Ai=pe.renderingMode!==void 0?pe.renderingMode:pe.stroke,Ji=en.internal.getCurrentPageInfo().pageContext;switch(Ai){case 0:case!1:case"fill":ys=0;break;case 1:case!0:case"stroke":ys=1;break;case 2:case"fillThenStroke":ys=2;break;case 3:case"invisible":ys=3;break;case 4:case"fillAndAddForClipping":ys=4;break;case 5:case"strokeAndAddPathForClipping":ys=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ys=6;break;case 7:case"addToPathForClipping":ys=7}var Iu=Ji.usedRenderingMode!==void 0?Ji.usedRenderingMode:-1;ys!==-1?rs+=ys+` Tr
`:Iu!==-1&&(rs+=`0 Tr
`),ys!==-1&&(Ji.usedRenderingMode=ys),Tt=pe.align||"left";var Gs,to=We*xa,El=en.internal.pageSize.getWidth(),Pl=sr[gt];Qt=pe.charSpace||Cs,tr=pe.maxWidth||0,Sr=Object.assign({autoencode:!0,noBOM:!0},pe.flags);var ya=[],li=function(Tr){return en.getStringUnitWidth(Tr,{font:Pl,charSpace:Qt,fontSize:We,doKerning:!1})*We/Ci};if(Object.prototype.toString.call(j)==="[object Array]"){var Ks;Ke=Uo(j),Tt!=="left"&&(Gs=Ke.map(li));var Ys,ro=0;if(Tt==="right"){M-=Gs[0],j=[],ns=Ke.length;for(var Xi=0;Xi<ns;Xi++)Xi===0?(Ys=Ws(M),Ks=ma(ce)):(Ys=U(ro-Gs[Xi]),Ks=-to),j.push([Ke[Xi],Ys,Ks]),ro=Gs[Xi]}else if(Tt==="center"){M-=Gs[0]/2,j=[],ns=Ke.length;for(var wa=0;wa<ns;wa++)wa===0?(Ys=Ws(M),Ks=ma(ce)):(Ys=U((ro-Gs[wa])/2),Ks=-to),j.push([Ke[wa],Ys,Ks]),ro=Gs[wa]}else if(Tt==="left"){j=[],ns=Ke.length;for(var ba=0;ba<ns;ba++)j.push(Ke[ba])}else if(Tt==="justify"&&Pl.encoding==="Identity-H"){j=[],ns=Ke.length,tr=tr!==0?tr:El;for(var Qi=0,_n=0;_n<ns;_n++)if(Ks=_n===0?ma(ce):-to,Ys=_n===0?Ws(M):Qi,_n<ns-1){var Vo=U((tr-Gs[_n])/(Ke[_n].split(" ").length-1)),Zi=Ke[_n].split(" ");j.push([Zi[0]+" ",Ys,Ks]),Qi=0;for(var Ei=1;Ei<Zi.length;Ei++){var Ho=(li(Zi[Ei-1]+" "+Zi[Ei])-li(Zi[Ei]))*Ci+Vo;Ei==Zi.length-1?j.push([Zi[Ei],Ho,0]):j.push([Zi[Ei]+" ",Ho,0]),Qi-=Ho}}else j.push([Ke[_n],Ys,Ks]);j.push(["",Qi,0])}else{if(Tt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(j=[],ns=Ke.length,tr=tr!==0?tr:El,_n=0;_n<ns;_n++){Ks=_n===0?ma(ce):-to,Ys=_n===0?Ws(M):0;var Wo=Ke[_n].split(" ").length-1,Tl=Wo>0?(tr-Gs[_n])/Wo:0;_n<ns-1?ya.push(K(U(Tl))):ya.push(0),j.push([Ke[_n],Ys,Ks])}}}(typeof pe.R2L=="boolean"?pe.R2L:ht)===!0&&(j=Al(j,function(Tr,qr,xn){return[Tr.split("").reverse().join(""),qr,xn]})),Be={text:j,x:M,y:ce,options:pe,mutex:{pdfEscape:qs,activeFontKey:gt,fonts:sr,activeFontSize:We}},lt.publish("postProcessText",Be),j=Be.text,Nn=Be.mutex.isHex||!1;var Ll=sr[gt].encoding;Ll!=="WinAnsiEncoding"&&Ll!=="StandardEncoding"||(j=Al(j,function(Tr,qr,xn){return[va(Tr),qr,xn]})),Ke=Uo(j),j=[];for(var ja,no,so,Go=Array.isArray(Ke[0])?1:0,io="",Ko=function(Tr,qr,xn){var Rn="";return xn instanceof dt?(xn=typeof pe.angle=="number"?Zr(xn,new dt(1,0,0,1,Tr,qr)):Zr(new dt(1,0,0,1,Tr,qr),xn),T===P&&(xn=Zr(new dt(1,0,0,-1,0,0),xn)),Rn=xn.join(" ")+` Tm
`):Rn=K(Tr)+" "+K(qr)+` Td
`,Rn},gn=0;gn<Ke.length;gn++){switch(io="",Go){case 1:so=(Nn?"<":"(")+Ke[gn][0]+(Nn?">":")"),ja=parseFloat(Ke[gn][1]),no=parseFloat(Ke[gn][2]);break;case 0:so=(Nn?"<":"(")+Ke[gn]+(Nn?">":")"),ja=Ws(M),no=ma(ce)}ya!==void 0&&ya[gn]!==void 0&&(io=ya[gn]+` Tw
`),gn===0?j.push(io+Ko(ja,no,In)+so):Go===0?j.push(io+so):Go===1&&j.push(io+Ko(ja,no,In)+so)}j=Go===0?j.join(` Tj
T* `):j.join(` Tj
`),j+=` Tj
`;var As=`BT
/`;return As+=gt+" "+We+` Tf
`,As+=K(We*xa)+` TL
`,As+=ki+`
`,As+=rs,As+=j,ie(As+="ET"),w[gt]=!0,en};var Lo=x.__private__.clip=x.clip=function(j){return ie(j==="evenodd"?"W*":"W"),this};x.clipEvenOdd=function(){return Lo("evenodd")},x.__private__.discardPath=x.discardPath=function(){return ie("n"),this};var Wi=x.__private__.isValidStyle=function(j){var M=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(j)!==-1&&(M=!0),M};x.__private__.setDefaultPathOperation=x.setDefaultPathOperation=function(j){return Wi(j)&&(h=j),this};var bl=x.__private__.getStyle=x.getStyle=function(j){var M=h;switch(j){case"D":case"S":M="S";break;case"F":M="f";break;case"FD":case"DF":M="B";break;case"f":case"f*":case"B":case"B*":M=j}return M},Cr=x.close=function(){return ie("h"),this};x.stroke=function(){return ie("S"),this},x.fill=function(j){return Io("f",j),this},x.fillEvenOdd=function(j){return Io("f*",j),this},x.fillStroke=function(j){return Io("B",j),this},x.fillStrokeEvenOdd=function(j){return Io("B*",j),this};var Io=function(j,M){Xr(M)==="object"?Eu(M,j):ie(j)},Ja=function(j){j===null||T===P&&j===void 0||(j=bl(j),ie(j))};function bc(j,M,ce,pe,je){var Be=new yd(M||this.boundingBox,ce||this.xStep,pe||this.yStep,this.gState,je||this.matrix);Be.stream=this.stream;var Ke=j+"$$"+this.cloneIndex+++"$$";return zr(Ke,Be),Be}var Eu=function(j,M){var ce=kr[j.key],pe=Dt[ce];if(pe instanceof ru)ie("q"),ie(Pu(M)),pe.gState&&x.setGState(pe.gState),ie(j.matrix.toString()+" cm"),ie("/"+ce+" sh"),ie("Q");else if(pe instanceof yd){var je=new dt(1,0,0,-1,0,oi());j.matrix&&(je=je.multiply(j.matrix||cs),ce=bc.call(pe,j.key,j.boundingBox,j.xStep,j.yStep,je).id),ie("q"),ie("/Pattern cs"),ie("/"+ce+" scn"),pe.gState&&x.setGState(pe.gState),ie(M),ie("Q")}},Pu=function(j){switch(j){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},jl=x.moveTo=function(j,M){return ie(K(U(j))+" "+K(te(M))+" m"),this},Nl=x.lineTo=function(j,M){return ie(K(U(j))+" "+K(te(M))+" l"),this},Ss=x.curveTo=function(j,M,ce,pe,je,Be){return ie([K(U(j)),K(te(M)),K(U(ce)),K(te(pe)),K(U(je)),K(te(Be)),"c"].join(" ")),this};x.__private__.line=x.line=function(j,M,ce,pe,je){if(isNaN(j)||isNaN(M)||isNaN(ce)||isNaN(pe)||!Wi(je))throw new Error("Invalid arguments passed to jsPDF.line");return T===R?this.lines([[ce-j,pe-M]],j,M,[1,1],je||"S"):this.lines([[ce-j,pe-M]],j,M,[1,1]).stroke()},x.__private__.lines=x.lines=function(j,M,ce,pe,je,Be){var Ke,yt,Tt,Qt,tr,Sr,fn,In,en,zn,Nn,rs;if(typeof j=="number"&&(rs=ce,ce=M,M=j,j=rs),pe=pe||[1,1],Be=Be||!1,isNaN(M)||isNaN(ce)||!Array.isArray(j)||!Array.isArray(pe)||!Wi(je)||typeof Be!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(jl(M,ce),Ke=pe[0],yt=pe[1],Qt=j.length,zn=M,Nn=ce,Tt=0;Tt<Qt;Tt++)(tr=j[Tt]).length===2?(zn=tr[0]*Ke+zn,Nn=tr[1]*yt+Nn,Nl(zn,Nn)):(Sr=tr[0]*Ke+zn,fn=tr[1]*yt+Nn,In=tr[2]*Ke+zn,en=tr[3]*yt+Nn,zn=tr[4]*Ke+zn,Nn=tr[5]*yt+Nn,Ss(Sr,fn,In,en,zn,Nn));return Be&&Cr(),Ja(je),this},x.path=function(j){for(var M=0;M<j.length;M++){var ce=j[M],pe=ce.c;switch(ce.op){case"m":jl(pe[0],pe[1]);break;case"l":Nl(pe[0],pe[1]);break;case"c":Ss.apply(this,pe);break;case"h":Cr()}}return this},x.__private__.rect=x.rect=function(j,M,ce,pe,je){if(isNaN(j)||isNaN(M)||isNaN(ce)||isNaN(pe)||!Wi(je))throw new Error("Invalid arguments passed to jsPDF.rect");return T===R&&(pe=-pe),ie([K(U(j)),K(te(M)),K(U(ce)),K(U(pe)),"re"].join(" ")),Ja(je),this},x.__private__.triangle=x.triangle=function(j,M,ce,pe,je,Be,Ke){if(isNaN(j)||isNaN(M)||isNaN(ce)||isNaN(pe)||isNaN(je)||isNaN(Be)||!Wi(Ke))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ce-j,pe-M],[je-ce,Be-pe],[j-je,M-Be]],j,M,[1,1],Ke,!0),this},x.__private__.roundedRect=x.roundedRect=function(j,M,ce,pe,je,Be,Ke){if(isNaN(j)||isNaN(M)||isNaN(ce)||isNaN(pe)||isNaN(je)||isNaN(Be)||!Wi(Ke))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var yt=4/3*(Math.SQRT2-1);return je=Math.min(je,.5*ce),Be=Math.min(Be,.5*pe),this.lines([[ce-2*je,0],[je*yt,0,je,Be-Be*yt,je,Be],[0,pe-2*Be],[0,Be*yt,-je*yt,Be,-je,Be],[2*je-ce,0],[-je*yt,0,-je,-Be*yt,-je,-Be],[0,2*Be-pe],[0,-Be*yt,je*yt,-Be,je,-Be]],j+je,M,[1,1],Ke,!0),this},x.__private__.ellipse=x.ellipse=function(j,M,ce,pe,je){if(isNaN(j)||isNaN(M)||isNaN(ce)||isNaN(pe)||!Wi(je))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Be=4/3*(Math.SQRT2-1)*ce,Ke=4/3*(Math.SQRT2-1)*pe;return jl(j+ce,M),Ss(j+ce,M-Ke,j+Be,M-pe,j,M-pe),Ss(j-Be,M-pe,j-ce,M-Ke,j-ce,M),Ss(j-ce,M+Ke,j-Be,M+pe,j,M+pe),Ss(j+Be,M+pe,j+ce,M+Ke,j+ce,M),Ja(je),this},x.__private__.circle=x.circle=function(j,M,ce,pe){if(isNaN(j)||isNaN(M)||isNaN(ce)||!Wi(pe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(j,M,ce,ce,pe)},x.setFont=function(j,M,ce){return ce&&(M=ee(M,ce)),gt=Au(j,M,{disableWarning:!1}),this};var Gi=x.__private__.getFont=x.getFont=function(){return sr[Au.apply(x,arguments)]};x.__private__.getFontList=x.getFontList=function(){var j,M,ce={};for(j in ir)if(ir.hasOwnProperty(j))for(M in ce[j]=[],ir[j])ir[j].hasOwnProperty(M)&&ce[j].push(M);return ce},x.addFont=function(j,M,ce,pe,je){var Be=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Be.indexOf(arguments[3])!==-1?je=arguments[3]:arguments[3]&&Be.indexOf(arguments[3])==-1&&(ce=ee(ce,pe)),vl.call(this,j,M,ce,je=je||"Identity-H")};var ks,ni=n.lineWidth||.200025,Ro=x.__private__.getLineWidth=x.getLineWidth=function(){return ni},Gt=x.__private__.setLineWidth=x.setLineWidth=function(j){return ni=j,ie(K(U(j))+" w"),this};x.__private__.setLineDash=Ft.API.setLineDash=Ft.API.setLineDashPattern=function(j,M){if(j=j||[],M=M||0,isNaN(M)||!Array.isArray(j))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return j=j.map(function(ce){return K(U(ce))}).join(" "),M=K(U(M)),ie("["+j+"] "+M+" d"),this};var Ki=x.__private__.getLineHeight=x.getLineHeight=function(){return We*ks};x.__private__.getLineHeight=x.getLineHeight=function(){return We*ks};var Kd=x.__private__.setLineHeightFactor=x.setLineHeightFactor=function(j){return typeof(j=j||1.15)=="number"&&(ks=j),this},Tu=x.__private__.getLineHeightFactor=x.getLineHeightFactor=function(){return ks};Kd(n.lineHeight);var Ws=x.__private__.getHorizontalCoordinate=function(j){return U(j)},ma=x.__private__.getVerticalCoordinate=function(j){return T===P?j:Ut[V].mediaBox.topRightY-Ut[V].mediaBox.bottomLeftY-U(j)},Lu=x.__private__.getHorizontalCoordinateString=x.getHorizontalCoordinateString=function(j){return K(Ws(j))},_l=x.__private__.getVerticalCoordinateString=x.getVerticalCoordinateString=function(j){return K(ma(j))},Oo=n.strokeColor||"0 G";x.__private__.getStrokeColor=x.getDrawColor=function(){return Vi(Oo)},x.__private__.setStrokeColor=x.setDrawColor=function(j,M,ce,pe){return Oo=ts({ch1:j,ch2:M,ch3:ce,ch4:pe,pdfColorType:"draw",precision:2}),ie(Oo),this};var jc=n.fillColor||"0 g";x.__private__.getFillColor=x.getFillColor=function(){return Vi(jc)},x.__private__.setFillColor=x.setFillColor=function(j,M,ce,pe){return jc=ts({ch1:j,ch2:M,ch3:ce,ch4:pe,pdfColorType:"fill",precision:2}),ie(jc),this};var ki=n.textColor||"0 g",Do=x.__private__.getTextColor=x.getTextColor=function(){return Vi(ki)};x.__private__.setTextColor=x.setTextColor=function(j,M,ce,pe){return ki=ts({ch1:j,ch2:M,ch3:ce,ch4:pe,pdfColorType:"text",precision:3}),this};var Cs=n.charSpace,Sl=x.__private__.getCharSpace=x.getCharSpace=function(){return parseFloat(Cs||0)};x.__private__.setCharSpace=x.setCharSpace=function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Cs=j,this};var Nc=0;x.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},x.__private__.setLineCap=x.setLineCap=function(j){var M=x.CapJoinStyles[j];if(M===void 0)throw new Error("Line cap style of '"+j+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Nc=M,ie(M+" J"),this};var _c=0;x.__private__.setLineJoin=x.setLineJoin=function(j){var M=x.CapJoinStyles[j];if(M===void 0)throw new Error("Line join style of '"+j+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return _c=M,ie(M+" j"),this},x.__private__.setLineMiterLimit=x.__private__.setMiterLimit=x.setLineMiterLimit=x.setMiterLimit=function(j){if(j=j||0,isNaN(j))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ie(K(U(j))+" M"),this},x.GState=Wp,x.setGState=function(j){(j=typeof j=="string"?Et[Yt[j]]:kl(null,j)).equals(Pr)||(ie("/"+j.id+" gs"),Pr=j)};var kl=function(j,M){if(!j||!Yt[j]){var ce=!1;for(var pe in Et)if(Et.hasOwnProperty(pe)&&Et[pe].equals(M)){ce=!0;break}if(ce)M=Et[pe];else{var je="GS"+(Object.keys(Et).length+1).toString(10);Et[je]=M,M.id=je}return j&&(Yt[j]=M.id),lt.publish("addGState",M),M}};x.addGState=function(j,M){return kl(j,M),this},x.saveGraphicsState=function(){return ie("q"),Dr.push({key:gt,size:We,color:ki}),this},x.restoreGraphicsState=function(){ie("Q");var j=Dr.pop();return gt=j.key,We=j.size,ki=j.color,Pr=null,this},x.setCurrentTransformationMatrix=function(j){return ie(j.toString()+" cm"),this},x.comment=function(j){return ie("#"+j),this};var si=function(j,M){var ce=j||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ce},set:function(Be){isNaN(Be)||(ce=parseFloat(Be))}});var pe=M||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return pe},set:function(Be){isNaN(Be)||(pe=parseFloat(Be))}});var je="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return je},set:function(Be){je=Be.toString()}}),this},Mo=function(j,M,ce,pe){si.call(this,j,M),this.type="rect";var je=ce||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return je},set:function(Ke){isNaN(Ke)||(je=parseFloat(Ke))}});var Be=pe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Be},set:function(Ke){isNaN(Ke)||(Be=parseFloat(Ke))}}),this},Fo=function(){this.page=Xt,this.currentPage=V,this.pages=De.slice(0),this.pagesContext=Ut.slice(0),this.x=xt,this.y=$r,this.matrix=pr,this.width=Xa(V),this.height=Bo(V),this.outputDestination=tt,this.id="",this.objectNumber=-1};Fo.prototype.restore=function(){Xt=this.page,V=this.currentPage,Ut=this.pagesContext,De=this.pages,xt=this.x,$r=this.y,pr=this.matrix,Sc(V,this.width),ai(V,this.height),tt=this.outputDestination};var ii=function(j,M,ce,pe,je){es.push(new Fo),Xt=V=0,De=[],xt=j,$r=M,pr=je,Ya([ce,pe])};for(var ga in x.beginFormObject=function(j,M,ce,pe,je){return ii(j,M,ce,pe,je),this},x.endFormObject=function(j){return(function(M){if(on[M])es.pop().restore();else{var ce=new Fo,pe="Xo"+(Object.keys(yr).length+1).toString(10);ce.id=pe,on[M]=pe,yr[pe]=ce,lt.publish("addFormObject",ce),es.pop().restore()}})(j),this},x.doFormObject=function(j,M){var ce=yr[on[j]];return ie("q"),ie(M.toString()+" cm"),ie("/"+ce.id+" Do"),ie("Q"),this},x.getFormObject=function(j){var M=yr[on[j]];return{x:M.x,y:M.y,width:M.width,height:M.height,matrix:M.matrix}},x.save=function(j,M){return j=j||"generated.pdf",(M=M||{}).returnPromise=M.returnPromise||!1,M.returnPromise===!1?(Qc(Hi(Hs()),j),typeof Qc.unload=="function"&&er.setTimeout&&setTimeout(Qc.unload,911),this):new Promise(function(ce,pe){try{var je=Qc(Hi(Hs()),j);typeof Qc.unload=="function"&&er.setTimeout&&setTimeout(Qc.unload,911),ce(je)}catch(Be){pe(Be.message)}})},Ft.API)Ft.API.hasOwnProperty(ga)&&(ga==="events"&&Ft.API.events.length?(function(j,M){var ce,pe,je;for(je=M.length-1;je!==-1;je--)ce=M[je][0],pe=M[je][1],j.subscribe.apply(j,[ce].concat(typeof pe=="function"?[pe]:pe))})(lt,Ft.API.events):x[ga]=Ft.API[ga]);function Xa(j){return Ut[j].mediaBox.topRightX-Ut[j].mediaBox.bottomLeftX}function Sc(j,M){Ut[j].mediaBox.topRightX=M+Ut[j].mediaBox.bottomLeftX}function Bo(j){return Ut[j].mediaBox.topRightY-Ut[j].mediaBox.bottomLeftY}function ai(j,M){Ut[j].mediaBox.topRightY=M+Ut[j].mediaBox.bottomLeftY}var Yi=x.getPageWidth=function(j){return Xa(j=j||V)/$t},us=x.setPageWidth=function(j,M){Sc(j,M*$t)},oi=x.getPageHeight=function(j){return Bo(j=j||V)/$t},Cl=x.setPageHeight=function(j,M){ai(j,M*$t)};return x.internal={pdfEscape:qs,getStyle:bl,getFont:Gi,getFontSize:ct,getCharSpace:Sl,getTextColor:Do,getLineHeight:Ki,getLineHeightFactor:Tu,getLineWidth:Ro,write:st,getHorizontalCoordinate:Ws,getVerticalCoordinate:ma,getCoordinateString:Lu,getVerticalCoordinateString:_l,collections:{},newObject:Mr,newAdditionalObject:pa,newObjectDeferred:Fr,newObjectDeferredBegin:jn,getFilters:ti,putStream:zs,events:lt,scaleFactor:$t,pageSize:{getWidth:function(){return Yi(V)},setWidth:function(j){us(V,j)},getHeight:function(){return oi(V)},setHeight:function(j){Cl(V,j)}},encryptionOptions:p,encryption:$n,getEncryptor:function(j){return p!==null?$n.encryptor(j,0):function(M){return M}},output:To,getNumberOfPages:Vs,get pages(){return De},out:ie,f2:L,f3:z,getPageInfo:Si,getPageInfoByObjId:yc,getCurrentPageInfo:wc,getPDFVersion:_,Point:si,Rectangle:Mo,Matrix:dt,hasHotfix:ri},Object.defineProperty(x.internal.pageSize,"width",{get:function(){return Yi(V)},set:function(j){us(V,j)},enumerable:!0,configurable:!0}),Object.defineProperty(x.internal.pageSize,"height",{get:function(){return oi(V)},set:function(j){Cl(V,j)},enumerable:!0,configurable:!0}),function(j){for(var M=0,ce=Bt.length;M<ce;M++){var pe=vl.call(this,j[M][0],j[M][1],j[M][2],Bt[M][3],!0);g===!1&&(w[pe]=!0);var je=j[M][0].split("-");ku({id:pe,fontName:je[0],fontStyle:je[1]||""})}lt.publish("addFonts",{fonts:sr,dictionary:ir})}.call(x,Bt),gt="F1",Cu(i,t),lt.publish("initialized"),x}gd.prototype.lsbFirstWord=function(n){return String.fromCharCode(255&n,n>>8&255,n>>16&255,n>>24&255)},gd.prototype.toHexString=function(n){return n.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},gd.prototype.hexToBytes=function(n){for(var e=[],t=0;t<n.length;t+=2)e.push(String.fromCharCode(parseInt(n.substr(t,2),16)));return e.join("")},gd.prototype.processOwnerPassword=function(n,e){return Yx(Kx(e).substr(0,5),n)},gd.prototype.encryptor=function(n,e){var t=Kx(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&e,e>>8&255)).substr(0,10);return function(s){return Yx(t,s)}},Wp.prototype.equals=function(n){var e,t="id,objectNumber,equals";if(!n||Xr(n)!==Xr(this))return!1;var s=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!n.hasOwnProperty(e)||this[e]!==n[e])return!1;s++}for(e in n)n.hasOwnProperty(e)&&t.indexOf(e)<0&&s--;return s===0},Ft.API={events:[]},Ft.version="3.0.4";var Bn=Ft.API,ev=1,Su=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},hd=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},or=function(n){return n.toFixed(2)},tc=function(n){return n.toFixed(5)};Bn.__acroform__={};var ji=function(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n},M2=function(n){return n*ev},mo=function(n){var e=new n_,t=At.internal.getHeight(n)||0,s=At.internal.getWidth(n)||0;return e.BBox=[0,0,Number(or(s)),Number(or(t))],e},LD=Bn.__acroform__.setBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|1<<e},ID=Bn.__acroform__.clearBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&~(1<<e)},RD=Bn.__acroform__.getBit=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return n&1<<e?1:0},Wn=Bn.__acroform__.getBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return RD(n,e-1)},Gn=Bn.__acroform__.setBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return LD(n,e-1)},Kn=Bn.__acroform__.clearBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return ID(n,e-1)},OD=Bn.__acroform__.calculateCoordinates=function(n,e){var t=e.internal.getHorizontalCoordinate,s=e.internal.getVerticalCoordinate,i=n[0],o=n[1],c=n[2],u=n[3],d={};return d.lowerLeft_X=t(i)||0,d.lowerLeft_Y=s(o+u)||0,d.upperRight_X=t(i+c)||0,d.upperRight_Y=s(o)||0,[Number(or(d.lowerLeft_X)),Number(or(d.lowerLeft_Y)),Number(or(d.upperRight_X)),Number(or(d.upperRight_Y))]},DD=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var e=[],t=n._V||n.DV,s=Jx(n,t),i=n.scope.internal.getFont(n.fontName,n.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(n.scope.__private__.encodeColorString(n.color)),e.push("/"+i+" "+or(s.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(s.text),e.push("ET"),e.push("Q"),e.push("EMC");var o=mo(n);return o.scope=n.scope,o.stream=e.join(`
`),o}},Jx=function(n,e){var t=n.fontSize===0?n.maxFontSize:n.fontSize,s={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=n.multiline?i.map(function(L){return L.split(`
`)}):i.map(function(L){return[L]});var o=t,c=At.internal.getHeight(n)||0;c=c<0?-c:c;var u=At.internal.getWidth(n)||0;u=u<0?-u:u;var d=function(L,z,U){if(L+1<i.length){var te=z+" "+i[L+1][0];return hp(te,n,U).width<=u-4}return!1};o++;e:for(;o>0;){e="",o--;var h,p,g=hp("3",n,o).height,w=n.multiline?c-o:(c-g)/2,x=w+=2,S=0,_=0,k=0;if(o<=0){e=`(...) Tj
`,e+="% Width of Text: "+hp(e,n,o=12).width+", FieldWidth:"+u+`
`;break}for(var b="",R=0,P=0;P<i.length;P++)if(i.hasOwnProperty(P)){var T=!1;if(i[P].length!==1&&k!==i[P].length-1){if((g+2)*(R+2)+2>c)continue e;b+=i[P][k],T=!0,_=P,P--}else{b=(b+=i[P][k]+" ").substr(b.length-1)==" "?b.substr(0,b.length-1):b;var F=parseInt(P),ne=d(F,b,o),ee=P>=i.length-1;if(ne&&!ee){b+=" ",k=0;continue}if(ne||ee){if(ee)_=F;else if(n.multiline&&(g+2)*(R+2)+2>c)continue e}else{if(!n.multiline||(g+2)*(R+2)+2>c)continue e;_=F}}for(var K="",Y=S;Y<=_;Y++){var q=i[Y];if(n.multiline){if(Y===_){K+=q[k]+" ",k=(k+1)%q.length;continue}if(Y===S){K+=q[q.length-1]+" ";continue}}K+=q[0]+" "}switch(K=K.substr(K.length-1)==" "?K.substr(0,K.length-1):K,p=hp(K,n,o).width,n.textAlign){case"right":h=u-p-2;break;case"center":h=(u-p)/2;break;default:h=2}e+=or(h)+" "+or(x)+` Td
`,e+="("+Su(K)+`) Tj
`,e+=-or(h)+` 0 Td
`,x=-(o+2),p=0,S=T?_:_+1,R++,b=""}break}return s.text=e,s.fontSize=o,s},hp=function(n,e,t){var s=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(n,{font:s,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:s,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:i}},MD={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},FD=function(n,e){var t={type:"reference",object:n};e.internal.getPageInfo(n.page).pageContext.annotations.find(function(s){return s.type===t.type&&s.object===t.object})===void 0&&e.internal.getPageInfo(n.page).pageContext.annotations.push(t)},BD=function(n,e){if(e.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(Ha.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(MD)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");ev=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new s_,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var s=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in s)if(s.hasOwnProperty(i)){var o=s[i];o.objId=void 0,o.hasAnnotation&&FD(o,t)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(t){(function(s,i){var o=!s;for(var c in s||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),s=s||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(s.hasOwnProperty(c)){var u=s[c],d=[],h=u.Rect;if(u.Rect&&(u.Rect=OD(u.Rect,i)),i.internal.newObjectDeferredBegin(u.objId,!0),u.DA=At.createDefaultAppearanceStream(u),Xr(u)==="object"&&typeof u.getKeyValueListForStream=="function"&&(d=u.getKeyValueListForStream()),u.Rect=h,u.hasAppearanceStream&&!u.appearanceStreamContent){var p=DD(u);d.push({key:"AP",value:"<</N "+p+">>"}),i.internal.acroformPlugin.xForms.push(p)}if(u.appearanceStreamContent){var g="";for(var w in u.appearanceStreamContent)if(u.appearanceStreamContent.hasOwnProperty(w)){var x=u.appearanceStreamContent[w];if(g+="/"+w+" ",g+="<<",Object.keys(x).length>=1||Array.isArray(x)){for(var c in x)if(x.hasOwnProperty(c)){var S=x[c];typeof S=="function"&&(S=S.call(i,u)),g+="/"+c+" "+S+" ",i.internal.acroformPlugin.xForms.indexOf(S)>=0||i.internal.acroformPlugin.xForms.push(S)}}else typeof(S=x)=="function"&&(S=S.call(i,u)),g+="/"+c+" "+S,i.internal.acroformPlugin.xForms.indexOf(S)>=0||i.internal.acroformPlugin.xForms.push(S);g+=">>"}d.push({key:"AP",value:`<<
`+g+">>"})}i.internal.putStream({additionalKeyValues:d,objectId:u.objId}),i.internal.out("endobj")}o&&(function(_,k){for(var b in _)if(_.hasOwnProperty(b)){var R=b,P=_[b];k.internal.newObjectDeferredBegin(P.objId,!0),Xr(P)==="object"&&typeof P.putStream=="function"&&P.putStream(),delete _[R]}})(i.internal.acroformPlugin.xForms,i)})(t,n)}),n.internal.acroformPlugin.isInitialized=!0}},r_=Bn.__acroform__.arrayToPdfArray=function(n,e,t){var s=function(c){return c};if(Array.isArray(n)){for(var i="[",o=0;o<n.length;o++)switch(o!==0&&(i+=" "),Xr(n[o])){case"boolean":case"number":case"object":i+=n[o].toString();break;case"string":n[o].substr(0,1)!=="/"?(e!==void 0&&t&&(s=t.internal.getEncryptor(e)),i+="("+Su(s(n[o].toString()))+")"):i+=n[o].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},ix=function(n,e,t){var s=function(i){return i};return e!==void 0&&t&&(s=t.internal.getEncryptor(e)),(n=n||"").toString(),"("+Su(s(n))+")"},xo=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};xo.prototype.toString=function(){return this.objId+" 0 R"},xo.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},xo.prototype.getKeyValueListForStream=function(){var n=[],e=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var s=e[t],i=this[s];i&&(Array.isArray(i)?n.push({key:s,value:r_(i,this.objId,this.scope)}):i instanceof xo?(i.scope=this.scope,n.push({key:s,value:i.objId+" 0 R"})):typeof i!="function"&&n.push({key:s,value:i}))}return n};var n_=function(){xo.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){n=t.trim()},get:function(){return n||null}})};ji(n_,xo);var s_=function(){xo.call(this);var n,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var t=function(s){return s};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+Su(t(n))+")"}},set:function(t){n=t}})};ji(s_,xo);var Ha=function n(){xo.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(b){if(isNaN(b))throw new Error('Invalid value "'+b+'" for attribute F supplied.');e=b}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Wn(e,3)},set:function(b){b?this.F=Gn(e,3):this.F=Kn(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(b){if(isNaN(b))throw new Error('Invalid value "'+b+'" for attribute Ff supplied.');t=b}});var s=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(s.length!==0)return s},set:function(b){s=b!==void 0?b:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[0])?0:s[0]},set:function(b){s[0]=b}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[1])?0:s[1]},set:function(b){s[1]=b}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[2])?0:s[2]},set:function(b){s[2]=b}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[3])?0:s[3]},set:function(b){s[3]=b}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(b){switch(b){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=b;break;default:throw new Error('Invalid value "'+b+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof Gp)return;o="FieldObject"+n.FieldNum++}var b=function(R){return R};return this.scope&&(b=this.scope.internal.getEncryptor(this.objId)),"("+Su(b(o))+")"},set:function(b){o=b.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(b){o=b}});var c="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return c},set:function(b){c=b}});var u="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return u},set:function(b){u=b}});var d=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return d},set:function(b){d=b}});var h=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return h===void 0?50/ev:h},set:function(b){h=b}});var p="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return p},set:function(b){p=b}});var g="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!g||this instanceof Gp||this instanceof ou))return ix(g,this.objId,this.scope)},set:function(b){b=b.toString(),g=b}});var w=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(w)return this instanceof xs==0?ix(w,this.objId,this.scope):w},set:function(b){b=b.toString(),w=this instanceof xs==0?b.substr(0,1)==="("?hd(b.substr(1,b.length-2)):hd(b):b}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof xs==1?hd(w.substr(1,w.length-1)):w},set:function(b){b=b.toString(),w=this instanceof xs==1?"/"+b:b}});var x=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(x)return x},set:function(b){this.V=b}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(x)return this instanceof xs==0?ix(x,this.objId,this.scope):x},set:function(b){b=b.toString(),x=this instanceof xs==0?b.substr(0,1)==="("?hd(b.substr(1,b.length-2)):hd(b):b}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof xs==1?hd(x.substr(1,x.length-1)):x},set:function(b){b=b.toString(),x=this instanceof xs==1?"/"+b:b}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var S,_=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return _},set:function(b){b=!!b,_=b}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(S)return S},set:function(b){S=b}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Wn(this.Ff,1)},set:function(b){b?this.Ff=Gn(this.Ff,1):this.Ff=Kn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Wn(this.Ff,2)},set:function(b){b?this.Ff=Gn(this.Ff,2):this.Ff=Kn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Wn(this.Ff,3)},set:function(b){b?this.Ff=Gn(this.Ff,3):this.Ff=Kn(this.Ff,3)}});var k=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(k!==null)return k},set:function(b){if([0,1,2].indexOf(b)===-1)throw new Error('Invalid value "'+b+'" for attribute Q supplied.');k=b}}),Object.defineProperty(this,"textAlign",{get:function(){var b;switch(k){case 0:default:b="left";break;case 1:b="center";break;case 2:b="right"}return b},configurable:!0,enumerable:!0,set:function(b){switch(b){case"right":case 2:k=2;break;case"center":case 1:k=1;break;default:k=0}}})};ji(Ha,xo);var Sd=function(){Ha.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){n=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return r_(e,this.objId,this.scope)},set:function(t){var s,i;i=[],typeof(s=t)=="string"&&(i=(function(o,c,u){u||(u=1);for(var d,h=[];d=c.exec(o);)h.push(d[u]);return h})(s,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,s){for(s=s||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),s!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Wn(this.Ff,18)},set:function(t){t?this.Ff=Gn(this.Ff,18):this.Ff=Kn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Wn(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=Gn(this.Ff,19):this.Ff=Kn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Wn(this.Ff,20)},set:function(t){t?(this.Ff=Gn(this.Ff,20),e.sort()):this.Ff=Kn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Wn(this.Ff,22)},set:function(t){t?this.Ff=Gn(this.Ff,22):this.Ff=Kn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Wn(this.Ff,23)},set:function(t){t?this.Ff=Gn(this.Ff,23):this.Ff=Kn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Wn(this.Ff,27)},set:function(t){t?this.Ff=Gn(this.Ff,27):this.Ff=Kn(this.Ff,27)}}),this.hasAppearanceStream=!1};ji(Sd,Ha);var kd=function(){Sd.call(this),this.fontName="helvetica",this.combo=!1};ji(kd,Sd);var Cd=function(){kd.call(this),this.combo=!0};ji(Cd,kd);var bp=function(){Cd.call(this),this.edit=!0};ji(bp,Cd);var xs=function(){Ha.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Wn(this.Ff,15)},set:function(t){t?this.Ff=Gn(this.Ff,15):this.Ff=Kn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Wn(this.Ff,16)},set:function(t){t?this.Ff=Gn(this.Ff,16):this.Ff=Kn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Wn(this.Ff,17)},set:function(t){t?this.Ff=Gn(this.Ff,17):this.Ff=Kn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Wn(this.Ff,26)},set:function(t){t?this.Ff=Gn(this.Ff,26):this.Ff=Kn(this.Ff,26)}});var n,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(o){return o};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var s,i=[];for(s in i.push("<<"),e)i.push("/"+s+" ("+Su(t(e[s]))+")");return i.push(">>"),i.join(`
`)}},set:function(t){Xr(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(t){n="/"+t}})};ji(xs,Ha);var jp=function(){xs.call(this),this.pushButton=!0};ji(jp,xs);var Ad=function(){xs.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e!==void 0?e:[]}})};ji(Ad,xs);var Gp=function(){var n,e;Ha.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var t,s={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(u){return u};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var o,c=[];for(o in c.push("<<"),s)c.push("/"+o+" ("+Su(i(s[o]))+")");return c.push(">>"),c.join(`
`)},set:function(i){Xr(i)==="object"&&(s=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return s.CA||""},set:function(i){typeof i=="string"&&(s.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(i){t="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=At.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};ji(Gp,Ha),Ad.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=n.createAppearanceStream(t.optionName),t.caption=n.getCA()}},Ad.prototype.createOption=function(n){var e=new Gp;return e.Parent=this,e.optionName=n,this.Kids.push(e),UD.call(this.scope,e),e};var Np=function(){xs.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=At.CheckBox.createAppearanceStream()};ji(Np,xs);var ou=function(){Ha.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Wn(this.Ff,13)},set:function(e){e?this.Ff=Gn(this.Ff,13):this.Ff=Kn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Wn(this.Ff,21)},set:function(e){e?this.Ff=Gn(this.Ff,21):this.Ff=Kn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Wn(this.Ff,23)},set:function(e){e?this.Ff=Gn(this.Ff,23):this.Ff=Kn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Wn(this.Ff,24)},set:function(e){e?this.Ff=Gn(this.Ff,24):this.Ff=Kn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Wn(this.Ff,25)},set:function(e){e?this.Ff=Gn(this.Ff,25):this.Ff=Kn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Wn(this.Ff,26)},set:function(e){e?this.Ff=Gn(this.Ff,26):this.Ff=Kn(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){Number.isInteger(e)&&(n=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};ji(ou,Ha);var _p=function(){ou.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Wn(this.Ff,14)},set:function(n){n?this.Ff=Gn(this.Ff,14):this.Ff=Kn(this.Ff,14)}}),this.password=!0};ji(_p,ou);var At={CheckBox:{createAppearanceStream:function(){return{N:{On:At.CheckBox.YesNormal},D:{On:At.CheckBox.YesPushDown,Off:At.CheckBox.OffPushDown}}},YesPushDown:function(n){var e=mo(n);e.scope=n.scope;var t=[],s=n.scope.internal.getFont(n.fontName,n.fontStyle).id,i=n.scope.__private__.encodeColorString(n.color),o=Jx(n,n.caption);return t.push("0.749023 g"),t.push("0 0 "+or(At.internal.getWidth(n))+" "+or(At.internal.getHeight(n))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+s+" "+or(o.fontSize)+" Tf "+i),t.push("BT"),t.push(o.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(n){var e=mo(n);e.scope=n.scope;var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,s=n.scope.__private__.encodeColorString(n.color),i=[],o=At.internal.getHeight(n),c=At.internal.getWidth(n),u=Jx(n,n.caption);return i.push("1 g"),i.push("0 0 "+or(c)+" "+or(o)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+or(c-1)+" "+or(o-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+t+" "+or(u.fontSize)+" Tf "+s),i.push(u.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(n){var e=mo(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+or(At.internal.getWidth(n))+" "+or(At.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(n){var e={D:{Off:At.RadioButton.Circle.OffPushDown},N:{}};return e.N[n]=At.RadioButton.Circle.YesNormal,e.D[n]=At.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(n){var e=mo(n);e.scope=n.scope;var t=[],s=At.internal.getWidth(n)<=At.internal.getHeight(n)?At.internal.getWidth(n)/4:At.internal.getHeight(n)/4;s=Number((.9*s).toFixed(5));var i=At.internal.Bezier_C,o=Number((s*i).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+tc(At.internal.getWidth(n)/2)+" "+tc(At.internal.getHeight(n)/2)+" cm"),t.push(s+" 0 m"),t.push(s+" "+o+" "+o+" "+s+" 0 "+s+" c"),t.push("-"+o+" "+s+" -"+s+" "+o+" -"+s+" 0 c"),t.push("-"+s+" -"+o+" -"+o+" -"+s+" 0 -"+s+" c"),t.push(o+" -"+s+" "+s+" -"+o+" "+s+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=mo(n);e.scope=n.scope;var t=[],s=At.internal.getWidth(n)<=At.internal.getHeight(n)?At.internal.getWidth(n)/4:At.internal.getHeight(n)/4;s=Number((.9*s).toFixed(5));var i=Number((2*s).toFixed(5)),o=Number((i*At.internal.Bezier_C).toFixed(5)),c=Number((s*At.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+tc(At.internal.getWidth(n)/2)+" "+tc(At.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),t.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),t.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),t.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+tc(At.internal.getWidth(n)/2)+" "+tc(At.internal.getHeight(n)/2)+" cm"),t.push(s+" 0 m"),t.push(s+" "+c+" "+c+" "+s+" 0 "+s+" c"),t.push("-"+c+" "+s+" -"+s+" "+c+" -"+s+" 0 c"),t.push("-"+s+" -"+c+" -"+c+" -"+s+" 0 -"+s+" c"),t.push(c+" -"+s+" "+s+" -"+c+" "+s+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(n){var e=mo(n);e.scope=n.scope;var t=[],s=At.internal.getWidth(n)<=At.internal.getHeight(n)?At.internal.getWidth(n)/4:At.internal.getHeight(n)/4;s=Number((.9*s).toFixed(5));var i=Number((2*s).toFixed(5)),o=Number((i*At.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+tc(At.internal.getWidth(n)/2)+" "+tc(At.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),t.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),t.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),t.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(n){var e={D:{Off:At.RadioButton.Cross.OffPushDown},N:{}};return e.N[n]=At.RadioButton.Cross.YesNormal,e.D[n]=At.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(n){var e=mo(n);e.scope=n.scope;var t=[],s=At.internal.calculateCross(n);return t.push("q"),t.push("1 1 "+or(At.internal.getWidth(n)-2)+" "+or(At.internal.getHeight(n)-2)+" re"),t.push("W"),t.push("n"),t.push(or(s.x1.x)+" "+or(s.x1.y)+" m"),t.push(or(s.x2.x)+" "+or(s.x2.y)+" l"),t.push(or(s.x4.x)+" "+or(s.x4.y)+" m"),t.push(or(s.x3.x)+" "+or(s.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=mo(n);e.scope=n.scope;var t=At.internal.calculateCross(n),s=[];return s.push("0.749023 g"),s.push("0 0 "+or(At.internal.getWidth(n))+" "+or(At.internal.getHeight(n))+" re"),s.push("f"),s.push("q"),s.push("1 1 "+or(At.internal.getWidth(n)-2)+" "+or(At.internal.getHeight(n)-2)+" re"),s.push("W"),s.push("n"),s.push(or(t.x1.x)+" "+or(t.x1.y)+" m"),s.push(or(t.x2.x)+" "+or(t.x2.y)+" l"),s.push(or(t.x4.x)+" "+or(t.x4.y)+" m"),s.push(or(t.x3.x)+" "+or(t.x3.y)+" l"),s.push("s"),s.push("Q"),e.stream=s.join(`
`),e},OffPushDown:function(n){var e=mo(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+or(At.internal.getWidth(n))+" "+or(At.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(n){var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,t=n.scope.__private__.encodeColorString(n.color);return"/"+e+" "+n.fontSize+" Tf "+t}};At.internal={Bezier_C:.551915024494,calculateCross:function(n){var e=At.internal.getWidth(n),t=At.internal.getHeight(n),s=Math.min(e,t);return{x1:{x:(e-s)/2,y:(t-s)/2+s},x2:{x:(e-s)/2+s,y:(t-s)/2},x3:{x:(e-s)/2,y:(t-s)/2},x4:{x:(e-s)/2+s,y:(t-s)/2+s}}}},At.internal.getWidth=function(n){var e=0;return Xr(n)==="object"&&(e=M2(n.Rect[2])),e},At.internal.getHeight=function(n){var e=0;return Xr(n)==="object"&&(e=M2(n.Rect[3])),e};var UD=Bn.addField=function(n){if(BD(this,n),!(n instanceof Ha))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=n).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};Bn.AcroFormChoiceField=Sd,Bn.AcroFormListBox=kd,Bn.AcroFormComboBox=Cd,Bn.AcroFormEditBox=bp,Bn.AcroFormButton=xs,Bn.AcroFormPushButton=jp,Bn.AcroFormRadioButton=Ad,Bn.AcroFormCheckBox=Np,Bn.AcroFormTextField=ou,Bn.AcroFormPasswordField=_p,Bn.AcroFormAppearance=At,Bn.AcroForm={ChoiceField:Sd,ListBox:kd,ComboBox:Cd,EditBox:bp,Button:xs,PushButton:jp,RadioButton:Ad,CheckBox:Np,TextField:ou,PasswordField:_p,Appearance:At},Ft.AcroForm={ChoiceField:Sd,ListBox:kd,ComboBox:Cd,EditBox:bp,Button:xs,PushButton:jp,RadioButton:Ad,CheckBox:Np,TextField:ou,PasswordField:_p,Appearance:At};Ft.AcroForm;function i_(n){return n.reduce(function(e,t,s){return e[t]=s,e},{})}(function(n){var e="addImage_";n.__addimage__={};var t="UNKNOWN",s={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=n.__addimage__.getImageFileTypeByImageData=function(L,z){var U,te,re,ue,fe,B=t;if((z=z||t)==="RGBA"||L.data!==void 0&&L.data instanceof Uint8ClampedArray&&"height"in L&&"width"in L)return"RGBA";if(ne(L))for(fe in s)for(re=s[fe],U=0;U<re.length;U+=1){for(ue=!0,te=0;te<re[U].length;te+=1)if(re[U][te]!==void 0&&re[U][te]!==L[te]){ue=!1;break}if(ue===!0){B=fe;break}}else for(fe in s)for(re=s[fe],U=0;U<re.length;U+=1){for(ue=!0,te=0;te<re[U].length;te+=1)if(re[U][te]!==void 0&&re[U][te]!==L.charCodeAt(te)){ue=!1;break}if(ue===!0){B=fe;break}}return B===t&&z!==t&&(B=z),B},o=function L(z){for(var U=this.internal.write,te=this.internal.putStream,re=(0,this.internal.getFilters)();re.indexOf("FlateEncode")!==-1;)re.splice(re.indexOf("FlateEncode"),1);z.objectId=this.internal.newObject();var ue=[];if(ue.push({key:"Type",value:"/XObject"}),ue.push({key:"Subtype",value:"/Image"}),ue.push({key:"Width",value:z.width}),ue.push({key:"Height",value:z.height}),z.colorSpace===b.INDEXED?ue.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(z.palette.length/3-1)+" "+("sMask"in z&&z.sMask!==void 0?z.objectId+2:z.objectId+1)+" 0 R]"}):(ue.push({key:"ColorSpace",value:"/"+z.colorSpace}),z.colorSpace===b.DEVICE_CMYK&&ue.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ue.push({key:"BitsPerComponent",value:z.bitsPerComponent}),"decodeParameters"in z&&z.decodeParameters!==void 0&&ue.push({key:"DecodeParms",value:"<<"+z.decodeParameters+">>"}),"transparency"in z&&Array.isArray(z.transparency)&&z.transparency.length>0){for(var fe="",B=0,Z=z.transparency.length;B<Z;B++)fe+=z.transparency[B]+" "+z.transparency[B]+" ";ue.push({key:"Mask",value:"["+fe+"]"})}z.sMask!==void 0&&ue.push({key:"SMask",value:z.objectId+1+" 0 R"});var me=z.filter!==void 0?["/"+z.filter]:void 0;if(te({data:z.data,additionalKeyValues:ue,alreadyAppliedFilters:me,objectId:z.objectId}),U("endobj"),"sMask"in z&&z.sMask!==void 0){var H,O=(H=z.sMaskBitsPerComponent)!==null&&H!==void 0?H:z.bitsPerComponent,V={width:z.width,height:z.height,colorSpace:"DeviceGray",bitsPerComponent:O,data:z.sMask};"filter"in z&&(V.decodeParameters="/Predictor ".concat(z.predictor," /Colors 1 /BitsPerComponent ").concat(O," /Columns ").concat(z.width),V.filter=z.filter),L.call(this,V)}if(z.colorSpace===b.INDEXED){var X=this.internal.newObject();te({data:K(new Uint8Array(z.palette)),objectId:X}),U("endobj")}},c=function(){var L=this.internal.collections[e+"images"];for(var z in L)o.call(this,L[z])},u=function(){var L,z=this.internal.collections[e+"images"],U=this.internal.write;for(var te in z)U("/I"+(L=z[te]).index,L.objectId,"0","R")},d=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",c),this.internal.events.subscribe("putXobjectDict",u))},h=function(){var L=this.internal.collections[e+"images"];return d.call(this),L},p=function(){return Object.keys(this.internal.collections[e+"images"]).length},g=function(L){return typeof n["process"+L.toUpperCase()]=="function"},w=function(L){return Xr(L)==="object"&&L.nodeType===1},x=function(L,z){if(L.nodeName==="IMG"&&L.hasAttribute("src")){var U=""+L.getAttribute("src");if(U.indexOf("data:image/")===0)return wp(unescape(U).split("base64,").pop());var te=n.loadFile(U,!0);if(te!==void 0)return te}if(L.nodeName==="CANVAS"){if(L.width===0||L.height===0)throw new Error("Given canvas must have data. Canvas width: "+L.width+", height: "+L.height);var re;switch(z){case"PNG":re="image/png";break;case"WEBP":re="image/webp";break;default:re="image/jpeg"}return wp(L.toDataURL(re,1).split("base64,").pop())}},S=function(L){var z=this.internal.collections[e+"images"];if(z){for(var U in z)if(L===z[U].alias)return z[U]}},_=function(L,z,U){return L||z||(L=-96,z=-96),L<0&&(L=-1*U.width*72/L/this.internal.scaleFactor),z<0&&(z=-1*U.height*72/z/this.internal.scaleFactor),L===0&&(L=z*U.width/U.height),z===0&&(z=L*U.height/U.width),[L,z]},k=function(L,z,U,te,re,ue){var fe=_.call(this,U,te,re),B=this.internal.getCoordinateString,Z=this.internal.getVerticalCoordinateString,me=h.call(this);if(U=fe[0],te=fe[1],me[re.index]=re,ue){ue*=Math.PI/180;var H=Math.cos(ue),O=Math.sin(ue),V=function(se){return se.toFixed(4)},X=[V(H),V(O),V(-1*O),V(H),0,0,"cm"]}this.internal.write("q"),ue?(this.internal.write([1,"0","0",1,B(L),Z(z+te),"cm"].join(" ")),this.internal.write(X.join(" ")),this.internal.write([B(U),"0","0",B(te),"0","0","cm"].join(" "))):this.internal.write([B(U),"0","0",B(te),B(L),Z(z+te),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+re.index+" Do"),this.internal.write("Q")},b=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var R=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},P=n.__addimage__.sHashCode=function(L){var z,U,te=0;if(typeof L=="string")for(U=L.length,z=0;z<U;z++)te=(te<<5)-te+L.charCodeAt(z),te|=0;else if(ne(L))for(U=L.byteLength/2,z=0;z<U;z++)te=(te<<5)-te+L[z],te|=0;return te},T=n.__addimage__.validateStringAsBase64=function(L){(L=L||"").toString().trim();var z=!0;return L.length===0&&(z=!1),L.length%4!=0&&(z=!1),/^[A-Za-z0-9+/]+$/.test(L.substr(0,L.length-2))===!1&&(z=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(L.substr(-2))===!1&&(z=!1),z},F=n.__addimage__.extractImageFromDataUrl=function(L){if(L==null||!(L=L.trim()).startsWith("data:"))return null;var z=L.indexOf(",");return z<0?null:L.substring(0,z).trim().endsWith("base64")?L.substring(z+1):null};n.__addimage__.isArrayBuffer=function(L){return L instanceof ArrayBuffer};var ne=n.__addimage__.isArrayBufferView=function(L){return L instanceof Int8Array||L instanceof Uint8Array||L instanceof Uint8ClampedArray||L instanceof Int16Array||L instanceof Uint16Array||L instanceof Int32Array||L instanceof Uint32Array||L instanceof Float32Array||L instanceof Float64Array},ee=n.__addimage__.binaryStringToUint8Array=function(L){for(var z=L.length,U=new Uint8Array(z),te=0;te<z;te++)U[te]=L.charCodeAt(te);return U},K=n.__addimage__.arrayBufferToBinaryString=function(L){for(var z="",U=ne(L)?L:new Uint8Array(L),te=0;te<U.length;te+=8192)z+=String.fromCharCode.apply(null,U.subarray(te,te+8192));return z};n.addImage=function(){var L,z,U,te,re,ue,fe,B,Z;if(typeof arguments[1]=="number"?(z=t,U=arguments[1],te=arguments[2],re=arguments[3],ue=arguments[4],fe=arguments[5],B=arguments[6],Z=arguments[7]):(z=arguments[1],U=arguments[2],te=arguments[3],re=arguments[4],ue=arguments[5],fe=arguments[6],B=arguments[7],Z=arguments[8]),Xr(L=arguments[0])==="object"&&!w(L)&&"imageData"in L){var me=L;L=me.imageData,z=me.format||z||t,U=me.x||U||0,te=me.y||te||0,re=me.w||me.width||re,ue=me.h||me.height||ue,fe=me.alias||fe,B=me.compression||B,Z=me.rotation||me.angle||Z}var H=this.internal.getFilters();if(B===void 0&&H.indexOf("FlateEncode")!==-1&&(B="SLOW"),isNaN(U)||isNaN(te))throw new Error("Invalid coordinates passed to jsPDF.addImage");d.call(this);var O=Y.call(this,L,z,fe,B);return k.call(this,U,te,re,ue,O,Z),this};var Y=function(L,z,U,te){var re,ue,fe;if(typeof L=="string"&&i(L)===t){L=unescape(L);var B=q(L,!1);(B!==""||(B=n.loadFile(L,!0))!==void 0)&&(L=B)}if(w(L)&&(L=x(L,z)),z=i(L,z),!g(z))throw new Error("addImage does not support files of type '"+z+"', please ensure that a plugin for '"+z+"' support is added.");if(((fe=U)==null||fe.length===0)&&(U=(function(Z){return typeof Z=="string"||ne(Z)?P(Z):ne(Z.data)?P(Z.data):null})(L)),(re=S.call(this,U))||(L instanceof Uint8Array||z==="RGBA"||(ue=L,L=ee(L)),re=this["process"+z.toUpperCase()](L,p.call(this),U,(function(Z){return Z&&typeof Z=="string"&&(Z=Z.toUpperCase()),Z in n.image_compression?Z:R.NONE})(te),ue)),!re)throw new Error("An unknown error occurred whilst processing the image.");return re},q=n.__addimage__.convertBase64ToBinaryString=function(L,z){z=typeof z!="boolean"||z;var U,te="";if(typeof L=="string"){var re;U=(re=F(L))!==null&&re!==void 0?re:L;try{te=wp(U)}catch(ue){if(z)throw T(U)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ue.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return te};n.getImageProperties=function(L){var z,U,te="";if(w(L)&&(L=x(L)),typeof L=="string"&&i(L)===t&&((te=q(L,!1))===""&&(te=n.loadFile(L)||""),L=te),U=i(L),!g(U))throw new Error("addImage does not support files of type '"+U+"', please ensure that a plugin for '"+U+"' support is added.");if(L instanceof Uint8Array||(L=ee(L)),!(z=this["process"+U.toUpperCase()](L)))throw new Error("An unknown error occurred whilst processing the image");return z.fileType=U,z}})(Ft.API),(function(n){var e=function(t){if(t!==void 0&&t!="")return!0};Ft.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(t){for(var s,i,o,c=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString,d=this.internal.getPageInfoByObjId(t.objId),h=t.pageContext.annotations,p=!1,g=0;g<h.length&&!p;g++)switch((s=h[g]).type){case"link":(e(s.options.url)||e(s.options.pageNumber))&&(p=!0);break;case"reference":case"text":case"freetext":p=!0}if(p!=0){this.internal.write("/Annots [");for(var w=0;w<h.length;w++){s=h[w];var x=this.internal.pdfEscape,S=this.internal.getEncryptor(t.objId);switch(s.type){case"reference":this.internal.write(" "+s.object.objId+" 0 R ");break;case"text":var _=this.internal.newAdditionalObject(),k=this.internal.newAdditionalObject(),b=this.internal.getEncryptor(_.objId),R=s.title||"Note";o="<</Type /Annot /Subtype /Text "+(i="/Rect ["+c(s.bounds.x)+" "+u(s.bounds.y+s.bounds.h)+" "+c(s.bounds.x+s.bounds.w)+" "+u(s.bounds.y)+"] ")+"/Contents ("+x(b(s.contents))+")",o+=" /Popup "+k.objId+" 0 R",o+=" /P "+d.objId+" 0 R",o+=" /T ("+x(b(R))+") >>",_.content=o;var P=_.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+c(s.bounds.x+30)+" "+u(s.bounds.y+s.bounds.h)+" "+c(s.bounds.x+s.bounds.w+30)+" "+u(s.bounds.y)+"] ")+" /Parent "+P,s.open&&(o+=" /Open true"),o+=" >>",k.content=o,this.internal.write(_.objId,"0 R",k.objId,"0 R");break;case"freetext":i="/Rect ["+c(s.bounds.x)+" "+u(s.bounds.y)+" "+c(s.bounds.x+s.bounds.w)+" "+u(s.bounds.y+s.bounds.h)+"] ";var T=s.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+x(S(s.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+T+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(s.options.name){var F=this.annotations._nameMap[s.options.name];s.options.pageNumber=F.page,s.options.top=F.y}else s.options.top||(s.options.top=0);if(i="/Rect ["+s.finalBounds.x+" "+s.finalBounds.y+" "+s.finalBounds.w+" "+s.finalBounds.h+"] ",o="",s.options.url)o="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+x(S(s.options.url))+") >>";else if(s.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(s.options.pageNumber).objId+" 0 R",s.options.magFactor=s.options.magFactor||"XYZ",s.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+s.options.top+"]";break;case"FitV":s.options.left=s.options.left||0,o+=" /FitV "+s.options.left+"]";break;default:var ne=u(s.options.top);s.options.left=s.options.left||0,s.options.zoom===void 0&&(s.options.zoom=0),o+=" /XYZ "+s.options.left+" "+ne+" "+s.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),n.createAnnotation=function(t){var s=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":s.pageContext.annotations.push(t)}},n.link=function(t,s,i,o,c){var u=this.internal.getCurrentPageInfo(),d=this.internal.getCoordinateString,h=this.internal.getVerticalCoordinateString;u.pageContext.annotations.push({finalBounds:{x:d(t),y:h(s),w:d(t+i),h:h(s+o)},options:c,type:"link"})},n.textWithLink=function(t,s,i,o){var c,u,d=this.getTextWidth(t),h=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){u=o.maxWidth;var p=this.splitTextToSize(t,u).length;c=Math.ceil(h*p)}else u=d,c=h;return this.text(t,s,i,o),i+=.2*h,o.align==="center"&&(s-=d/2),o.align==="right"&&(s-=d),this.link(s,i-h,u,c,o),d},n.getTextWidth=function(t){var s=this.internal.getFontSize();return this.getStringUnitWidth(t)*s/this.internal.scaleFactor}})(Ft.API),(function(n){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},s={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];n.__arabicParser__={};var o=n.__arabicParser__.isInArabicSubstitutionA=function(_){return e[_.charCodeAt(0)]!==void 0},c=n.__arabicParser__.isArabicLetter=function(_){return typeof _=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(_)},u=n.__arabicParser__.isArabicEndLetter=function(_){return c(_)&&o(_)&&e[_.charCodeAt(0)].length<=2},d=n.__arabicParser__.isArabicAlfLetter=function(_){return c(_)&&i.indexOf(_.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(_){return c(_)&&o(_)&&e[_.charCodeAt(0)].length>=1};var h=n.__arabicParser__.arabicLetterHasFinalForm=function(_){return c(_)&&o(_)&&e[_.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(_){return c(_)&&o(_)&&e[_.charCodeAt(0)].length>=3};var p=n.__arabicParser__.arabicLetterHasMedialForm=function(_){return c(_)&&o(_)&&e[_.charCodeAt(0)].length==4},g=n.__arabicParser__.resolveLigatures=function(_){var k=0,b=t,R="",P=0;for(k=0;k<_.length;k+=1)b[_.charCodeAt(k)]!==void 0?(P++,typeof(b=b[_.charCodeAt(k)])=="number"&&(R+=String.fromCharCode(b),b=t,P=0),k===_.length-1&&(b=t,R+=_.charAt(k-(P-1)),k-=P-1,P=0)):(b=t,R+=_.charAt(k-P),k-=P,P=0);return R};n.__arabicParser__.isArabicDiacritic=function(_){return _!==void 0&&s[_.charCodeAt(0)]!==void 0};var w=n.__arabicParser__.getCorrectForm=function(_,k,b){return c(_)?o(_)===!1?-1:!h(_)||!c(k)&&!c(b)||!c(b)&&u(k)||u(_)&&!c(k)||u(_)&&d(k)||u(_)&&u(k)?0:p(_)&&c(k)&&!u(k)&&c(b)&&h(b)?3:u(_)||!c(b)?1:2:-1},x=function(_){var k=0,b=0,R=0,P="",T="",F="",ne=(_=_||"").split("\\s+"),ee=[];for(k=0;k<ne.length;k+=1){for(ee.push(""),b=0;b<ne[k].length;b+=1)P=ne[k][b],T=ne[k][b-1],F=ne[k][b+1],c(P)?(R=w(P,T,F),ee[k]+=R!==-1?String.fromCharCode(e[P.charCodeAt(0)][R]):P):ee[k]+=P;ee[k]=g(ee[k])}return ee.join(" ")},S=n.__arabicParser__.processArabic=n.processArabic=function(){var _,k=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,b=[];if(Array.isArray(k)){var R=0;for(b=[],R=0;R<k.length;R+=1)Array.isArray(k[R])?b.push([x(k[R][0]),k[R][1],k[R][2]]):b.push([x(k[R])]);_=b}else _=x(k);return typeof arguments[0]=="string"?_:(arguments[0].text=_,arguments[0])};n.events.push(["preProcessText",S])})(Ft.API),Ft.API.autoPrint=function(n){var e;return(n=n||{}).variant=n.variant||"non-conform",n.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(n){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(u){t=u}});var s=150;Object.defineProperty(this,"width",{get:function(){return s},set:function(u){s=isNaN(u)||Number.isInteger(u)===!1||u<0?150:u,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=s+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(u){i=isNaN(u)||Number.isInteger(u)===!1||u<0?300:u,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(u){o=u}});var c={};Object.defineProperty(this,"style",{get:function(){return c},set:function(u){c=u}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,s){var i;if((t=t||"2d")!=="2d")return null;for(i in s)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=s[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(Ft.API),(function(n){var e={left:0,top:0,bottom:0,right:0},t=!1,s=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var d=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return d},set:function(_){d=_}});var h=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return h},set:function(_){h=_}});var p=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return p},set:function(_){p=_}});var g=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return g},set:function(_){g=_}});var w=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return w},set:function(_){w=_}});var x=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return x},set:function(_){x=_}});var S=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return S},set:function(_){S=_}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(d){return s.call(this),this.internal.__cell__.headerFunction=typeof d=="function"?d:void 0,this},n.getTextDimensions=function(d,h){s.call(this);var p=(h=h||{}).fontSize||this.getFontSize(),g=h.font||this.getFont(),w=h.scaleFactor||this.internal.scaleFactor,x=0,S=0,_=0,k=this;if(!Array.isArray(d)&&typeof d!="string"){if(typeof d!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");d=String(d)}var b=h.maxWidth;b>0?typeof d=="string"?d=this.splitTextToSize(d,b):Object.prototype.toString.call(d)==="[object Array]"&&(d=d.reduce(function(P,T){return P.concat(k.splitTextToSize(T,b))},[])):d=Array.isArray(d)?d:[d];for(var R=0;R<d.length;R++)x<(_=this.getStringUnitWidth(d[R],{font:g})*p)&&(x=_);return x!==0&&(S=d.length),{w:x/=w,h:Math.max((S*p*this.getLineHeightFactor()-p*(this.getLineHeightFactor()-1))/w,0)}},n.cellAddPage=function(){s.call(this),this.addPage();var d=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new o(d.left,d.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var c=n.cell=function(){var d;d=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),s.call(this);var h=this.internal.__cell__.lastCell,p=this.internal.__cell__.padding,g=this.internal.__cell__.margins||e,w=this.internal.__cell__.tableHeaderRow,x=this.internal.__cell__.printHeaders;return h.lineNumber!==void 0&&(h.lineNumber===d.lineNumber?(d.x=(h.x||0)+(h.width||0),d.y=h.y||0):h.y+h.height+d.height+g.bottom>this.getPageHeight()?(this.cellAddPage(),d.y=g.top,x&&w&&(this.printHeaderRow(d.lineNumber,!0),d.y+=w[0].height)):d.y=h.y+h.height||d.y),d.text[0]!==void 0&&(this.rect(d.x,d.y,d.width,d.height,t===!0?"FD":void 0),d.align==="right"?this.text(d.text,d.x+d.width-p,d.y+p,{align:"right",baseline:"top"}):d.align==="center"?this.text(d.text,d.x+d.width/2,d.y+p,{align:"center",baseline:"top",maxWidth:d.width-p-p}):this.text(d.text,d.x+p,d.y+p,{align:"left",baseline:"top",maxWidth:d.width-p-p})),this.internal.__cell__.lastCell=d,this};n.table=function(d,h,p,g,w){if(s.call(this),!p)throw new Error("No data for PDF table.");var x,S,_,k,b=[],R=[],P=[],T={},F={},ne=[],ee=[],K=(w=w||{}).autoSize||!1,Y=w.printHeaders!==!1,q=w.css&&w.css["font-size"]!==void 0?16*w.css["font-size"]:w.fontSize||12,L=w.margins||Object.assign({width:this.getPageWidth()},e),z=typeof w.padding=="number"?w.padding:3,U=w.headerBackgroundColor||"#c8c8c8",te=w.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=Y,this.internal.__cell__.margins=L,this.internal.__cell__.table_font_size=q,this.internal.__cell__.padding=z,this.internal.__cell__.headerBackgroundColor=U,this.internal.__cell__.headerTextColor=te,this.setFontSize(q),g==null)R=b=Object.keys(p[0]),P=b.map(function(){return"left"});else if(Array.isArray(g)&&Xr(g[0])==="object")for(b=g.map(function(me){return me.name}),R=g.map(function(me){return me.prompt||me.name||""}),P=g.map(function(me){return me.align||"left"}),x=0;x<g.length;x+=1)F[g[x].name]=.7499990551181103*g[x].width;else Array.isArray(g)&&typeof g[0]=="string"&&(R=b=g,P=b.map(function(){return"left"}));if(K||Array.isArray(g)&&typeof g[0]=="string")for(x=0;x<b.length;x+=1){for(T[k=b[x]]=p.map(function(me){return me[k]}),this.setFont(void 0,"bold"),ne.push(this.getTextDimensions(R[x],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),S=T[k],this.setFont(void 0,"normal"),_=0;_<S.length;_+=1)ne.push(this.getTextDimensions(S[_],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);F[k]=Math.max.apply(null,ne)+z+z,ne=[]}if(Y){var re={};for(x=0;x<b.length;x+=1)re[b[x]]={},re[b[x]].text=R[x],re[b[x]].align=P[x];var ue=u.call(this,re,F);ee=b.map(function(me){return new o(d,h,F[me],ue,re[me].text,void 0,re[me].align)}),this.setTableHeaderRow(ee),this.printHeaderRow(1,!1)}var fe=g.reduce(function(me,H){return me[H.name]=H.align,me},{});for(x=0;x<p.length;x+=1){"rowStart"in w&&w.rowStart instanceof Function&&w.rowStart({row:x,data:p[x]},this);var B=u.call(this,p[x],F);for(_=0;_<b.length;_+=1){var Z=p[x][b[_]];"cellStart"in w&&w.cellStart instanceof Function&&w.cellStart({row:x,col:_,data:Z},this),c.call(this,new o(d,h,F[b[_]],B,Z,x+2,fe[b[_]]))}}return this.internal.__cell__.table_x=d,this.internal.__cell__.table_y=h,this};var u=function(d,h){var p=this.internal.__cell__.padding,g=this.internal.__cell__.table_font_size,w=this.internal.scaleFactor;return Object.keys(d).map(function(x){var S=d[x];return this.splitTextToSize(S.hasOwnProperty("text")?S.text:S,h[x]-p-p)},this).map(function(x){return this.getLineHeightFactor()*x.length*g/w+p+p},this).reduce(function(x,S){return Math.max(x,S)},0)};n.setTableHeaderRow=function(d){s.call(this),this.internal.__cell__.tableHeaderRow=d},n.printHeaderRow=function(d,h){if(s.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var p;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var g=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(g[0],g[1],g[2],g[3],void 0,-1)}this.setFont(void 0,"bold");for(var w=[],x=0;x<this.internal.__cell__.tableHeaderRow.length;x+=1){p=this.internal.__cell__.tableHeaderRow[x].clone(),h&&(p.y=this.internal.__cell__.margins.top||0,w.push(p)),p.lineNumber=d;var S=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),c.call(this,p),this.setTextColor(S)}w.length>0&&this.setTableHeaderRow(w),this.setFont(void 0,"normal"),t=!1}})(Ft.API);var a_={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},o_=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Xx=i_(o_),l_=[100,200,300,400,500,600,700,800,900],$D=i_(l_);function ax(n){var e=n.family.replace(/"|'/g,"").toLowerCase(),t=(function(o){return a_[o=o||"normal"]?o:"normal"})(n.style),s=(function(o){return o?typeof o=="number"?o>=100&&o<=900&&o%100==0?o:400:/^\d00$/.test(o)?parseInt(o):o==="bold"?700:400:400})(n.weight),i=(function(o){return typeof Xx[o=o||"normal"]=="number"?o:"normal"})(n.stretch);return{family:e,style:t,weight:s,stretch:i,src:n.src||[],ref:n.ref||{name:e,style:[i,t,s].join(" ")}}}function F2(n,e,t,s){var i;for(i=t;i>=0&&i<e.length;i+=s)if(n[e[i]])return n[e[i]];for(i=t;i>=0&&i<e.length;i-=s)if(n[e[i]])return n[e[i]]}var zD={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},B2={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function U2(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function $2(n){return n.trimLeft()}function qD(n,e){for(var t=0;t<n.length;){if(n.charAt(t)===e)return[n.substring(0,t),n.substring(t+1)];t+=1}return null}function VD(n){var e=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],n.substring(e[0].length)]}var fp,z2,q2,fd,pp,V2,H2,W2,ox=["times"];function G2(n,e,t,s,i){var o=4,c=Y2;switch(i){case Ft.API.image_compression.FAST:o=1,c=K2;break;case Ft.API.image_compression.MEDIUM:o=6,c=J2;break;case Ft.API.image_compression.SLOW:o=9,c=X2}n=(function(d,h,p,g){for(var w,x=d.length/h,S=new Uint8Array(d.length+x),_=[HD,K2,Y2,J2,X2],k=0;k<x;k+=1){var b=k*h,R=d.subarray(b,b+h);if(g)S.set(g(R,p,w),b+k);else{for(var P=_.length,T=[],F=0;F<P;F+=1)T[F]=_[F](R,p,w);var ne=GD(T.concat());S.set(T[ne],b+k)}w=R}return S})(n,e,Math.ceil(t*s/8),c);var u=Vx(n,{level:o});return Ft.API.__addimage__.arrayBufferToBinaryString(u)}function HD(n){var e=Array.apply([],n);return e.unshift(0),e}function K2(n,e){var t=n.length,s=[];s[0]=1;for(var i=0;i<t;i+=1){var o=n[i-e]||0;s[i+1]=n[i]-o+256&255}return s}function Y2(n,e,t){var s=n.length,i=[];i[0]=2;for(var o=0;o<s;o+=1){var c=t&&t[o]||0;i[o+1]=n[o]-c+256&255}return i}function J2(n,e,t){var s=n.length,i=[];i[0]=3;for(var o=0;o<s;o+=1){var c=n[o-e]||0,u=t&&t[o]||0;i[o+1]=n[o]+256-(c+u>>>1)&255}return i}function X2(n,e,t){var s=n.length,i=[];i[0]=4;for(var o=0;o<s;o+=1){var c=WD(n[o-e]||0,t&&t[o]||0,t&&t[o-e]||0);i[o+1]=n[o]-c+256&255}return i}function WD(n,e,t){if(n===e&&e===t)return n;var s=Math.abs(e-t),i=Math.abs(n-t),o=Math.abs(n+e-t-t);return s<=i&&s<=o?n:i<=o?e:t}function GD(n){var e=n.map(function(t){return t.reduce(function(s,i){return s+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function lx(n,e,t){var s=e*t,i=Math.floor(s/8),o=16-(s-8*i+t),c=(1<<t)-1;return c_(n,i)>>o&c}function Q2(n,e,t,s){var i=t*s,o=Math.floor(i/8),c=16-(i-8*o+s),u=(1<<s)-1,d=(e&u)<<c;(function(h,p,g){if(p+1<h.byteLength)h.setUint16(p,g,!1);else{var w=g>>8&255;h.setUint8(p,w)}})(n,o,c_(n,o)&~(u<<c)&65535|d)}function c_(n,e){return e+1<n.byteLength?n.getUint16(e,!1):n.getUint8(e)<<8}function KD(n){var e=0;if(n[e++]!==71||n[e++]!==73||n[e++]!==70||n[e++]!==56||(n[e++]+1&253)!=56||n[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=n[e++]|n[e++]<<8,s=n[e++]|n[e++]<<8,i=n[e++],o=i>>7,c=1<<1+(7&i);n[e++],n[e++];var u=null,d=null;o&&(u=e,d=c,e+=3*c);var h=!0,p=[],g=0,w=null,x=0,S=null;for(this.width=t,this.height=s;h&&e<n.length;)switch(n[e++]){case 33:switch(n[e++]){case 255:if(n[e]!==11||n[e+1]==78&&n[e+2]==69&&n[e+3]==84&&n[e+4]==83&&n[e+5]==67&&n[e+6]==65&&n[e+7]==80&&n[e+8]==69&&n[e+9]==50&&n[e+10]==46&&n[e+11]==48&&n[e+12]==3&&n[e+13]==1&&n[e+16]==0)e+=14,S=n[e++]|n[e++]<<8,e++;else for(e+=12;;){if(!((L=n[e++])>=0))throw Error("Invalid block size");if(L===0)break;e+=L}break;case 249:if(n[e++]!==4||n[e+4]!==0)throw new Error("Invalid graphics extension block.");var _=n[e++];g=n[e++]|n[e++]<<8,w=n[e++],1&_||(w=null),x=_>>2&7,e++;break;case 254:for(;;){if(!((L=n[e++])>=0))throw Error("Invalid block size");if(L===0)break;e+=L}break;default:throw new Error("Unknown graphic control label: 0x"+n[e-1].toString(16))}break;case 44:var k=n[e++]|n[e++]<<8,b=n[e++]|n[e++]<<8,R=n[e++]|n[e++]<<8,P=n[e++]|n[e++]<<8,T=n[e++],F=T>>6&1,ne=1<<1+(7&T),ee=u,K=d,Y=!1;T>>7&&(Y=!0,ee=e,K=ne,e+=3*ne);var q=e;for(e++;;){var L;if(!((L=n[e++])>=0))throw Error("Invalid block size");if(L===0)break;e+=L}p.push({x:k,y:b,width:R,height:P,has_local_palette:Y,palette_offset:ee,palette_size:K,data_offset:q,data_length:e-q,transparent_index:w,interlaced:!!F,delay:g,disposal:x});break;case 59:h=!1;break;default:throw new Error("Unknown gif block: 0x"+n[e-1].toString(16))}this.numFrames=function(){return p.length},this.loopCount=function(){return S},this.frameInfo=function(z){if(z<0||z>=p.length)throw new Error("Frame index out of range.");return p[z]},this.decodeAndBlitFrameBGRA=function(z,U){var te=this.frameInfo(z),re=te.width*te.height,ue=new Uint8Array(re);Z2(n,te.data_offset,ue,re);var fe=te.palette_offset,B=te.transparent_index;B===null&&(B=256);var Z=te.width,me=t-Z,H=Z,O=4*(te.y*t+te.x),V=4*((te.y+te.height)*t+te.x),X=O,se=4*me;te.interlaced===!0&&(se+=4*t*7);for(var de=8,le=0,ge=ue.length;le<ge;++le){var be=ue[le];if(H===0&&(H=Z,(X+=se)>=V&&(se=4*me+4*t*(de-1),X=O+(Z+me)*(de<<1),de>>=1)),be===B)X+=4;else{var Se=n[fe+3*be],De=n[fe+3*be+1],Je=n[fe+3*be+2];U[X++]=Je,U[X++]=De,U[X++]=Se,U[X++]=255}--H}},this.decodeAndBlitFrameRGBA=function(z,U){var te=this.frameInfo(z),re=te.width*te.height,ue=new Uint8Array(re);Z2(n,te.data_offset,ue,re);var fe=te.palette_offset,B=te.transparent_index;B===null&&(B=256);var Z=te.width,me=t-Z,H=Z,O=4*(te.y*t+te.x),V=4*((te.y+te.height)*t+te.x),X=O,se=4*me;te.interlaced===!0&&(se+=4*t*7);for(var de=8,le=0,ge=ue.length;le<ge;++le){var be=ue[le];if(H===0&&(H=Z,(X+=se)>=V&&(se=4*me+4*t*(de-1),X=O+(Z+me)*(de<<1),de>>=1)),be===B)X+=4;else{var Se=n[fe+3*be],De=n[fe+3*be+1],Je=n[fe+3*be+2];U[X++]=Se,U[X++]=De,U[X++]=Je,U[X++]=255}--H}}}function Z2(n,e,t,s){for(var i=n[e++],o=1<<i,c=o+1,u=c+1,d=i+1,h=(1<<d)-1,p=0,g=0,w=0,x=n[e++],S=new Int32Array(4096),_=null;;){for(;p<16&&x!==0;)g|=n[e++]<<p,p+=8,x===1?x=n[e++]:--x;if(p<d)break;var k=g&h;if(g>>=d,p-=d,k!==o){if(k===c)break;for(var b=k<u?k:_,R=0,P=b;P>o;)P=S[P]>>8,++R;var T=P;if(w+R+(b!==k?1:0)>s)return void sn.log("Warning, gif stream longer than expected.");t[w++]=T;var F=w+=R;for(b!==k&&(t[w++]=T),P=b;R--;)P=S[P],t[--F]=255&P,P>>=8;_!==null&&u<4096&&(S[u++]=_<<8|T,u>=h+1&&d<12&&(++d,h=h<<1|1)),_=k}else u=c+1,h=(1<<(d=i+1))-1,_=null}return w!==s&&sn.log("Warning, gif stream shorter than expected."),t}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function cx(n){var e,t,s,i,o,c=Math.floor,u=new Array(64),d=new Array(64),h=new Array(64),p=new Array(64),g=new Array(65535),w=new Array(65535),x=new Array(64),S=new Array(64),_=[],k=0,b=7,R=new Array(64),P=new Array(64),T=new Array(64),F=new Array(256),ne=new Array(2048),ee=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],K=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],Y=[0,1,2,3,4,5,6,7,8,9,10,11],q=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],L=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],z=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],U=[0,1,2,3,4,5,6,7,8,9,10,11],te=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],re=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ue(O,V){for(var X=0,se=0,de=new Array,le=1;le<=16;le++){for(var ge=1;ge<=O[le];ge++)de[V[se]]=[],de[V[se]][0]=X,de[V[se]][1]=le,se++,X++;X*=2}return de}function fe(O){for(var V=O[0],X=O[1]-1;X>=0;)V&1<<X&&(k|=1<<b),X--,--b<0&&(k==255?(B(255),B(0)):B(k),b=7,k=0)}function B(O){_.push(O)}function Z(O){B(O>>8&255),B(255&O)}function me(O,V,X,se,de){for(var le,ge=de[0],be=de[240],Se=(function(We,Ot){var ct,ht,_t,_r,lr,Wt,cr,nr,gt,$t,xt=0;for(gt=0;gt<8;++gt){ct=We[xt],ht=We[xt+1],_t=We[xt+2],_r=We[xt+3],lr=We[xt+4],Wt=We[xt+5],cr=We[xt+6];var $r=ct+(nr=We[xt+7]),pr=ct-nr,sr=ht+cr,ir=ht-cr,Dr=_t+Wt,Dt=_t-Wt,kr=_r+lr,Et=_r-lr,Yt=$r+kr,Pr=$r-kr,Xt=sr+Dr,Ut=sr-Dr;We[xt]=Yt+Xt,We[xt+4]=Yt-Xt;var lt=.707106781*(Ut+Pr);We[xt+2]=Pr+lt,We[xt+6]=Pr-lt;var Wr=.382683433*((Yt=Et+Dt)-(Ut=ir+pr)),yr=.5411961*Yt+Wr,on=1.306562965*Ut+Wr,es=.707106781*(Xt=Dt+ir),dt=pr+es,Zr=pr-es;We[xt+5]=Zr+yr,We[xt+3]=Zr-yr,We[xt+1]=dt+on,We[xt+7]=dt-on,xt+=8}for(xt=0,gt=0;gt<8;++gt){ct=We[xt],ht=We[xt+8],_t=We[xt+16],_r=We[xt+24],lr=We[xt+32],Wt=We[xt+40],cr=We[xt+48];var cs=ct+(nr=We[xt+56]),zr=ct-nr,ln=ht+cr,Mr=ht-cr,Fr=_t+Wt,jn=_t-Wt,pa=_r+lr,Ga=_r-lr,Ni=cs+pa,Vi=cs-pa,ts=ln+Fr,ti=ln-Fr;We[xt]=Ni+ts,We[xt+32]=Ni-ts;var zs=.707106781*(ti+Vi);We[xt+16]=Vi+zs,We[xt+48]=Vi-zs;var ko=.382683433*((Ni=Ga+jn)-(ti=Mr+zr)),_i=.5411961*Ni+ko,Ka=1.306562965*ti+ko,Co=.707106781*(ts=jn+Mr),Ao=zr+Co,xl=zr-Co;We[xt+40]=xl+_i,We[xt+24]=xl-_i,We[xt+8]=Ao+Ka,We[xt+56]=Ao-Ka,xt++}for(gt=0;gt<64;++gt)$t=We[gt]*Ot[gt],x[gt]=$t>0?$t+.5|0:$t-.5|0;return x})(O,V),De=0;De<64;++De)S[ee[De]]=Se[De];var Je=S[0]-X;X=S[0],Je==0?fe(se[0]):(fe(se[w[le=32767+Je]]),fe(g[le]));for(var tt=63;tt>0&&S[tt]==0;)tt--;if(tt==0)return fe(ge),X;for(var ut,ie=1;ie<=tt;){for(var st=ie;S[ie]==0&&ie<=tt;)++ie;var zt=ie-st;if(zt>=16){ut=zt>>4;for(var Bt=1;Bt<=ut;++Bt)fe(be);zt&=15}le=32767+S[ie],fe(de[(zt<<4)+w[le]]),fe(g[le]),ie++}return tt!=63&&fe(ge),X}function H(O){O=Math.min(Math.max(O,1),100),o!=O&&((function(V){for(var X=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],se=0;se<64;se++){var de=c((X[se]*V+50)/100);de=Math.min(Math.max(de,1),255),u[ee[se]]=de}for(var le=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ge=0;ge<64;ge++){var be=c((le[ge]*V+50)/100);be=Math.min(Math.max(be,1),255),d[ee[ge]]=be}for(var Se=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],De=0,Je=0;Je<8;Je++)for(var tt=0;tt<8;tt++)h[De]=1/(u[ee[De]]*Se[Je]*Se[tt]*8),p[De]=1/(d[ee[De]]*Se[Je]*Se[tt]*8),De++})(O<50?Math.floor(5e3/O):Math.floor(200-2*O)),o=O)}this.encode=function(O,V){V&&H(V),_=new Array,k=0,b=7,Z(65496),Z(65504),Z(16),B(74),B(70),B(73),B(70),B(0),B(1),B(1),B(0),Z(1),Z(1),B(0),B(0),(function(){Z(65499),Z(132),B(0);for(var ht=0;ht<64;ht++)B(u[ht]);B(1);for(var _t=0;_t<64;_t++)B(d[_t])})(),(function(ht,_t){Z(65472),Z(17),B(8),Z(_t),Z(ht),B(3),B(1),B(17),B(0),B(2),B(17),B(1),B(3),B(17),B(1)})(O.width,O.height),(function(){Z(65476),Z(418),B(0);for(var ht=0;ht<16;ht++)B(K[ht+1]);for(var _t=0;_t<=11;_t++)B(Y[_t]);B(16);for(var _r=0;_r<16;_r++)B(q[_r+1]);for(var lr=0;lr<=161;lr++)B(L[lr]);B(1);for(var Wt=0;Wt<16;Wt++)B(z[Wt+1]);for(var cr=0;cr<=11;cr++)B(U[cr]);B(17);for(var nr=0;nr<16;nr++)B(te[nr+1]);for(var gt=0;gt<=161;gt++)B(re[gt])})(),Z(65498),Z(12),B(3),B(1),B(0),B(2),B(17),B(3),B(17),B(0),B(63),B(0);var X=0,se=0,de=0;k=0,b=7,this.encode.displayName="_encode_";for(var le,ge,be,Se,De,Je,tt,ut,ie,st=O.data,zt=O.width,Bt=O.height,We=4*zt,Ot=0;Ot<Bt;){for(le=0;le<We;){for(De=We*Ot+le,tt=-1,ut=0,ie=0;ie<64;ie++)Je=De+(ut=ie>>3)*We+(tt=4*(7&ie)),Ot+ut>=Bt&&(Je-=We*(Ot+1+ut-Bt)),le+tt>=We&&(Je-=le+tt-We+4),ge=st[Je++],be=st[Je++],Se=st[Je++],R[ie]=(ne[ge]+ne[be+256|0]+ne[Se+512|0]>>16)-128,P[ie]=(ne[ge+768|0]+ne[be+1024|0]+ne[Se+1280|0]>>16)-128,T[ie]=(ne[ge+1280|0]+ne[be+1536|0]+ne[Se+1792|0]>>16)-128;X=me(R,h,X,e,s),se=me(P,p,se,t,i),de=me(T,p,de,t,i),le+=32}Ot+=8}if(b>=0){var ct=[];ct[1]=b+1,ct[0]=(1<<b+1)-1,fe(ct)}return Z(65497),new Uint8Array(_)},n=n||50,(function(){for(var O=String.fromCharCode,V=0;V<256;V++)F[V]=O(V)})(),e=ue(K,Y),t=ue(z,U),s=ue(q,L),i=ue(te,re),(function(){for(var O=1,V=2,X=1;X<=15;X++){for(var se=O;se<V;se++)w[32767+se]=X,g[32767+se]=[],g[32767+se][1]=X,g[32767+se][0]=se;for(var de=-(V-1);de<=-O;de++)w[32767+de]=X,g[32767+de]=[],g[32767+de][1]=X,g[32767+de][0]=V-1+de;O<<=1,V<<=1}})(),(function(){for(var O=0;O<256;O++)ne[O]=19595*O,ne[O+256|0]=38470*O,ne[O+512|0]=7471*O+32768,ne[O+768|0]=-11059*O,ne[O+1024|0]=-21709*O,ne[O+1280|0]=32768*O+8421375,ne[O+1536|0]=-27439*O,ne[O+1792|0]=-5329*O})(),H(n)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Ia(n,e){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function ew(n){function e(Y){if(!Y)throw Error("assert :P")}function t(Y,q,L){for(var z=0;4>z;z++)if(Y[q+z]!=L.charCodeAt(z))return!0;return!1}function s(Y,q,L,z,U){for(var te=0;te<U;te++)Y[q+te]=L[z+te]}function i(Y,q,L,z){for(var U=0;U<z;U++)Y[q+U]=L}function o(Y){return new Int32Array(Y)}function c(Y,q){for(var L=[],z=0;z<Y;z++)L.push(new q);return L}function u(Y,q){var L=[];return(function z(U,te,re){for(var ue=re[te],fe=0;fe<ue&&(U.push(re.length>te+1?[]:new q),!(re.length<te+1));fe++)z(U[fe],te+1,re)})(L,0,Y),L}var d=function(){var Y=this;function q(m,y){for(var A=1<<y-1>>>0;m&A;)A>>>=1;return A?(m&A-1)+A:m}function L(m,y,A,I,D){e(!(I%A));do m[y+(I-=A)]=D;while(0<I)}function z(m,y,A,I,D){if(e(2328>=D),512>=D)var W=o(512);else if((W=o(D))==null)return 0;return(function(G,J,Q,ae,xe,_e){var oe,ye,Ne=J,Me=1<<Q,Ce=o(16),Ie=o(16);for(e(xe!=0),e(ae!=null),e(G!=null),e(0<Q),ye=0;ye<xe;++ye){if(15<ae[ye])return 0;++Ce[ae[ye]]}if(Ce[0]==xe)return 0;for(Ie[1]=0,oe=1;15>oe;++oe){if(Ce[oe]>1<<oe)return 0;Ie[oe+1]=Ie[oe]+Ce[oe]}for(ye=0;ye<xe;++ye)oe=ae[ye],0<ae[ye]&&(_e[Ie[oe]++]=ye);if(Ie[15]==1)return(ae=new U).g=0,ae.value=_e[0],L(G,Ne,1,Me,ae),Me;var Oe,$e=-1,ze=Me-1,Lt=0,pt=1,rr=1,wt=1<<Q;for(ye=0,oe=1,xe=2;oe<=Q;++oe,xe<<=1){if(pt+=rr<<=1,0>(rr-=Ce[oe]))return 0;for(;0<Ce[oe];--Ce[oe])(ae=new U).g=oe,ae.value=_e[ye++],L(G,Ne+Lt,xe,wt,ae),Lt=q(Lt,oe)}for(oe=Q+1,xe=2;15>=oe;++oe,xe<<=1){if(pt+=rr<<=1,0>(rr-=Ce[oe]))return 0;for(;0<Ce[oe];--Ce[oe]){if(ae=new U,(Lt&ze)!=$e){for(Ne+=wt,Oe=1<<($e=oe)-Q;15>$e&&!(0>=(Oe-=Ce[$e]));)++$e,Oe<<=1;Me+=wt=1<<(Oe=$e-Q),G[J+($e=Lt&ze)].g=Oe+Q,G[J+$e].value=Ne-J-$e}ae.g=oe-Q,ae.value=_e[ye++],L(G,Ne+(Lt>>Q),xe,wt,ae),Lt=q(Lt,oe)}}return pt!=2*Ie[15]-1?0:Me})(m,y,A,I,D,W)}function U(){this.value=this.g=0}function te(){this.value=this.g=0}function re(){this.G=c(5,U),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=c(li,te)}function ue(m,y,A,I){e(m!=null),e(y!=null),e(2147483648>I),m.Ca=254,m.I=0,m.b=-8,m.Ka=0,m.oa=y,m.pa=A,m.Jd=y,m.Yc=A+I,m.Zc=4<=I?A+I-4+1:A,ge(m)}function fe(m,y){for(var A=0;0<y--;)A|=Se(m,128)<<y;return A}function B(m,y){var A=fe(m,y);return be(m)?-A:A}function Z(m,y,A,I){var D,W=0;for(e(m!=null),e(y!=null),e(4294967288>I),m.Sb=I,m.Ra=0,m.u=0,m.h=0,4<I&&(I=4),D=0;D<I;++D)W+=y[A+D]<<8*D;m.Ra=W,m.bb=I,m.oa=y,m.pa=A}function me(m){for(;8<=m.u&&m.bb<m.Sb;)m.Ra>>>=8,m.Ra+=m.oa[m.pa+m.bb]<<ro-8>>>0,++m.bb,m.u-=8;se(m)&&(m.h=1,m.u=0)}function H(m,y){if(e(0<=y),!m.h&&y<=Ys){var A=X(m)&Ks[y];return m.u+=y,me(m),A}return m.h=1,m.u=0}function O(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function V(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function X(m){return m.Ra>>>(m.u&ro-1)>>>0}function se(m){return e(m.bb<=m.Sb),m.h||m.bb==m.Sb&&m.u>ro}function de(m,y){m.u=y,m.h=se(m)}function le(m){m.u>=Xi&&(e(m.u>=Xi),me(m))}function ge(m){e(m!=null&&m.oa!=null),m.pa<m.Zc?(m.I=(m.oa[m.pa++]|m.I<<8)>>>0,m.b+=8):(e(m!=null&&m.oa!=null),m.pa<m.Yc?(m.b+=8,m.I=m.oa[m.pa++]|m.I<<8):m.Ka?m.b=0:(m.I<<=8,m.b+=8,m.Ka=1))}function be(m){return fe(m,1)}function Se(m,y){var A=m.Ca;0>m.b&&ge(m);var I=m.b,D=A*y>>>8,W=(m.I>>>I>D)+0;for(W?(A-=D,m.I-=D+1<<I>>>0):A=D+1,I=A,D=0;256<=I;)D+=8,I>>=8;return I=7^D+wa[I],m.b-=I,m.Ca=(A<<I)-1,W}function De(m,y,A){m[y+0]=A>>24&255,m[y+1]=A>>16&255,m[y+2]=A>>8&255,m[y+3]=255&A}function Je(m,y){return m[y+0]|m[y+1]<<8}function tt(m,y){return Je(m,y)|m[y+2]<<16}function ut(m,y){return Je(m,y)|Je(m,y+2)<<16}function ie(m,y){var A=1<<y;return e(m!=null),e(0<y),m.X=o(A),m.X==null?0:(m.Mb=32-y,m.Xa=y,1)}function st(m,y){e(m!=null),e(y!=null),e(m.Xa==y.Xa),s(y.X,0,m.X,0,1<<y.Xa)}function zt(){this.X=[],this.Xa=this.Mb=0}function Bt(m,y,A,I){e(A!=null),e(I!=null);var D=A[0],W=I[0];return D==0&&(D=(m*W+y/2)/y),W==0&&(W=(y*D+m/2)/m),0>=D||0>=W?0:(A[0]=D,I[0]=W,1)}function We(m,y){return m+(1<<y)-1>>>y}function Ot(m,y){return((4278255360&m)+(4278255360&y)>>>0&4278255360)+((16711935&m)+(16711935&y)>>>0&16711935)>>>0}function ct(m,y){Y[y]=function(A,I,D,W,G,J,Q){var ae;for(ae=0;ae<G;++ae){var xe=Y[m](J[Q+ae-1],D,W+ae);J[Q+ae]=Ot(A[I+ae],xe)}}}function ht(){this.ud=this.hd=this.jd=0}function _t(m,y){return((4278124286&(m^y))>>>1)+(m&y)>>>0}function _r(m){return 0<=m&&256>m?m:0>m?0:255<m?255:void 0}function lr(m,y){return _r(m+(m-y+.5>>1))}function Wt(m,y,A){return Math.abs(y-A)-Math.abs(m-A)}function cr(m,y,A,I,D,W,G){for(I=W[G-1],A=0;A<D;++A)W[G+A]=I=Ot(m[y+A],I)}function nr(m,y,A,I,D){var W;for(W=0;W<A;++W){var G=m[y+W],J=G>>8&255,Q=16711935&(Q=(Q=16711935&G)+((J<<16)+J));I[D+W]=(4278255360&G)+Q>>>0}}function gt(m,y){y.jd=255&m,y.hd=m>>8&255,y.ud=m>>16&255}function $t(m,y,A,I,D,W){var G;for(G=0;G<I;++G){var J=y[A+G],Q=J>>>8,ae=J,xe=255&(xe=(xe=J>>>16)+((m.jd<<24>>24)*(Q<<24>>24)>>>5));ae=255&(ae=(ae+=(m.hd<<24>>24)*(Q<<24>>24)>>>5)+((m.ud<<24>>24)*(xe<<24>>24)>>>5)),D[W+G]=(4278255360&J)+(xe<<16)+ae}}function xt(m,y,A,I,D){Y[y]=function(W,G,J,Q,ae,xe,_e,oe,ye){for(Q=_e;Q<oe;++Q)for(_e=0;_e<ye;++_e)ae[xe++]=D(J[I(W[G++])])},Y[m]=function(W,G,J,Q,ae,xe,_e){var oe=8>>W.b,ye=W.Ea,Ne=W.K[0],Me=W.w;if(8>oe)for(W=(1<<W.b)-1,Me=(1<<oe)-1;G<J;++G){var Ce,Ie=0;for(Ce=0;Ce<ye;++Ce)Ce&W||(Ie=I(Q[ae++])),xe[_e++]=D(Ne[Ie&Me]),Ie>>=oe}else Y["VP8LMapColor"+A](Q,ae,Ne,Me,xe,_e,G,J,ye)}}function $r(m,y,A,I,D){for(A=y+A;y<A;){var W=m[y++];I[D++]=W>>16&255,I[D++]=W>>8&255,I[D++]=255&W}}function pr(m,y,A,I,D){for(A=y+A;y<A;){var W=m[y++];I[D++]=W>>16&255,I[D++]=W>>8&255,I[D++]=255&W,I[D++]=W>>24&255}}function sr(m,y,A,I,D){for(A=y+A;y<A;){var W=(G=m[y++])>>16&240|G>>12&15,G=240&G|G>>28&15;I[D++]=W,I[D++]=G}}function ir(m,y,A,I,D){for(A=y+A;y<A;){var W=(G=m[y++])>>16&248|G>>13&7,G=G>>5&224|G>>3&31;I[D++]=W,I[D++]=G}}function Dr(m,y,A,I,D){for(A=y+A;y<A;){var W=m[y++];I[D++]=255&W,I[D++]=W>>8&255,I[D++]=W>>16&255}}function Dt(m,y,A,I,D,W){if(W==0)for(A=y+A;y<A;)De(I,((W=m[y++])[0]>>24|W[1]>>8&65280|W[2]<<8&16711680|W[3]<<24)>>>0),D+=32;else s(I,D,m,y,A)}function kr(m,y){Y[y][0]=Y[m+"0"],Y[y][1]=Y[m+"1"],Y[y][2]=Y[m+"2"],Y[y][3]=Y[m+"3"],Y[y][4]=Y[m+"4"],Y[y][5]=Y[m+"5"],Y[y][6]=Y[m+"6"],Y[y][7]=Y[m+"7"],Y[y][8]=Y[m+"8"],Y[y][9]=Y[m+"9"],Y[y][10]=Y[m+"10"],Y[y][11]=Y[m+"11"],Y[y][12]=Y[m+"12"],Y[y][13]=Y[m+"13"],Y[y][14]=Y[m+"0"],Y[y][15]=Y[m+"0"]}function Et(m){return m==Dl||m==Xo||m==Ic||m==Rc}function Yt(){this.eb=[],this.size=this.A=this.fb=0}function Pr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Xt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Yt,this.f.kb=new Pr,this.sd=null}function Ut(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function lt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Wr(m){return alert("todo:WebPSamplerProcessPlane"),m.T}function yr(m,y){var A=m.T,I=y.ba.f.RGBA,D=I.eb,W=I.fb+m.ka*I.A,G=Ps[y.ba.S],J=m.y,Q=m.O,ae=m.f,xe=m.N,_e=m.ea,oe=m.W,ye=y.cc,Ne=y.dc,Me=y.Mc,Ce=y.Nc,Ie=m.ka,Oe=m.ka+m.T,$e=m.U,ze=$e+1>>1;for(Ie==0?G(J,Q,null,null,ae,xe,_e,oe,ae,xe,_e,oe,D,W,null,null,$e):(G(y.ec,y.fc,J,Q,ye,Ne,Me,Ce,ae,xe,_e,oe,D,W-I.A,D,W,$e),++A);Ie+2<Oe;Ie+=2)ye=ae,Ne=xe,Me=_e,Ce=oe,xe+=m.Rc,oe+=m.Rc,W+=2*I.A,G(J,(Q+=2*m.fa)-m.fa,J,Q,ye,Ne,Me,Ce,ae,xe,_e,oe,D,W-I.A,D,W,$e);return Q+=m.fa,m.j+Oe<m.o?(s(y.ec,y.fc,J,Q,$e),s(y.cc,y.dc,ae,xe,ze),s(y.Mc,y.Nc,_e,oe,ze),A--):1&Oe||G(J,Q,null,null,ae,xe,_e,oe,ae,xe,_e,oe,D,W+I.A,null,null,$e),A}function on(m,y,A){var I=m.F,D=[m.J];if(I!=null){var W=m.U,G=y.ba.S,J=G==Lc||G==Ic;y=y.ba.f.RGBA;var Q=[0],ae=m.ka;Q[0]=m.T,m.Kb&&(ae==0?--Q[0]:(--ae,D[0]-=m.width),m.j+m.ka+m.T==m.o&&(Q[0]=m.o-m.j-ae));var xe=y.eb;ae=y.fb+ae*y.A,m=Pc(I,D[0],m.width,W,Q,xe,ae+(J?0:3),y.A),e(A==Q),m&&Et(G)&&Jo(xe,ae,J,W,Q,y.A)}return 0}function es(m){var y=m.ma,A=y.ba.S,I=11>A,D=A==ao||A==Tc||A==Lc||A==Gr||A==12||Et(A);if(y.memory=null,y.Ib=null,y.Jb=null,y.Nd=null,!El(y.Oa,m,D?11:12))return 0;if(D&&Et(A)&&Uo(),m.da)alert("todo:use_scaling");else{if(I){if(y.Ib=Wr,m.Kb){if(A=m.U+1>>1,y.memory=o(m.U+2*A),y.memory==null)return 0;y.ec=y.memory,y.fc=0,y.cc=y.ec,y.dc=y.fc+m.U,y.Mc=y.cc,y.Nc=y.dc+A,y.Ib=yr,Uo()}}else alert("todo:EmitYUV");D&&(y.Jb=on,I&&Ci())}if(I&&!ss){for(m=0;256>m;++m)Ts[m]=89858*(m-128)+Ti>>_a,Ls[m]=-22014*(m-128)+Ti,Ul[m]=-45773*(m-128),tl[m]=113618*(m-128)+Ti>>_a;for(m=Br;m<Vr;++m)y=76283*(m-16)+Ti>>_a,Uu[m-Br]=Tn(y,255),uf[m-Br]=Tn(y+8>>4,15);ss=1}return 1}function dt(m){var y=m.ma,A=m.U,I=m.T;return e(!(1&m.ka)),0>=A||0>=I?0:(A=y.Ib(m,y),y.Jb!=null&&y.Jb(m,y,A),y.Dc+=A,1)}function Zr(m){m.ma.memory=null}function cs(m,y,A,I){return H(m,8)!=47?0:(y[0]=H(m,14)+1,A[0]=H(m,14)+1,I[0]=H(m,1),H(m,3)!=0?0:!m.h)}function zr(m,y){if(4>m)return m+1;var A=m-2>>1;return(2+(1&m)<<A)+H(y,A)+1}function ln(m,y){return 120<y?y-120:1<=(A=((A=Em[y-1])>>4)*m+(8-(15&A)))?A:1;var A}function Mr(m,y,A){var I=X(A),D=m[y+=255&I].g-8;return 0<D&&(de(A,A.u+8),I=X(A),y+=m[y].value,y+=I&(1<<D)-1),de(A,A.u+m[y].g),m[y].value}function Fr(m,y,A){return A.g+=m.g,A.value+=m.value<<y>>>0,e(8>=A.g),m.g}function jn(m,y,A){var I=m.xc;return e((y=I==0?0:m.vc[m.md*(A>>I)+(y>>I)])<m.Wb),m.Ya[y]}function pa(m,y,A,I){var D=m.ab,W=m.c*y,G=m.C;y=G+y;var J=A,Q=I;for(I=m.Ta,A=m.Ua;0<D--;){var ae=m.gc[D],xe=G,_e=y,oe=J,ye=Q,Ne=(Q=I,J=A,ae.Ea);switch(e(xe<_e),e(_e<=ae.nc),ae.hc){case 2:_n(oe,ye,(_e-xe)*Ne,Q,J);break;case 0:var Me=xe,Ce=_e,Ie=Q,Oe=J,$e=(wt=ae).Ea;Me==0&&(ba(oe,ye,null,null,1,Ie,Oe),cr(oe,ye+1,0,0,$e-1,Ie,Oe+1),ye+=$e,Oe+=$e,++Me);for(var ze=1<<wt.b,Lt=ze-1,pt=We($e,wt.b),rr=wt.K,wt=wt.w+(Me>>wt.b)*pt;Me<Ce;){var mr=rr,vn=wt,ar=1;for(Qi(oe,ye,Ie,Oe-$e,1,Ie,Oe);ar<$e;){var mt=(ar&~Lt)+ze;mt>$e&&(mt=$e),(0,Wo[mr[vn++]>>8&15])(oe,ye+ +ar,Ie,Oe+ar-$e,mt-ar,Ie,Oe+ar),ar=mt}ye+=$e,Oe+=$e,++Me&Lt||(wt+=pt)}_e!=ae.nc&&s(Q,J-Ne,Q,J+(_e-xe-1)*Ne,Ne);break;case 1:for(Ne=oe,Ce=ye,$e=(oe=ae.Ea)-(Oe=oe&~(Ie=(ye=1<<ae.b)-1)),Me=We(oe,ae.b),ze=ae.K,ae=ae.w+(xe>>ae.b)*Me;xe<_e;){for(Lt=ze,pt=ae,rr=new ht,wt=Ce+Oe,mr=Ce+oe;Ce<wt;)gt(Lt[pt++],rr),Tl(rr,Ne,Ce,ye,Q,J),Ce+=ye,J+=ye;Ce<mr&&(gt(Lt[pt++],rr),Tl(rr,Ne,Ce,$e,Q,J),Ce+=$e,J+=$e),++xe&Ie||(ae+=Me)}break;case 3:if(oe==Q&&ye==J&&0<ae.b){for(Ce=Q,oe=Ne=J+(_e-xe)*Ne-(Oe=(_e-xe)*We(ae.Ea,ae.b)),ye=Q,Ie=J,Me=[],Oe=($e=Oe)-1;0<=Oe;--Oe)Me[Oe]=ye[Ie+Oe];for(Oe=$e-1;0<=Oe;--Oe)Ce[oe+Oe]=Me[Oe];Vo(ae,xe,_e,Q,Ne,Q,J)}else Vo(ae,xe,_e,oe,ye,Q,J)}J=I,Q=A}Q!=A&&s(I,A,J,Q,W)}function Ga(m,y){var A=m.V,I=m.Ba+m.c*m.C,D=y-m.C;if(e(y<=m.l.o),e(16>=D),0<D){var W=m.l,G=m.Ta,J=m.Ua,Q=W.width;if(pa(m,D,A,I),D=J=[J],e((A=m.C)<(I=y)),e(W.v<W.va),I>W.o&&(I=W.o),A<W.j){var ae=W.j-A;A=W.j,D[0]+=ae*Q}if(A>=I?A=0:(D[0]+=4*W.v,W.ka=A-W.j,W.U=W.va-W.v,W.T=I-A,A=1),A){if(J=J[0],11>(A=m.ca).S){var xe=A.f.RGBA,_e=(I=A.S,D=W.U,W=W.T,ae=xe.eb,xe.A),oe=W;for(xe=xe.fb+m.Ma*xe.A;0<oe--;){var ye=G,Ne=J,Me=D,Ce=ae,Ie=xe;switch(I){case Du:Ll(ye,Ne,Me,Ce,Ie);break;case ao:ja(ye,Ne,Me,Ce,Ie);break;case Dl:ja(ye,Ne,Me,Ce,Ie),Jo(Ce,Ie,0,Me,1,0);break;case sf:Go(ye,Ne,Me,Ce,Ie);break;case Tc:Dt(ye,Ne,Me,Ce,Ie,1);break;case Xo:Dt(ye,Ne,Me,Ce,Ie,1),Jo(Ce,Ie,0,Me,1,0);break;case Lc:Dt(ye,Ne,Me,Ce,Ie,0);break;case Ic:Dt(ye,Ne,Me,Ce,Ie,0),Jo(Ce,Ie,1,Me,1,0);break;case Gr:no(ye,Ne,Me,Ce,Ie);break;case Rc:no(ye,Ne,Me,Ce,Ie),Jd(Ce,Ie,Me,1,0);break;case Mu:so(ye,Ne,Me,Ce,Ie);break;default:e(0)}J+=Q,xe+=_e}m.Ma+=W}else alert("todo:EmitRescaledRowsYUVA");e(m.Ma<=A.height)}}m.C=y,e(m.C<=m.i)}function Ni(m){var y;if(0<m.ua)return 0;for(y=0;y<m.Wb;++y){var A=m.Ya[y].G,I=m.Ya[y].H;if(0<A[1][I[1]+0].g||0<A[2][I[2]+0].g||0<A[3][I[3]+0].g)return 0}return 1}function Vi(m,y,A,I,D,W){if(m.Z!=0){var G=m.qd,J=m.rd;for(e(ds[m.Z]!=null);y<A;++y)ds[m.Z](G,J,I,D,I,D,W),G=I,J=D,D+=W;m.qd=G,m.rd=J}}function ts(m,y){var A=m.l.ma,I=A.Z==0||A.Z==1?m.l.j:m.C;if(I=m.C<I?I:m.C,e(y<=m.l.o),y>I){var D=m.l.width,W=A.ca,G=A.tb+D*I,J=m.V,Q=m.Ba+m.c*I,ae=m.gc;e(m.ab==1),e(ae[0].hc==3),Ei(ae[0],I,y,J,Q,W,G),Vi(A,I,y,W,G,D)}m.C=m.Ma=y}function ti(m,y,A,I,D,W,G){var J=m.$/I,Q=m.$%I,ae=m.m,xe=m.s,_e=A+m.$,oe=_e;D=A+I*D;var ye=A+I*W,Ne=280+xe.ua,Me=m.Pb?J:16777216,Ce=0<xe.ua?xe.Wa:null,Ie=xe.wc,Oe=_e<ye?jn(xe,Q,J):null;e(m.C<W),e(ye<=D);var $e=!1;e:for(;;){for(;$e||_e<ye;){var ze=0;if(J>=Me){var Lt=_e-A;e((Me=m).Pb),Me.wd=Me.m,Me.xd=Lt,0<Me.s.ua&&st(Me.s.Wa,Me.s.vb),Me=J+Bu}if(Q&Ie||(Oe=jn(xe,Q,J)),e(Oe!=null),Oe.Qb&&(y[_e]=Oe.qb,$e=!0),!$e)if(le(ae),Oe.jc){ze=ae,Lt=y;var pt=_e,rr=Oe.pd[X(ze)&li-1];e(Oe.jc),256>rr.g?(de(ze,ze.u+rr.g),Lt[pt]=rr.value,ze=0):(de(ze,ze.u+rr.g-256),e(256<=rr.value),ze=rr.value),ze==0&&($e=!0)}else ze=Mr(Oe.G[0],Oe.H[0],ae);if(ae.h)break;if($e||256>ze){if(!$e)if(Oe.nd)y[_e]=(Oe.qb|ze<<8)>>>0;else{if(le(ae),$e=Mr(Oe.G[1],Oe.H[1],ae),le(ae),Lt=Mr(Oe.G[2],Oe.H[2],ae),pt=Mr(Oe.G[3],Oe.H[3],ae),ae.h)break;y[_e]=(pt<<24|$e<<16|ze<<8|Lt)>>>0}if($e=!1,++_e,++Q>=I&&(Q=0,++J,G!=null&&J<=W&&!(J%16)&&G(m,J),Ce!=null))for(;oe<_e;)ze=y[oe++],Ce.X[(506832829*ze&4294967295)>>>Ce.Mb]=ze}else if(280>ze){if(ze=zr(ze-256,ae),Lt=Mr(Oe.G[4],Oe.H[4],ae),le(ae),Lt=ln(I,Lt=zr(Lt,ae)),ae.h)break;if(_e-A<Lt||D-_e<ze)break e;for(pt=0;pt<ze;++pt)y[_e+pt]=y[_e+pt-Lt];for(_e+=ze,Q+=ze;Q>=I;)Q-=I,++J,G!=null&&J<=W&&!(J%16)&&G(m,J);if(e(_e<=D),Q&Ie&&(Oe=jn(xe,Q,J)),Ce!=null)for(;oe<_e;)ze=y[oe++],Ce.X[(506832829*ze&4294967295)>>>Ce.Mb]=ze}else{if(!(ze<Ne))break e;for($e=ze-280,e(Ce!=null);oe<_e;)ze=y[oe++],Ce.X[(506832829*ze&4294967295)>>>Ce.Mb]=ze;ze=_e,e(!($e>>>(Lt=Ce).Xa)),y[ze]=Lt.X[$e],$e=!0}$e||e(ae.h==se(ae))}if(m.Pb&&ae.h&&_e<D)e(m.m.h),m.a=5,m.m=m.wd,m.$=m.xd,0<m.s.ua&&st(m.s.vb,m.s.Wa);else{if(ae.h)break e;G?.(m,J>W?W:J),m.a=0,m.$=_e-A}return 1}return m.a=3,0}function zs(m){e(m!=null),m.vc=null,m.yc=null,m.Ya=null;var y=m.Wa;y!=null&&(y.X=null),m.vb=null,e(m!=null)}function ko(){var m=new Qt;return m==null?null:(m.a=0,m.xb=Fl,kr("Predictor","VP8LPredictors"),kr("Predictor","VP8LPredictors_C"),kr("PredictorAdd","VP8LPredictorsAdd"),kr("PredictorAdd","VP8LPredictorsAdd_C"),_n=nr,Tl=$t,Ll=$r,ja=pr,no=sr,so=ir,Go=Dr,Y.VP8LMapColor32b=Zi,Y.VP8LMapColor8b=Ho,m)}function _i(m,y,A,I,D){var W=1,G=[m],J=[y],Q=I.m,ae=I.s,xe=null,_e=0;e:for(;;){if(A)for(;W&&H(Q,1);){var oe=G,ye=J,Ne=I,Me=1,Ce=Ne.m,Ie=Ne.gc[Ne.ab],Oe=H(Ce,2);if(Ne.Oc&1<<Oe)W=0;else{switch(Ne.Oc|=1<<Oe,Ie.hc=Oe,Ie.Ea=oe[0],Ie.nc=ye[0],Ie.K=[null],++Ne.ab,e(4>=Ne.ab),Oe){case 0:case 1:Ie.b=H(Ce,3)+2,Me=_i(We(Ie.Ea,Ie.b),We(Ie.nc,Ie.b),0,Ne,Ie.K),Ie.K=Ie.K[0];break;case 3:var $e,ze=H(Ce,8)+1,Lt=16<ze?0:4<ze?1:2<ze?2:3;if(oe[0]=We(Ie.Ea,Lt),Ie.b=Lt,$e=Me=_i(ze,1,0,Ne,Ie.K)){var pt,rr=ze,wt=Ie,mr=1<<(8>>wt.b),vn=o(mr);if(vn==null)$e=0;else{var ar=wt.K[0],mt=wt.w;for(vn[0]=wt.K[0][0],pt=1;pt<1*rr;++pt)vn[pt]=Ot(ar[mt+pt],vn[pt-1]);for(;pt<4*mr;++pt)vn[pt]=0;wt.K[0]=null,wt.K[0]=vn,$e=1}}Me=$e;break;case 2:break;default:e(0)}W=Me}}if(G=G[0],J=J[0],W&&H(Q,1)&&!(W=1<=(_e=H(Q,4))&&11>=_e)){I.a=3;break e}var it;if(it=W)t:{var Sn,Jt,dr,tn=I,Yn=G,On=J,pn=_e,qn=A,Jn=tn.m,cn=tn.s,xr=[null],Lr=1,un=0,Ir=of[pn];r:for(;;){if(qn&&H(Jn,1)){var yn=H(Jn,3)+2,wn=We(Yn,yn),Kr=We(On,yn),hs=wn*Kr;if(!_i(wn,Kr,0,tn,xr))break r;for(xr=xr[0],cn.xc=yn,Sn=0;Sn<hs;++Sn){var Hr=xr[Sn]>>8&65535;xr[Sn]=Hr,Hr>=Lr&&(Lr=Hr+1)}}if(Jn.h)break r;for(Jt=0;5>Jt;++Jt){var Yr=Qo[Jt];!Jt&&0<pn&&(Yr+=1<<pn),un<Yr&&(un=Yr)}var Dn=c(Lr*Ir,U),is=Lr,Is=c(is,re);if(Is==null)var kn=null;else e(65536>=is),kn=Is;var Cn=o(un);if(kn==null||Cn==null||Dn==null){tn.a=1;break r}var fs=Dn;for(Sn=dr=0;Sn<Lr;++Sn){var Jr=kn[Sn],ps=Jr.G,di=Jr.H,Li=0,Xn=1,An=0;for(Jt=0;5>Jt;++Jt){Yr=Qo[Jt],ps[Jt]=fs,di[Jt]=dr,!Jt&&0<pn&&(Yr+=1<<pn);s:{var co,ka=Yr,$l=tn,ra=Cn,hf=fs,lh=dr,nn=0,Ii=$l.m,ch=H(Ii,1);if(i(ra,0,0,ka),ch){var uh=H(Ii,1)+1,$u=H(Ii,1),zu=H(Ii,$u==0?1:8);ra[zu]=1,uh==2&&(ra[zu=H(Ii,8)]=1);var na=1}else{var dn=o(19),Mn=H(Ii,4)+4;if(19<Mn){$l.a=3;var En=0;break s}for(co=0;co<Mn;++co)dn[Am[co]]=H(Ii,3);var zl=void 0,Ca=void 0,ql=$l,Rm=dn,Vn=ka,qu=ra,Bc=0,sa=ql.m,Ri=8,Js=c(128,U);n:for(;z(Js,0,7,Rm,19);){if(H(sa,1)){var Uc=2+2*H(sa,3);if((zl=2+H(sa,Uc))>Vn)break n}else zl=Vn;for(Ca=0;Ca<Vn&&zl--;){le(sa);var Vu=Js[0+(127&X(sa))];de(sa,sa.u+Vu.g);var uo=Vu.value;if(16>uo)qu[Ca++]=uo,uo!=0&&(Ri=uo);else{var ff=uo==16,dh=uo-16,pf=Fu[dh],hh=H(sa,Oc[dh])+pf;if(Ca+hh>Vn)break n;for(var mf=ff?Ri:0;0<hh--;)qu[Ca++]=mf}}Bc=1;break n}Bc||(ql.a=3),na=Bc}(na=na&&!Ii.h)&&(nn=z(hf,lh,8,ra,ka)),na&&nn!=0?En=nn:($l.a=3,En=0)}if(En==0)break r;if(Xn&&af[Jt]==1&&(Xn=fs[dr].g==0),Li+=fs[dr].g,dr+=En,3>=Jt){var Vl,Hu=Cn[0];for(Vl=1;Vl<Yr;++Vl)Cn[Vl]>Hu&&(Hu=Cn[Vl]);An+=Hu}}if(Jr.nd=Xn,Jr.Qb=0,Xn&&(Jr.qb=(ps[3][di[3]+0].value<<24|ps[1][di[1]+0].value<<16|ps[2][di[2]+0].value)>>>0,Li==0&&256>ps[0][di[0]+0].value&&(Jr.Qb=1,Jr.qb+=ps[0][di[0]+0].value<<8)),Jr.jc=!Jr.Qb&&6>An,Jr.jc){var $c,Xs=Jr;for($c=0;$c<li;++$c){var Aa=$c,Oi=Xs.pd[Aa],nl=Xs.G[0][Xs.H[0]+Aa];256<=nl.value?(Oi.g=nl.g+256,Oi.value=nl.value):(Oi.g=0,Oi.value=0,Aa>>=Fr(nl,8,Oi),Aa>>=Fr(Xs.G[1][Xs.H[1]+Aa],16,Oi),Aa>>=Fr(Xs.G[2][Xs.H[2]+Aa],0,Oi),Fr(Xs.G[3][Xs.H[3]+Aa],24,Oi))}}}cn.vc=xr,cn.Wb=Lr,cn.Ya=kn,cn.yc=Dn,it=1;break t}it=0}if(!(W=it)){I.a=3;break e}if(0<_e){if(ae.ua=1<<_e,!ie(ae.Wa,_e)){I.a=1,W=0;break e}}else ae.ua=0;var Wu=I,Gu=G,gf=J,Ku=Wu.s,Yu=Ku.xc;if(Wu.c=Gu,Wu.i=gf,Ku.md=We(Gu,Yu),Ku.wc=Yu==0?-1:(1<<Yu)-1,A){I.xb=ta;break e}if((xe=o(G*J))==null){I.a=1,W=0;break e}W=(W=ti(I,xe,0,G,J,J,null))&&!Q.h;break e}return W?(D!=null?D[0]=xe:(e(xe==null),e(A)),I.$=0,A||zs(ae)):zs(ae),W}function Ka(m,y){var A=m.c*m.i,I=A+y+16*y;return e(m.c<=y),m.V=o(I),m.V==null?(m.Ta=null,m.Ua=0,m.a=1,0):(m.Ta=m.V,m.Ua=m.Ba+A+y,1)}function Co(m,y){var A=m.C,I=y-A,D=m.V,W=m.Ba+m.c*A;for(e(y<=m.l.o);0<I;){var G=16<I?16:I,J=m.l.ma,Q=m.l.width,ae=Q*G,xe=J.ca,_e=J.tb+Q*A,oe=m.Ta,ye=m.Ua;pa(m,G,D,W),Xd(oe,ye,xe,_e,ae),Vi(J,A,A+G,xe,_e,Q),I-=G,D+=G*m.c,A+=G}e(A==y),m.C=m.Ma=y}function Ao(){this.ub=this.yd=this.td=this.Rb=0}function xl(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Wd(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function rn(){this.Yb=(function(){var m=[];return(function y(A,I,D){for(var W=D[I],G=0;G<W&&(A.push(D.length>I+1?[]:0),!(D.length<I+1));G++)y(A[G],I+1,D)})(m,0,[3,11]),m})()}function ku(){this.jb=o(3),this.Wc=u([4,8],rn),this.Xc=u([4,17],rn)}function vl(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function qs(){this.ld=this.La=this.dd=this.tc=0}function Ya(){this.Na=this.la=0}function Cu(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function yl(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Eo(){this.uc=this.M=this.Nb=0,this.wa=Array(new qs),this.Y=0,this.ya=Array(new yl),this.aa=0,this.l=new wl}function Vs(){this.y=o(16),this.f=o(8),this.ea=o(8)}function Au(){this.cb=this.a=0,this.sc="",this.m=new O,this.Od=new Ao,this.Kc=new xl,this.ed=new vl,this.Qa=new Wd,this.Ic=this.$c=this.Aa=0,this.D=new Eo,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=c(8,O),this.ia=0,this.pb=c(4,Cu),this.Pa=new ku,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Vs),this.Hd=0,this.rb=Array(new Ya),this.sb=0,this.wa=Array(new qs),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new yl),this.L=this.aa=0,this.gd=u([4,2],qs),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Tn(m,y){return 0>m?0:m>y?y:m}function wl(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Gd(){var m=new Au;return m!=null&&(m.a=0,m.sc="OK",m.cb=0,m.Xb=0,Zo||(Zo=Hi)),m}function Ln(m,y,A){return m.a==0&&(m.a=y,m.sc=A,m.cb=0),0}function Po(m,y,A){return 3<=A&&m[y+0]==157&&m[y+1]==1&&m[y+2]==42}function Hs(m,y){if(m==null)return 0;if(m.a=0,m.sc="OK",y==null)return Ln(m,2,"null VP8Io passed to VP8GetHeaders()");var A=y.data,I=y.w,D=y.ha;if(4>D)return Ln(m,7,"Truncated header.");var W=A[I+0]|A[I+1]<<8|A[I+2]<<16,G=m.Od;if(G.Rb=!(1&W),G.td=W>>1&7,G.yd=W>>4&1,G.ub=W>>5,3<G.td)return Ln(m,3,"Incorrect keyframe parameters.");if(!G.yd)return Ln(m,4,"Frame not displayable.");I+=3,D-=3;var J=m.Kc;if(G.Rb){if(7>D)return Ln(m,7,"cannot parse picture header");if(!Po(A,I,D))return Ln(m,3,"Bad code word");J.c=16383&(A[I+4]<<8|A[I+3]),J.Td=A[I+4]>>6,J.i=16383&(A[I+6]<<8|A[I+5]),J.Ud=A[I+6]>>6,I+=7,D-=7,m.za=J.c+15>>4,m.Ub=J.i+15>>4,y.width=J.c,y.height=J.i,y.Da=0,y.j=0,y.v=0,y.va=y.width,y.o=y.height,y.da=0,y.ib=y.width,y.hb=y.height,y.U=y.width,y.T=y.height,i((W=m.Pa).jb,0,255,W.jb.length),e((W=m.Qa)!=null),W.Cb=0,W.Bb=0,W.Fb=1,i(W.Zb,0,0,W.Zb.length),i(W.Lb,0,0,W.Lb)}if(G.ub>D)return Ln(m,7,"bad partition length");ue(W=m.m,A,I,G.ub),I+=G.ub,D-=G.ub,G.Rb&&(J.Ld=be(W),J.Kd=be(W)),J=m.Qa;var Q,ae=m.Pa;if(e(W!=null),e(J!=null),J.Cb=be(W),J.Cb){if(J.Bb=be(W),be(W)){for(J.Fb=be(W),Q=0;4>Q;++Q)J.Zb[Q]=be(W)?B(W,7):0;for(Q=0;4>Q;++Q)J.Lb[Q]=be(W)?B(W,6):0}if(J.Bb)for(Q=0;3>Q;++Q)ae.jb[Q]=be(W)?fe(W,8):255}else J.Bb=0;if(W.Ka)return Ln(m,3,"cannot parse segment header");if((J=m.ed).zd=be(W),J.Tb=fe(W,6),J.wb=fe(W,3),J.Pc=be(W),J.Pc&&be(W)){for(ae=0;4>ae;++ae)be(W)&&(J.vd[ae]=B(W,6));for(ae=0;4>ae;++ae)be(W)&&(J.od[ae]=B(W,6))}if(m.L=J.Tb==0?0:J.zd?1:2,W.Ka)return Ln(m,3,"cannot parse filter header");var xe=D;if(D=Q=I,I=Q+xe,J=xe,m.Xb=(1<<fe(m.m,2))-1,xe<3*(ae=m.Xb))A=7;else{for(Q+=3*ae,J-=3*ae,xe=0;xe<ae;++xe){var _e=A[D+0]|A[D+1]<<8|A[D+2]<<16;_e>J&&(_e=J),ue(m.Jc[+xe],A,Q,_e),Q+=_e,J-=_e,D+=3}ue(m.Jc[+ae],A,Q,J),A=Q<I?0:5}if(A!=0)return Ln(m,A,"cannot parse partitions");for(A=fe(Q=m.m,7),D=be(Q)?B(Q,4):0,I=be(Q)?B(Q,4):0,J=be(Q)?B(Q,4):0,ae=be(Q)?B(Q,4):0,Q=be(Q)?B(Q,4):0,xe=m.Qa,_e=0;4>_e;++_e){if(xe.Cb){var oe=xe.Zb[_e];xe.Fb||(oe+=A)}else{if(0<_e){m.pb[_e]=m.pb[0];continue}oe=A}var ye=m.pb[_e];ye.Sc[0]=Ml[Tn(oe+D,127)],ye.Sc[1]=Dc[Tn(oe+0,127)],ye.Eb[0]=2*Ml[Tn(oe+I,127)],ye.Eb[1]=101581*Dc[Tn(oe+J,127)]>>16,8>ye.Eb[1]&&(ye.Eb[1]=8),ye.Qc[0]=Ml[Tn(oe+ae,117)],ye.Qc[1]=Dc[Tn(oe+Q,127)],ye.lc=oe+Q}if(!G.Rb)return Ln(m,4,"Not a key frame.");for(be(W),G=m.Pa,A=0;4>A;++A){for(D=0;8>D;++D)for(I=0;3>I;++I)for(J=0;11>J;++J)ae=Se(W,Tm[A][D][I][J])?fe(W,8):cf[A][D][I][J],G.Wc[A][D].Yb[I][J]=ae;for(D=0;17>D;++D)G.Xc[A][D]=G.Wc[A][ih[D]]}return m.kc=be(W),m.kc&&(m.Bd=fe(W,8)),m.cb=1}function Hi(m,y,A,I,D,W,G){var J=y[D].Yb[A];for(A=0;16>D;++D){if(!Se(m,J[A+0]))return D;for(;!Se(m,J[A+1]);)if(J=y[++D].Yb[0],A=0,D==16)return 16;var Q=y[D+1].Yb;if(Se(m,J[A+2])){var ae=m,xe=0;if(Se(ae,(oe=J)[(_e=A)+3]))if(Se(ae,oe[_e+6])){for(J=0,_e=2*(xe=Se(ae,oe[_e+8]))+(oe=Se(ae,oe[_e+9+xe])),xe=0,oe=nh[_e];oe[J];++J)xe+=xe+Se(ae,oe[J]);xe+=3+(8<<_e)}else Se(ae,oe[_e+7])?(xe=7+2*Se(ae,165),xe+=Se(ae,145)):xe=5+Se(ae,159);else xe=Se(ae,oe[_e+4])?3+Se(ae,oe[_e+5]):2;J=Q[2]}else xe=1,J=Q[1];Q=G+sh[D],0>(ae=m).b&&ge(ae);var _e,oe=ae.b,ye=(_e=ae.Ca>>1)-(ae.I>>oe)>>31;--ae.b,ae.Ca+=ye,ae.Ca|=1,ae.I-=(_e+1&ye)<<oe,W[Q]=((xe^ye)-ye)*I[(0<D)+0]}return 16}function To(m){var y=m.rb[m.sb-1];y.la=0,y.Na=0,i(m.zc,0,0,m.zc.length),m.ja=0}function ri(m,y,A,I,D){D=m[y+A+32*I]+(D>>3),m[y+A+32*I]=-256&D?0>D?0:255:D}function $n(m,y,A,I,D,W){ri(m,y,0,A,I+D),ri(m,y,1,A,I+W),ri(m,y,2,A,I-W),ri(m,y,3,A,I-D)}function Si(m){return(20091*m>>16)+m}function yc(m,y,A,I){var D,W=0,G=o(16);for(D=0;4>D;++D){var J=m[y+0]+m[y+8],Q=m[y+0]-m[y+8],ae=(35468*m[y+4]>>16)-Si(m[y+12]),xe=Si(m[y+4])+(35468*m[y+12]>>16);G[W+0]=J+xe,G[W+1]=Q+ae,G[W+2]=Q-ae,G[W+3]=J-xe,W+=4,y++}for(D=W=0;4>D;++D)J=(m=G[W+0]+4)+G[W+8],Q=m-G[W+8],ae=(35468*G[W+4]>>16)-Si(G[W+12]),ri(A,I,0,0,J+(xe=Si(G[W+4])+(35468*G[W+12]>>16))),ri(A,I,1,0,Q+ae),ri(A,I,2,0,Q-ae),ri(A,I,3,0,J-xe),W++,I+=32}function wc(m,y,A,I){var D=m[y+0]+4,W=35468*m[y+4]>>16,G=Si(m[y+4]),J=35468*m[y+1]>>16;$n(A,I,0,D+G,m=Si(m[y+1]),J),$n(A,I,1,D+W,m,J),$n(A,I,2,D-W,m,J),$n(A,I,3,D-G,m,J)}function Lo(m,y,A,I,D){yc(m,y,A,I),D&&yc(m,y+16,A,I+4)}function Wi(m,y,A,I){Ko(m,y+0,A,I,1),Ko(m,y+32,A,I+128,1)}function bl(m,y,A,I){var D;for(m=m[y+0]+4,D=0;4>D;++D)for(y=0;4>y;++y)ri(A,I,y,D,m)}function Cr(m,y,A,I){m[y+0]&&Tr(m,y+0,A,I),m[y+16]&&Tr(m,y+16,A,I+4),m[y+32]&&Tr(m,y+32,A,I+128),m[y+48]&&Tr(m,y+48,A,I+128+4)}function Io(m,y,A,I){var D,W=o(16);for(D=0;4>D;++D){var G=m[y+0+D]+m[y+12+D],J=m[y+4+D]+m[y+8+D],Q=m[y+4+D]-m[y+8+D],ae=m[y+0+D]-m[y+12+D];W[0+D]=G+J,W[8+D]=G-J,W[4+D]=ae+Q,W[12+D]=ae-Q}for(D=0;4>D;++D)G=(m=W[0+4*D]+3)+W[3+4*D],J=W[1+4*D]+W[2+4*D],Q=W[1+4*D]-W[2+4*D],ae=m-W[3+4*D],A[I+0]=G+J>>3,A[I+16]=ae+Q>>3,A[I+32]=G-J>>3,A[I+48]=ae-Q>>3,I+=64}function Ja(m,y,A){var I,D=y-32,W=ws,G=255-m[D-1];for(I=0;I<A;++I){var J,Q=W,ae=G+m[y-1];for(J=0;J<A;++J)m[y+J]=Q[ae+m[D+J]];y+=32}}function bc(m,y){Ja(m,y,4)}function Eu(m,y){Ja(m,y,8)}function Pu(m,y){Ja(m,y,16)}function jl(m,y){var A;for(A=0;16>A;++A)s(m,y+32*A,m,y-32,16)}function Nl(m,y){var A;for(A=16;0<A;--A)i(m,y,m[y-1],16),y+=32}function Ss(m,y,A){var I;for(I=0;16>I;++I)i(y,A+32*I,m,16)}function Gi(m,y){var A,I=16;for(A=0;16>A;++A)I+=m[y-1+32*A]+m[y+A-32];Ss(I>>5,m,y)}function ks(m,y){var A,I=8;for(A=0;16>A;++A)I+=m[y-1+32*A];Ss(I>>4,m,y)}function ni(m,y){var A,I=8;for(A=0;16>A;++A)I+=m[y+A-32];Ss(I>>4,m,y)}function Ro(m,y){Ss(128,m,y)}function Gt(m,y,A){return m+2*y+A+2>>2}function Ki(m,y){var A,I=y-32;for(I=new Uint8Array([Gt(m[I-1],m[I+0],m[I+1]),Gt(m[I+0],m[I+1],m[I+2]),Gt(m[I+1],m[I+2],m[I+3]),Gt(m[I+2],m[I+3],m[I+4])]),A=0;4>A;++A)s(m,y+32*A,I,0,I.length)}function Kd(m,y){var A=m[y-1],I=m[y-1+32],D=m[y-1+64],W=m[y-1+96];De(m,y+0,16843009*Gt(m[y-1-32],A,I)),De(m,y+32,16843009*Gt(A,I,D)),De(m,y+64,16843009*Gt(I,D,W)),De(m,y+96,16843009*Gt(D,W,W))}function Tu(m,y){var A,I=4;for(A=0;4>A;++A)I+=m[y+A-32]+m[y-1+32*A];for(I>>=3,A=0;4>A;++A)i(m,y+32*A,I,4)}function Ws(m,y){var A=m[y-1+0],I=m[y-1+32],D=m[y-1+64],W=m[y-1-32],G=m[y+0-32],J=m[y+1-32],Q=m[y+2-32],ae=m[y+3-32];m[y+0+96]=Gt(I,D,m[y-1+96]),m[y+1+96]=m[y+0+64]=Gt(A,I,D),m[y+2+96]=m[y+1+64]=m[y+0+32]=Gt(W,A,I),m[y+3+96]=m[y+2+64]=m[y+1+32]=m[y+0+0]=Gt(G,W,A),m[y+3+64]=m[y+2+32]=m[y+1+0]=Gt(J,G,W),m[y+3+32]=m[y+2+0]=Gt(Q,J,G),m[y+3+0]=Gt(ae,Q,J)}function ma(m,y){var A=m[y+1-32],I=m[y+2-32],D=m[y+3-32],W=m[y+4-32],G=m[y+5-32],J=m[y+6-32],Q=m[y+7-32];m[y+0+0]=Gt(m[y+0-32],A,I),m[y+1+0]=m[y+0+32]=Gt(A,I,D),m[y+2+0]=m[y+1+32]=m[y+0+64]=Gt(I,D,W),m[y+3+0]=m[y+2+32]=m[y+1+64]=m[y+0+96]=Gt(D,W,G),m[y+3+32]=m[y+2+64]=m[y+1+96]=Gt(W,G,J),m[y+3+64]=m[y+2+96]=Gt(G,J,Q),m[y+3+96]=Gt(J,Q,Q)}function Lu(m,y){var A=m[y-1+0],I=m[y-1+32],D=m[y-1+64],W=m[y-1-32],G=m[y+0-32],J=m[y+1-32],Q=m[y+2-32],ae=m[y+3-32];m[y+0+0]=m[y+1+64]=W+G+1>>1,m[y+1+0]=m[y+2+64]=G+J+1>>1,m[y+2+0]=m[y+3+64]=J+Q+1>>1,m[y+3+0]=Q+ae+1>>1,m[y+0+96]=Gt(D,I,A),m[y+0+64]=Gt(I,A,W),m[y+0+32]=m[y+1+96]=Gt(A,W,G),m[y+1+32]=m[y+2+96]=Gt(W,G,J),m[y+2+32]=m[y+3+96]=Gt(G,J,Q),m[y+3+32]=Gt(J,Q,ae)}function _l(m,y){var A=m[y+0-32],I=m[y+1-32],D=m[y+2-32],W=m[y+3-32],G=m[y+4-32],J=m[y+5-32],Q=m[y+6-32],ae=m[y+7-32];m[y+0+0]=A+I+1>>1,m[y+1+0]=m[y+0+64]=I+D+1>>1,m[y+2+0]=m[y+1+64]=D+W+1>>1,m[y+3+0]=m[y+2+64]=W+G+1>>1,m[y+0+32]=Gt(A,I,D),m[y+1+32]=m[y+0+96]=Gt(I,D,W),m[y+2+32]=m[y+1+96]=Gt(D,W,G),m[y+3+32]=m[y+2+96]=Gt(W,G,J),m[y+3+64]=Gt(G,J,Q),m[y+3+96]=Gt(J,Q,ae)}function Oo(m,y){var A=m[y-1+0],I=m[y-1+32],D=m[y-1+64],W=m[y-1+96];m[y+0+0]=A+I+1>>1,m[y+2+0]=m[y+0+32]=I+D+1>>1,m[y+2+32]=m[y+0+64]=D+W+1>>1,m[y+1+0]=Gt(A,I,D),m[y+3+0]=m[y+1+32]=Gt(I,D,W),m[y+3+32]=m[y+1+64]=Gt(D,W,W),m[y+3+64]=m[y+2+64]=m[y+0+96]=m[y+1+96]=m[y+2+96]=m[y+3+96]=W}function jc(m,y){var A=m[y-1+0],I=m[y-1+32],D=m[y-1+64],W=m[y-1+96],G=m[y-1-32],J=m[y+0-32],Q=m[y+1-32],ae=m[y+2-32];m[y+0+0]=m[y+2+32]=A+G+1>>1,m[y+0+32]=m[y+2+64]=I+A+1>>1,m[y+0+64]=m[y+2+96]=D+I+1>>1,m[y+0+96]=W+D+1>>1,m[y+3+0]=Gt(J,Q,ae),m[y+2+0]=Gt(G,J,Q),m[y+1+0]=m[y+3+32]=Gt(A,G,J),m[y+1+32]=m[y+3+64]=Gt(I,A,G),m[y+1+64]=m[y+3+96]=Gt(D,I,A),m[y+1+96]=Gt(W,D,I)}function ki(m,y){var A;for(A=0;8>A;++A)s(m,y+32*A,m,y-32,8)}function Do(m,y){var A;for(A=0;8>A;++A)i(m,y,m[y-1],8),y+=32}function Cs(m,y,A){var I;for(I=0;8>I;++I)i(y,A+32*I,m,8)}function Sl(m,y){var A,I=8;for(A=0;8>A;++A)I+=m[y+A-32]+m[y-1+32*A];Cs(I>>4,m,y)}function Nc(m,y){var A,I=4;for(A=0;8>A;++A)I+=m[y+A-32];Cs(I>>3,m,y)}function _c(m,y){var A,I=4;for(A=0;8>A;++A)I+=m[y-1+32*A];Cs(I>>3,m,y)}function kl(m,y){Cs(128,m,y)}function si(m,y,A){var I=m[y-A],D=m[y+0],W=3*(D-I)+ea[1020+m[y-2*A]-m[y+A]],G=Ol[112+(W+4>>3)];m[y-A]=ws[255+I+Ol[112+(W+3>>3)]],m[y+0]=ws[255+D-G]}function Mo(m,y,A,I){var D=m[y+0],W=m[y+A];return ci[255+m[y-2*A]-m[y-A]]>I||ci[255+W-D]>I}function Fo(m,y,A,I){return 4*ci[255+m[y-A]-m[y+0]]+ci[255+m[y-2*A]-m[y+A]]<=I}function ii(m,y,A,I,D){var W=m[y-3*A],G=m[y-2*A],J=m[y-A],Q=m[y+0],ae=m[y+A],xe=m[y+2*A],_e=m[y+3*A];return 4*ci[255+J-Q]+ci[255+G-ae]>I?0:ci[255+m[y-4*A]-W]<=D&&ci[255+W-G]<=D&&ci[255+G-J]<=D&&ci[255+_e-xe]<=D&&ci[255+xe-ae]<=D&&ci[255+ae-Q]<=D}function ga(m,y,A,I){var D=2*I+1;for(I=0;16>I;++I)Fo(m,y+I,A,D)&&si(m,y+I,A)}function Xa(m,y,A,I){var D=2*I+1;for(I=0;16>I;++I)Fo(m,y+I*A,1,D)&&si(m,y+I*A,1)}function Sc(m,y,A,I){var D;for(D=3;0<D;--D)ga(m,y+=4*A,A,I)}function Bo(m,y,A,I){var D;for(D=3;0<D;--D)Xa(m,y+=4,A,I)}function ai(m,y,A,I,D,W,G,J){for(W=2*W+1;0<D--;){if(ii(m,y,A,W,G))if(Mo(m,y,A,J))si(m,y,A);else{var Q=m,ae=y,xe=A,_e=Q[ae-2*xe],oe=Q[ae-xe],ye=Q[ae+0],Ne=Q[ae+xe],Me=Q[ae+2*xe],Ce=27*(Oe=ea[1020+3*(ye-oe)+ea[1020+_e-Ne]])+63>>7,Ie=18*Oe+63>>7,Oe=9*Oe+63>>7;Q[ae-3*xe]=ws[255+Q[ae-3*xe]+Oe],Q[ae-2*xe]=ws[255+_e+Ie],Q[ae-xe]=ws[255+oe+Ce],Q[ae+0]=ws[255+ye-Ce],Q[ae+xe]=ws[255+Ne-Ie],Q[ae+2*xe]=ws[255+Me-Oe]}y+=I}}function Yi(m,y,A,I,D,W,G,J){for(W=2*W+1;0<D--;){if(ii(m,y,A,W,G))if(Mo(m,y,A,J))si(m,y,A);else{var Q=m,ae=y,xe=A,_e=Q[ae-xe],oe=Q[ae+0],ye=Q[ae+xe],Ne=Ol[112+(4+(Me=3*(oe-_e))>>3)],Me=Ol[112+(Me+3>>3)],Ce=Ne+1>>1;Q[ae-2*xe]=ws[255+Q[ae-2*xe]+Ce],Q[ae-xe]=ws[255+_e+Me],Q[ae+0]=ws[255+oe-Ne],Q[ae+xe]=ws[255+ye-Ce]}y+=I}}function us(m,y,A,I,D,W){ai(m,y,A,1,16,I,D,W)}function oi(m,y,A,I,D,W){ai(m,y,1,A,16,I,D,W)}function Cl(m,y,A,I,D,W){var G;for(G=3;0<G;--G)Yi(m,y+=4*A,A,1,16,I,D,W)}function j(m,y,A,I,D,W){var G;for(G=3;0<G;--G)Yi(m,y+=4,1,A,16,I,D,W)}function M(m,y,A,I,D,W,G,J){ai(m,y,D,1,8,W,G,J),ai(A,I,D,1,8,W,G,J)}function ce(m,y,A,I,D,W,G,J){ai(m,y,1,D,8,W,G,J),ai(A,I,1,D,8,W,G,J)}function pe(m,y,A,I,D,W,G,J){Yi(m,y+4*D,D,1,8,W,G,J),Yi(A,I+4*D,D,1,8,W,G,J)}function je(m,y,A,I,D,W,G,J){Yi(m,y+4,1,D,8,W,G,J),Yi(A,I+4,1,D,8,W,G,J)}function Be(){this.ba=new Xt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new lt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ke(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function yt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Tt(){this.ua=0,this.Wa=new zt,this.vb=new zt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new re,this.yc=new U}function Qt(){this.xb=this.a=0,this.l=new wl,this.ca=new Xt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new V,this.Pb=0,this.wd=new V,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Tt,this.ab=0,this.gc=c(4,yt),this.Oc=0}function tr(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new wl,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Sr(m,y,A,I,D,W,G){for(m=m==null?0:m[y+0],y=0;y<G;++y)D[W+y]=m+A[I+y]&255,m=D[W+y]}function fn(m,y,A,I,D,W,G){var J;if(m==null)Sr(null,null,A,I,D,W,G);else for(J=0;J<G;++J)D[W+J]=m[y+J]+A[I+J]&255}function In(m,y,A,I,D,W,G){if(m==null)Sr(null,null,A,I,D,W,G);else{var J,Q=m[y+0],ae=Q,xe=Q;for(J=0;J<G;++J)ae=xe+(Q=m[y+J])-ae,xe=A[I+J]+(-256&ae?0>ae?0:255:ae)&255,ae=Q,D[W+J]=xe}}function en(m,y,A,I){var D=y.width,W=y.o;if(e(m!=null&&y!=null),0>A||0>=I||A+I>W)return null;if(!m.Cc){if(m.ga==null){var G;if(m.ga=new tr,(G=m.ga==null)||(G=y.width*y.o,e(m.Gb.length==0),m.Gb=o(G),m.Uc=0,m.Gb==null?G=0:(m.mb=m.Gb,m.nb=m.Uc,m.rc=null,G=1),G=!G),!G){G=m.ga;var J=m.Fa,Q=m.P,ae=m.qc,xe=m.mb,_e=m.nb,oe=Q+1,ye=ae-1,Ne=G.l;if(e(J!=null&&xe!=null&&y!=null),ds[0]=null,ds[1]=Sr,ds[2]=fn,ds[3]=In,G.ca=xe,G.tb=_e,G.c=y.width,G.i=y.height,e(0<G.c&&0<G.i),1>=ae)y=0;else if(G.$a=3&J[Q+0],G.Z=J[Q+0]>>2&3,G.Lc=J[Q+0]>>4&3,Q=J[Q+0]>>6&3,0>G.$a||1<G.$a||4<=G.Z||1<G.Lc||Q)y=0;else if(Ne.put=dt,Ne.ac=es,Ne.bc=Zr,Ne.ma=G,Ne.width=y.width,Ne.height=y.height,Ne.Da=y.Da,Ne.v=y.v,Ne.va=y.va,Ne.j=y.j,Ne.o=y.o,G.$a)e:{e(G.$a==1),y=ko();t:for(;;){if(y==null){y=0;break e}if(e(G!=null),G.mc=y,y.c=G.c,y.i=G.i,y.l=G.l,y.l.ma=G,y.l.width=G.c,y.l.height=G.i,y.a=0,Z(y.m,J,oe,ye),!_i(G.c,G.i,1,y,null)||(y.ab==1&&y.gc[0].hc==3&&Ni(y.s)?(G.ic=1,J=y.c*y.i,y.Ta=null,y.Ua=0,y.V=o(J),y.Ba=0,y.V==null?(y.a=1,y=0):y=1):(G.ic=0,y=Ka(y,G.c)),!y))break t;y=1;break e}G.mc=null,y=0}else y=ye>=G.c*G.i;G=!y}if(G)return null;m.ga.Lc!=1?m.Ga=0:I=W-A}e(m.ga!=null),e(A+I<=W);e:{if(y=(J=m.ga).c,W=J.l.o,J.$a==0){if(oe=m.rc,ye=m.Vc,Ne=m.Fa,Q=m.P+1+A*y,ae=m.mb,xe=m.nb+A*y,e(Q<=m.P+m.qc),J.Z!=0)for(e(ds[J.Z]!=null),G=0;G<I;++G)ds[J.Z](oe,ye,Ne,Q,ae,xe,y),oe=ae,ye=xe,xe+=y,Q+=y;else for(G=0;G<I;++G)s(ae,xe,Ne,Q,y),oe=ae,ye=xe,xe+=y,Q+=y;m.rc=oe,m.Vc=ye}else{if(e(J.mc!=null),y=A+I,e((G=J.mc)!=null),e(y<=G.i),G.C>=y)y=1;else if(J.ic||Ci(),J.ic){J=G.V,oe=G.Ba,ye=G.c;var Me=G.i,Ce=(Ne=1,Q=G.$/ye,ae=G.$%ye,xe=G.m,_e=G.s,G.$),Ie=ye*Me,Oe=ye*y,$e=_e.wc,ze=Ce<Oe?jn(_e,ae,Q):null;e(Ce<=Ie),e(y<=Me),e(Ni(_e));t:for(;;){for(;!xe.h&&Ce<Oe;){if(ae&$e||(ze=jn(_e,ae,Q)),e(ze!=null),le(xe),256>(Me=Mr(ze.G[0],ze.H[0],xe)))J[oe+Ce]=Me,++Ce,++ae>=ye&&(ae=0,++Q<=y&&!(Q%16)&&ts(G,Q));else{if(!(280>Me)){Ne=0;break t}Me=zr(Me-256,xe);var Lt,pt=Mr(ze.G[4],ze.H[4],xe);if(le(xe),!(Ce>=(pt=ln(ye,pt=zr(pt,xe)))&&Ie-Ce>=Me)){Ne=0;break t}for(Lt=0;Lt<Me;++Lt)J[oe+Ce+Lt]=J[oe+Ce+Lt-pt];for(Ce+=Me,ae+=Me;ae>=ye;)ae-=ye,++Q<=y&&!(Q%16)&&ts(G,Q);Ce<Oe&&ae&$e&&(ze=jn(_e,ae,Q))}e(xe.h==se(xe))}ts(G,Q>y?y:Q);break t}!Ne||xe.h&&Ce<Ie?(Ne=0,G.a=xe.h?5:3):G.$=Ce,y=Ne}else y=ti(G,G.V,G.Ba,G.c,G.i,y,Co);if(!y){I=0;break e}}A+I>=W&&(m.Cc=1),I=1}if(!I)return null;if(m.Cc&&((I=m.ga)!=null&&(I.mc=null),m.ga=null,0<m.Ga))return alert("todo:WebPDequantizeLevels"),null}return m.nb+A*D}function zn(m,y,A,I,D,W){for(;0<D--;){var G,J=m,Q=y+(A?1:0),ae=m,xe=y+(A?0:3);for(G=0;G<I;++G){var _e=ae[xe+4*G];_e!=255&&(_e*=32897,J[Q+4*G+0]=J[Q+4*G+0]*_e>>23,J[Q+4*G+1]=J[Q+4*G+1]*_e>>23,J[Q+4*G+2]=J[Q+4*G+2]*_e>>23)}y+=W}}function Nn(m,y,A,I,D){for(;0<I--;){var W;for(W=0;W<A;++W){var G=m[y+2*W+0],J=15&(ae=m[y+2*W+1]),Q=4369*J,ae=(240&ae|ae>>4)*Q>>16;m[y+2*W+0]=(240&G|G>>4)*Q>>16&240|(15&G|G<<4)*Q>>16>>4&15,m[y+2*W+1]=240&ae|J}y+=D}}function rs(m,y,A,I,D,W,G,J){var Q,ae,xe=255;for(ae=0;ae<D;++ae){for(Q=0;Q<I;++Q){var _e=m[y+Q];W[G+4*Q]=_e,xe&=_e}y+=A,G+=J}return xe!=255}function xa(m,y,A,I,D){var W;for(W=0;W<D;++W)A[I+W]=m[y+W]>>8}function Ci(){Jo=zn,Jd=Nn,Pc=rs,Xd=xa}function va(m,y,A){Y[m]=function(I,D,W,G,J,Q,ae,xe,_e,oe,ye,Ne,Me,Ce,Ie,Oe,$e){var ze,Lt=$e-1>>1,pt=J[Q+0]|ae[xe+0]<<16,rr=_e[oe+0]|ye[Ne+0]<<16;e(I!=null);var wt=3*pt+rr+131074>>2;for(y(I[D+0],255&wt,wt>>16,Me,Ce),W!=null&&(wt=3*rr+pt+131074>>2,y(W[G+0],255&wt,wt>>16,Ie,Oe)),ze=1;ze<=Lt;++ze){var mr=J[Q+ze]|ae[xe+ze]<<16,vn=_e[oe+ze]|ye[Ne+ze]<<16,ar=pt+mr+rr+vn+524296,mt=ar+2*(mr+rr)>>3;wt=mt+pt>>1,pt=(ar=ar+2*(pt+vn)>>3)+mr>>1,y(I[D+2*ze-1],255&wt,wt>>16,Me,Ce+(2*ze-1)*A),y(I[D+2*ze-0],255&pt,pt>>16,Me,Ce+(2*ze-0)*A),W!=null&&(wt=ar+rr>>1,pt=mt+vn>>1,y(W[G+2*ze-1],255&wt,wt>>16,Ie,Oe+(2*ze-1)*A),y(W[G+2*ze+0],255&pt,pt>>16,Ie,Oe+(2*ze+0)*A)),pt=mr,rr=vn}1&$e||(wt=3*pt+rr+131074>>2,y(I[D+$e-1],255&wt,wt>>16,Me,Ce+($e-1)*A),W!=null&&(wt=3*rr+pt+131074>>2,y(W[G+$e-1],255&wt,wt>>16,Ie,Oe+($e-1)*A)))}}function Uo(){Ps[Du]=Lm,Ps[ao]=oo,Ps[sf]=Im,Ps[Tc]=Bl,Ps[Lc]=el,Ps[Gr]=Mc,Ps[Mu]=ah,Ps[Dl]=oo,Ps[Xo]=Bl,Ps[Ic]=el,Ps[Rc]=Mc}function Al(m){return m&-16384?0>m?0:255:m>>lo}function Qa(m,y){return Al((19077*m>>8)+(26149*y>>8)-14234)}function $o(m,y,A){return Al((19077*m>>8)-(6419*y>>8)-(13320*A>>8)+8708)}function Za(m,y){return Al((19077*m>>8)+(33050*y>>8)-17685)}function eo(m,y,A,I,D){I[D+0]=Qa(m,A),I[D+1]=$o(m,y,A),I[D+2]=Za(m,y)}function ns(m,y,A,I,D){I[D+0]=Za(m,y),I[D+1]=$o(m,y,A),I[D+2]=Qa(m,A)}function zo(m,y,A,I,D){var W=$o(m,y,A);y=W<<3&224|Za(m,y)>>3,I[D+0]=248&Qa(m,A)|W>>5,I[D+1]=y}function qo(m,y,A,I,D){var W=240&Za(m,y)|15;I[D+0]=240&Qa(m,A)|$o(m,y,A)>>4,I[D+1]=W}function kc(m,y,A,I,D){I[D+0]=255,eo(m,y,A,I,D+1)}function Cc(m,y,A,I,D){ns(m,y,A,I,D),I[D+3]=255}function ys(m,y,A,I,D){eo(m,y,A,I,D),I[D+3]=255}function Ai(m,y,A){Y[m]=function(I,D,W,G,J,Q,ae,xe,_e){for(var oe=xe+(-2&_e)*A;xe!=oe;)y(I[D+0],W[G+0],J[Q+0],ae,xe),y(I[D+1],W[G+0],J[Q+0],ae,xe+A),D+=2,++G,++Q,xe+=2*A;1&_e&&y(I[D+0],W[G+0],J[Q+0],ae,xe)}}function Ji(m,y,A){return A==0?m==0?y==0?6:5:y==0?4:0:A}function Iu(m,y,A,I,D){switch(m>>>30){case 3:Ko(y,A,I,D,0);break;case 2:gn(y,A,I,D);break;case 1:Tr(y,A,I,D)}}function Gs(m,y){var A,I,D=y.M,W=y.Nb,G=m.oc,J=m.pc+40,Q=m.oc,ae=m.pc+584,xe=m.oc,_e=m.pc+600;for(A=0;16>A;++A)G[J+32*A-1]=129;for(A=0;8>A;++A)Q[ae+32*A-1]=129,xe[_e+32*A-1]=129;for(0<D?G[J-1-32]=Q[ae-1-32]=xe[_e-1-32]=129:(i(G,J-32-1,127,21),i(Q,ae-32-1,127,9),i(xe,_e-32-1,127,9)),I=0;I<m.za;++I){var oe=y.ya[y.aa+I];if(0<I){for(A=-1;16>A;++A)s(G,J+32*A-4,G,J+32*A+12,4);for(A=-1;8>A;++A)s(Q,ae+32*A-4,Q,ae+32*A+4,4),s(xe,_e+32*A-4,xe,_e+32*A+4,4)}var ye=m.Gd,Ne=m.Hd+I,Me=oe.ad,Ce=oe.Hc;if(0<D&&(s(G,J-32,ye[Ne].y,0,16),s(Q,ae-32,ye[Ne].f,0,8),s(xe,_e-32,ye[Ne].ea,0,8)),oe.Za){var Ie=G,Oe=J-32+16;for(0<D&&(I>=m.za-1?i(Ie,Oe,ye[Ne].y[15],4):s(Ie,Oe,ye[Ne+1].y,0,4)),A=0;4>A;A++)Ie[Oe+128+A]=Ie[Oe+256+A]=Ie[Oe+384+A]=Ie[Oe+0+A];for(A=0;16>A;++A,Ce<<=2)Ie=G,Oe=J+oh[A],ui[oe.Ob[A]](Ie,Oe),Iu(Ce,Me,16*+A,Ie,Oe)}else if(Ie=Ji(I,D,oe.Ob[0]),bs[Ie](G,J),Ce!=0)for(A=0;16>A;++A,Ce<<=2)Iu(Ce,Me,16*+A,G,J+oh[A]);for(A=oe.Gc,Ie=Ji(I,D,oe.Dd),Es[Ie](Q,ae),Es[Ie](xe,_e),Ce=Me,Ie=Q,Oe=ae,255&(oe=0|A)&&(170&oe?As(Ce,256,Ie,Oe):qr(Ce,256,Ie,Oe)),oe=xe,Ce=_e,255&(A>>=8)&&(170&A?As(Me,320,oe,Ce):qr(Me,320,oe,Ce)),D<m.Ub-1&&(s(ye[Ne].y,0,G,J+480,16),s(ye[Ne].f,0,Q,ae+224,8),s(ye[Ne].ea,0,xe,_e+224,8)),A=8*W*m.B,ye=m.sa,Ne=m.ta+16*I+16*W*m.R,Me=m.qa,oe=m.ra+8*I+A,Ce=m.Ha,Ie=m.Ia+8*I+A,A=0;16>A;++A)s(ye,Ne+A*m.R,G,J+32*A,16);for(A=0;8>A;++A)s(Me,oe+A*m.B,Q,ae+32*A,8),s(Ce,Ie+A*m.B,xe,_e+32*A,8)}}function to(m,y,A,I,D,W,G,J,Q){var ae=[0],xe=[0],_e=0,oe=Q!=null?Q.kd:0,ye=Q??new Ke;if(m==null||12>A)return 7;ye.data=m,ye.w=y,ye.ha=A,y=[y],A=[A],ye.gb=[ye.gb];e:{var Ne=y,Me=A,Ce=ye.gb;if(e(m!=null),e(Me!=null),e(Ce!=null),Ce[0]=0,12<=Me[0]&&!t(m,Ne[0],"RIFF")){if(t(m,Ne[0]+8,"WEBP")){Ce=3;break e}var Ie=ut(m,Ne[0]+4);if(12>Ie||4294967286<Ie){Ce=3;break e}if(oe&&Ie>Me[0]-8){Ce=7;break e}Ce[0]=Ie,Ne[0]+=12,Me[0]-=12}Ce=0}if(Ce!=0)return Ce;for(Ie=0<ye.gb[0],A=A[0];;){e:{var Oe=m;Me=y,Ce=A;var $e=ae,ze=xe,Lt=Ne=[0];if((wt=_e=[_e])[0]=0,8>Ce[0])Ce=7;else{if(!t(Oe,Me[0],"VP8X")){if(ut(Oe,Me[0]+4)!=10){Ce=3;break e}if(18>Ce[0]){Ce=7;break e}var pt=ut(Oe,Me[0]+8),rr=1+tt(Oe,Me[0]+12);if(2147483648<=rr*(Oe=1+tt(Oe,Me[0]+15))){Ce=3;break e}Lt!=null&&(Lt[0]=pt),$e!=null&&($e[0]=rr),ze!=null&&(ze[0]=Oe),Me[0]+=18,Ce[0]-=18,wt[0]=1}Ce=0}}if(_e=_e[0],Ne=Ne[0],Ce!=0)return Ce;if(Me=!!(2&Ne),!Ie&&_e)return 3;if(W!=null&&(W[0]=!!(16&Ne)),G!=null&&(G[0]=Me),J!=null&&(J[0]=0),G=ae[0],Ne=xe[0],_e&&Me&&Q==null){Ce=0;break}if(4>A){Ce=7;break}if(Ie&&_e||!Ie&&!_e&&!t(m,y[0],"ALPH")){A=[A],ye.na=[ye.na],ye.P=[ye.P],ye.Sa=[ye.Sa];e:{pt=m,Ce=y,Ie=A;var wt=ye.gb;$e=ye.na,ze=ye.P,Lt=ye.Sa,rr=22,e(pt!=null),e(Ie!=null),Oe=Ce[0];var mr=Ie[0];for(e($e!=null),e(Lt!=null),$e[0]=null,ze[0]=null,Lt[0]=0;;){if(Ce[0]=Oe,Ie[0]=mr,8>mr){Ce=7;break e}var vn=ut(pt,Oe+4);if(4294967286<vn){Ce=3;break e}var ar=8+vn+1&-2;if(rr+=ar,0<wt&&rr>wt){Ce=3;break e}if(!t(pt,Oe,"VP8 ")||!t(pt,Oe,"VP8L")){Ce=0;break e}if(mr[0]<ar){Ce=7;break e}t(pt,Oe,"ALPH")||($e[0]=pt,ze[0]=Oe+8,Lt[0]=vn),Oe+=ar,mr-=ar}}if(A=A[0],ye.na=ye.na[0],ye.P=ye.P[0],ye.Sa=ye.Sa[0],Ce!=0)break}A=[A],ye.Ja=[ye.Ja],ye.xa=[ye.xa];e:if(wt=m,Ce=y,Ie=A,$e=ye.gb[0],ze=ye.Ja,Lt=ye.xa,pt=Ce[0],Oe=!t(wt,pt,"VP8 "),rr=!t(wt,pt,"VP8L"),e(wt!=null),e(Ie!=null),e(ze!=null),e(Lt!=null),8>Ie[0])Ce=7;else{if(Oe||rr){if(wt=ut(wt,pt+4),12<=$e&&wt>$e-12){Ce=3;break e}if(oe&&wt>Ie[0]-8){Ce=7;break e}ze[0]=wt,Ce[0]+=8,Ie[0]-=8,Lt[0]=rr}else Lt[0]=5<=Ie[0]&&wt[pt+0]==47&&!(wt[pt+4]>>5),ze[0]=Ie[0];Ce=0}if(A=A[0],ye.Ja=ye.Ja[0],ye.xa=ye.xa[0],y=y[0],Ce!=0)break;if(4294967286<ye.Ja)return 3;if(J==null||Me||(J[0]=ye.xa?2:1),G=[G],Ne=[Ne],ye.xa){if(5>A){Ce=7;break}J=G,oe=Ne,Me=W,m==null||5>A?m=0:5<=A&&m[y+0]==47&&!(m[y+4]>>5)?(Ie=[0],wt=[0],$e=[0],Z(ze=new V,m,y,A),cs(ze,Ie,wt,$e)?(J!=null&&(J[0]=Ie[0]),oe!=null&&(oe[0]=wt[0]),Me!=null&&(Me[0]=$e[0]),m=1):m=0):m=0}else{if(10>A){Ce=7;break}J=Ne,m==null||10>A||!Po(m,y+3,A-3)?m=0:(oe=m[y+0]|m[y+1]<<8|m[y+2]<<16,Me=16383&(m[y+7]<<8|m[y+6]),m=16383&(m[y+9]<<8|m[y+8]),1&oe||3<(oe>>1&7)||!(oe>>4&1)||oe>>5>=ye.Ja||!Me||!m?m=0:(G&&(G[0]=Me),J&&(J[0]=m),m=1))}if(!m||(G=G[0],Ne=Ne[0],_e&&(ae[0]!=G||xe[0]!=Ne)))return 3;Q!=null&&(Q[0]=ye,Q.offset=y-Q.w,e(4294967286>y-Q.w),e(Q.offset==Q.ha-A));break}return Ce==0||Ce==7&&_e&&Q==null?(W!=null&&(W[0]|=ye.na!=null&&0<ye.na.length),I!=null&&(I[0]=G),D!=null&&(D[0]=Ne),0):Ce}function El(m,y,A){var I=y.width,D=y.height,W=0,G=0,J=I,Q=D;if(y.Da=m!=null&&0<m.Da,y.Da&&(J=m.cd,Q=m.bd,W=m.v,G=m.j,11>A||(W&=-2,G&=-2),0>W||0>G||0>=J||0>=Q||W+J>I||G+Q>D))return 0;if(y.v=W,y.j=G,y.va=W+J,y.o=G+Q,y.U=J,y.T=Q,y.da=m!=null&&0<m.da,y.da){if(!Bt(J,Q,A=[m.ib],W=[m.hb]))return 0;y.ib=A[0],y.hb=W[0]}return y.ob=m!=null&&m.ob,y.Kb=m==null||!m.Sd,y.da&&(y.ob=y.ib<3*I/4&&y.hb<3*D/4,y.Kb=0),1}function Pl(m){if(m==null)return 2;if(11>m.S){var y=m.f.RGBA;y.fb+=(m.height-1)*y.A,y.A=-y.A}else y=m.f.kb,m=m.height,y.O+=(m-1)*y.fa,y.fa=-y.fa,y.N+=(m-1>>1)*y.Ab,y.Ab=-y.Ab,y.W+=(m-1>>1)*y.Db,y.Db=-y.Db,y.F!=null&&(y.J+=(m-1)*y.lb,y.lb=-y.lb);return 0}function ya(m,y,A,I){if(I==null||0>=m||0>=y)return 2;if(A!=null){if(A.Da){var D=A.cd,W=A.bd,G=-2&A.v,J=-2&A.j;if(0>G||0>J||0>=D||0>=W||G+D>m||J+W>y)return 2;m=D,y=W}if(A.da){if(!Bt(m,y,D=[A.ib],W=[A.hb]))return 2;m=D[0],y=W[0]}}I.width=m,I.height=y;e:{var Q=I.width,ae=I.height;if(m=I.S,0>=Q||0>=ae||!(m>=Du&&13>m))m=2;else{if(0>=I.Rd&&I.sd==null){G=W=D=y=0;var xe=(J=Q*Fc[m])*ae;if(11>m||(W=(ae+1)/2*(y=(Q+1)/2),m==12&&(G=(D=Q)*ae)),(ae=o(xe+2*W+G))==null){m=1;break e}I.sd=ae,11>m?((Q=I.f.RGBA).eb=ae,Q.fb=0,Q.A=J,Q.size=xe):((Q=I.f.kb).y=ae,Q.O=0,Q.fa=J,Q.Fd=xe,Q.f=ae,Q.N=0+xe,Q.Ab=y,Q.Cd=W,Q.ea=ae,Q.W=0+xe+W,Q.Db=y,Q.Ed=W,m==12&&(Q.F=ae,Q.J=0+xe+2*W),Q.Tc=G,Q.lb=D)}if(y=1,D=I.S,W=I.width,G=I.height,D>=Du&&13>D)if(11>D)m=I.f.RGBA,y&=(J=Math.abs(m.A))*(G-1)+W<=m.size,y&=J>=W*Fc[D],y&=m.eb!=null;else{m=I.f.kb,J=(W+1)/2,xe=(G+1)/2,Q=Math.abs(m.fa),ae=Math.abs(m.Ab);var _e=Math.abs(m.Db),oe=Math.abs(m.lb),ye=oe*(G-1)+W;y&=Q*(G-1)+W<=m.Fd,y&=ae*(xe-1)+J<=m.Cd,y=(y&=_e*(xe-1)+J<=m.Ed)&Q>=W&ae>=J&_e>=J,y&=m.y!=null,y&=m.f!=null,y&=m.ea!=null,D==12&&(y&=oe>=W,y&=ye<=m.Tc,y&=m.F!=null)}else y=0;m=y?0:2}}return m!=0||A!=null&&A.fd&&(m=Pl(I)),m}var li=64,Ks=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Ys=24,ro=32,Xi=8,wa=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];ct("Predictor0","PredictorAdd0"),Y.Predictor0=function(){return 4278190080},Y.Predictor1=function(m){return m},Y.Predictor2=function(m,y,A){return y[A+0]},Y.Predictor3=function(m,y,A){return y[A+1]},Y.Predictor4=function(m,y,A){return y[A-1]},Y.Predictor5=function(m,y,A){return _t(_t(m,y[A+1]),y[A+0])},Y.Predictor6=function(m,y,A){return _t(m,y[A-1])},Y.Predictor7=function(m,y,A){return _t(m,y[A+0])},Y.Predictor8=function(m,y,A){return _t(y[A-1],y[A+0])},Y.Predictor9=function(m,y,A){return _t(y[A+0],y[A+1])},Y.Predictor10=function(m,y,A){return _t(_t(m,y[A-1]),_t(y[A+0],y[A+1]))},Y.Predictor11=function(m,y,A){var I=y[A+0];return 0>=Wt(I>>24&255,m>>24&255,(y=y[A-1])>>24&255)+Wt(I>>16&255,m>>16&255,y>>16&255)+Wt(I>>8&255,m>>8&255,y>>8&255)+Wt(255&I,255&m,255&y)?I:m},Y.Predictor12=function(m,y,A){var I=y[A+0];return(_r((m>>24&255)+(I>>24&255)-((y=y[A-1])>>24&255))<<24|_r((m>>16&255)+(I>>16&255)-(y>>16&255))<<16|_r((m>>8&255)+(I>>8&255)-(y>>8&255))<<8|_r((255&m)+(255&I)-(255&y)))>>>0},Y.Predictor13=function(m,y,A){var I=y[A-1];return(lr((m=_t(m,y[A+0]))>>24&255,I>>24&255)<<24|lr(m>>16&255,I>>16&255)<<16|lr(m>>8&255,I>>8&255)<<8|lr(255&m,255&I))>>>0};var ba=Y.PredictorAdd0;Y.PredictorAdd1=cr,ct("Predictor2","PredictorAdd2"),ct("Predictor3","PredictorAdd3"),ct("Predictor4","PredictorAdd4"),ct("Predictor5","PredictorAdd5"),ct("Predictor6","PredictorAdd6"),ct("Predictor7","PredictorAdd7"),ct("Predictor8","PredictorAdd8"),ct("Predictor9","PredictorAdd9"),ct("Predictor10","PredictorAdd10"),ct("Predictor11","PredictorAdd11"),ct("Predictor12","PredictorAdd12"),ct("Predictor13","PredictorAdd13");var Qi=Y.PredictorAdd2;xt("ColorIndexInverseTransform","MapARGB","32b",function(m){return m>>8&255},function(m){return m}),xt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(m){return m},function(m){return m>>8&255});var _n,Vo=Y.ColorIndexInverseTransform,Zi=Y.MapARGB,Ei=Y.VP8LColorIndexInverseTransformAlpha,Ho=Y.MapAlpha,Wo=Y.VP8LPredictorsAdd=[];Wo.length=16,(Y.VP8LPredictors=[]).length=16,(Y.VP8LPredictorsAdd_C=[]).length=16,(Y.VP8LPredictors_C=[]).length=16;var Tl,Ll,ja,no,so,Go,io,Ko,gn,As,Tr,qr,xn,Rn,Pi,Ac,Il,Na,Ru,Rl,Ou,Yd,Ec,Yo,Jo,Jd,Pc,Xd,Qd=o(511),Zd=o(2041),eh=o(225),th=o(767),rh=0,ea=Zd,Ol=eh,ws=th,ci=Qd,Du=0,ao=1,sf=2,Tc=3,Lc=4,Gr=5,Mu=6,Dl=7,Xo=8,Ic=9,Rc=10,Oc=[2,3,7],Fu=[3,3,11],Qo=[280,256,256,256,40],af=[0,1,1,1,0],Am=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Em=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],of=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Bu=8,Ml=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Dc=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Zo=null,nh=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],sh=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],lf=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],cf=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Pm=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Tm=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],ih=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],bs=[],ui=[],Es=[],ta=1,Fl=2,ds=[],Ps=[];va("UpsampleRgbLinePair",eo,3),va("UpsampleBgrLinePair",ns,3),va("UpsampleRgbaLinePair",ys,4),va("UpsampleBgraLinePair",Cc,4),va("UpsampleArgbLinePair",kc,4),va("UpsampleRgba4444LinePair",qo,2),va("UpsampleRgb565LinePair",zo,2);var Lm=Y.UpsampleRgbLinePair,Im=Y.UpsampleBgrLinePair,oo=Y.UpsampleRgbaLinePair,Bl=Y.UpsampleBgraLinePair,el=Y.UpsampleArgbLinePair,Mc=Y.UpsampleRgba4444LinePair,ah=Y.UpsampleRgb565LinePair,_a=16,Ti=1<<_a-1,Br=-227,Vr=482,lo=6,ss=0,Ts=o(256),tl=o(256),Ul=o(256),Ls=o(256),Uu=o(Vr-Br),uf=o(Vr-Br);Ai("YuvToRgbRow",eo,3),Ai("YuvToBgrRow",ns,3),Ai("YuvToRgbaRow",ys,4),Ai("YuvToBgraRow",Cc,4),Ai("YuvToArgbRow",kc,4),Ai("YuvToRgba4444Row",qo,2),Ai("YuvToRgb565Row",zo,2);var oh=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],rl=[0,2,8],df=[8,7,6,4,4,2,2,2,1,1,1,1],Sa=1;this.WebPDecodeRGBA=function(m,y,A,I,D){var W=ao,G=new Be,J=new Xt;G.ba=J,J.S=W,J.width=[J.width],J.height=[J.height];var Q=J.width,ae=J.height,xe=new Ut;if(xe==null||m==null)var _e=2;else e(xe!=null),_e=to(m,y,A,xe.width,xe.height,xe.Pd,xe.Qd,xe.format,null);if(_e!=0?Q=0:(Q!=null&&(Q[0]=xe.width[0]),ae!=null&&(ae[0]=xe.height[0]),Q=1),Q){J.width=J.width[0],J.height=J.height[0],I!=null&&(I[0]=J.width),D!=null&&(D[0]=J.height);e:{if(I=new wl,(D=new Ke).data=m,D.w=y,D.ha=A,D.kd=1,y=[0],e(D!=null),((m=to(D.data,D.w,D.ha,null,null,null,y,null,D))==0||m==7)&&y[0]&&(m=4),(y=m)==0){if(e(G!=null),I.data=D.data,I.w=D.w+D.offset,I.ha=D.ha-D.offset,I.put=dt,I.ac=es,I.bc=Zr,I.ma=G,D.xa){if((m=ko())==null){G=1;break e}if((function(oe,ye){var Ne=[0],Me=[0],Ce=[0];t:for(;;){if(oe==null)return 0;if(ye==null)return oe.a=2,0;if(oe.l=ye,oe.a=0,Z(oe.m,ye.data,ye.w,ye.ha),!cs(oe.m,Ne,Me,Ce)){oe.a=3;break t}if(oe.xb=Fl,ye.width=Ne[0],ye.height=Me[0],!_i(Ne[0],Me[0],1,oe,null))break t;return 1}return e(oe.a!=0),0})(m,I)){if(I=(y=ya(I.width,I.height,G.Oa,G.ba))==0){t:{I=m;r:for(;;){if(I==null){I=0;break t}if(e(I.s.yc!=null),e(I.s.Ya!=null),e(0<I.s.Wb),e((A=I.l)!=null),e((D=A.ma)!=null),I.xb!=0){if(I.ca=D.ba,I.tb=D.tb,e(I.ca!=null),!El(D.Oa,A,Tc)){I.a=2;break r}if(!Ka(I,A.width)||A.da)break r;if((A.da||Et(I.ca.S))&&Ci(),11>I.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),I.ca.f.kb.F!=null&&Ci()),I.Pb&&0<I.s.ua&&I.s.vb.X==null&&!ie(I.s.vb,I.s.Wa.Xa)){I.a=1;break r}I.xb=0}if(!ti(I,I.V,I.Ba,I.c,I.i,A.o,Ga))break r;D.Dc=I.Ma,I=1;break t}e(I.a!=0),I=0}I=!I}I&&(y=m.a)}else y=m.a}else{if((m=new Gd)==null){G=1;break e}if(m.Fa=D.na,m.P=D.P,m.qc=D.Sa,Hs(m,I)){if((y=ya(I.width,I.height,G.Oa,G.ba))==0){if(m.Aa=0,A=G.Oa,e((D=m)!=null),A!=null){if(0<(Q=0>(Q=A.Md)?0:100<Q?255:255*Q/100)){for(ae=xe=0;4>ae;++ae)12>(_e=D.pb[ae]).lc&&(_e.ia=Q*df[0>_e.lc?0:_e.lc]>>3),xe|=_e.ia;xe&&(alert("todo:VP8InitRandom"),D.ia=1)}D.Ga=A.Id,100<D.Ga?D.Ga=100:0>D.Ga&&(D.Ga=0)}(function(oe,ye){if(oe==null)return 0;if(ye==null)return Ln(oe,2,"NULL VP8Io parameter in VP8Decode().");if(!oe.cb&&!Hs(oe,ye))return 0;if(e(oe.cb),ye.ac==null||ye.ac(ye)){ye.ob&&(oe.L=0);var Ne=rl[oe.L];if(oe.L==2?(oe.yb=0,oe.zb=0):(oe.yb=ye.v-Ne>>4,oe.zb=ye.j-Ne>>4,0>oe.yb&&(oe.yb=0),0>oe.zb&&(oe.zb=0)),oe.Va=ye.o+15+Ne>>4,oe.Hb=ye.va+15+Ne>>4,oe.Hb>oe.za&&(oe.Hb=oe.za),oe.Va>oe.Ub&&(oe.Va=oe.Ub),0<oe.L){var Me=oe.ed;for(Ne=0;4>Ne;++Ne){var Ce;if(oe.Qa.Cb){var Ie=oe.Qa.Lb[Ne];oe.Qa.Fb||(Ie+=Me.Tb)}else Ie=Me.Tb;for(Ce=0;1>=Ce;++Ce){var Oe=oe.gd[Ne][Ce],$e=Ie;if(Me.Pc&&($e+=Me.vd[0],Ce&&($e+=Me.od[0])),0<($e=0>$e?0:63<$e?63:$e)){var ze=$e;0<Me.wb&&(ze=4<Me.wb?ze>>2:ze>>1)>9-Me.wb&&(ze=9-Me.wb),1>ze&&(ze=1),Oe.dd=ze,Oe.tc=2*$e+ze,Oe.ld=40<=$e?2:15<=$e?1:0}else Oe.tc=0;Oe.La=Ce}}}Ne=0}else Ln(oe,6,"Frame setup failed"),Ne=oe.a;if(Ne=Ne==0){if(Ne){oe.$c=0,0<oe.Aa||(oe.Ic=Sa);t:{Ne=oe.Ic,Me=4*(ze=oe.za);var Lt=32*ze,pt=ze+1,rr=0<oe.L?ze*(0<oe.Aa?2:1):0,wt=(oe.Aa==2?2:1)*ze;if((Oe=Me+832+(Ce=3*(16*Ne+rl[oe.L])/2*Lt)+(Ie=oe.Fa!=null&&0<oe.Fa.length?oe.Kc.c*oe.Kc.i:0))!=Oe)Ne=0;else{if(Oe>oe.Vb){if(oe.Vb=0,oe.Ec=o(Oe),oe.Fc=0,oe.Ec==null){Ne=Ln(oe,1,"no memory during frame initialization.");break t}oe.Vb=Oe}Oe=oe.Ec,$e=oe.Fc,oe.Ac=Oe,oe.Bc=$e,$e+=Me,oe.Gd=c(Lt,Vs),oe.Hd=0,oe.rb=c(pt+1,Ya),oe.sb=1,oe.wa=rr?c(rr,qs):null,oe.Y=0,oe.D.Nb=0,oe.D.wa=oe.wa,oe.D.Y=oe.Y,0<oe.Aa&&(oe.D.Y+=ze),e(!0),oe.oc=Oe,oe.pc=$e,$e+=832,oe.ya=c(wt,yl),oe.aa=0,oe.D.ya=oe.ya,oe.D.aa=oe.aa,oe.Aa==2&&(oe.D.aa+=ze),oe.R=16*ze,oe.B=8*ze,ze=(Lt=rl[oe.L])*oe.R,Lt=Lt/2*oe.B,oe.sa=Oe,oe.ta=$e+ze,oe.qa=oe.sa,oe.ra=oe.ta+16*Ne*oe.R+Lt,oe.Ha=oe.qa,oe.Ia=oe.ra+8*Ne*oe.B+Lt,oe.$c=0,$e+=Ce,oe.mb=Ie?Oe:null,oe.nb=Ie?$e:null,e($e+Ie<=oe.Fc+oe.Vb),To(oe),i(oe.Ac,oe.Bc,0,Me),Ne=1}}if(Ne){if(ye.ka=0,ye.y=oe.sa,ye.O=oe.ta,ye.f=oe.qa,ye.N=oe.ra,ye.ea=oe.Ha,ye.Vd=oe.Ia,ye.fa=oe.R,ye.Rc=oe.B,ye.F=null,ye.J=0,!rh){for(Ne=-255;255>=Ne;++Ne)Qd[255+Ne]=0>Ne?-Ne:Ne;for(Ne=-1020;1020>=Ne;++Ne)Zd[1020+Ne]=-128>Ne?-128:127<Ne?127:Ne;for(Ne=-112;112>=Ne;++Ne)eh[112+Ne]=-16>Ne?-16:15<Ne?15:Ne;for(Ne=-255;510>=Ne;++Ne)th[255+Ne]=0>Ne?0:255<Ne?255:Ne;rh=1}io=Io,Ko=Lo,As=Wi,Tr=bl,qr=Cr,gn=wc,xn=us,Rn=oi,Pi=M,Ac=ce,Il=Cl,Na=j,Ru=pe,Rl=je,Ou=ga,Yd=Xa,Ec=Sc,Yo=Bo,ui[0]=Tu,ui[1]=bc,ui[2]=Ki,ui[3]=Kd,ui[4]=Ws,ui[5]=Lu,ui[6]=ma,ui[7]=_l,ui[8]=jc,ui[9]=Oo,bs[0]=Gi,bs[1]=Pu,bs[2]=jl,bs[3]=Nl,bs[4]=ks,bs[5]=ni,bs[6]=Ro,Es[0]=Sl,Es[1]=Eu,Es[2]=ki,Es[3]=Do,Es[4]=_c,Es[5]=Nc,Es[6]=kl,Ne=1}else Ne=0}Ne&&(Ne=(function(mr,vn){for(mr.M=0;mr.M<mr.Va;++mr.M){var ar,mt=mr.Jc[mr.M&mr.Xb],it=mr.m,Sn=mr;for(ar=0;ar<Sn.za;++ar){var Jt=it,dr=Sn,tn=dr.Ac,Yn=dr.Bc+4*ar,On=dr.zc,pn=dr.ya[dr.aa+ar];if(dr.Qa.Bb?pn.$b=Se(Jt,dr.Pa.jb[0])?2+Se(Jt,dr.Pa.jb[2]):Se(Jt,dr.Pa.jb[1]):pn.$b=0,dr.kc&&(pn.Ad=Se(Jt,dr.Bd)),pn.Za=!Se(Jt,145)+0,pn.Za){var qn=pn.Ob,Jn=0;for(dr=0;4>dr;++dr){var cn,xr=On[0+dr];for(cn=0;4>cn;++cn){xr=Pm[tn[Yn+cn]][xr];for(var Lr=lf[Se(Jt,xr[0])];0<Lr;)Lr=lf[2*Lr+Se(Jt,xr[Lr])];xr=-Lr,tn[Yn+cn]=xr}s(qn,Jn,tn,Yn,4),Jn+=4,On[0+dr]=xr}}else xr=Se(Jt,156)?Se(Jt,128)?1:3:Se(Jt,163)?2:0,pn.Ob[0]=xr,i(tn,Yn,xr,4),i(On,0,xr,4);pn.Dd=Se(Jt,142)?Se(Jt,114)?Se(Jt,183)?1:3:2:0}if(Sn.m.Ka)return Ln(mr,7,"Premature end-of-partition0 encountered.");for(;mr.ja<mr.za;++mr.ja){if(Sn=mt,Jt=(it=mr).rb[it.sb-1],tn=it.rb[it.sb+it.ja],ar=it.ya[it.aa+it.ja],Yn=it.kc?ar.Ad:0)Jt.la=tn.la=0,ar.Za||(Jt.Na=tn.Na=0),ar.Hc=0,ar.Gc=0,ar.ia=0;else{var un,Ir;if(Jt=tn,tn=Sn,Yn=it.Pa.Xc,On=it.ya[it.aa+it.ja],pn=it.pb[On.$b],dr=On.ad,qn=0,Jn=it.rb[it.sb-1],xr=cn=0,i(dr,qn,0,384),On.Za)var yn=0,wn=Yn[3];else{Lr=o(16);var Kr=Jt.Na+Jn.Na;if(Kr=Zo(tn,Yn[1],Kr,pn.Eb,0,Lr,0),Jt.Na=Jn.Na=(0<Kr)+0,1<Kr)io(Lr,0,dr,qn);else{var hs=Lr[0]+3>>3;for(Lr=0;256>Lr;Lr+=16)dr[qn+Lr]=hs}yn=1,wn=Yn[0]}var Hr=15&Jt.la,Yr=15&Jn.la;for(Lr=0;4>Lr;++Lr){var Dn=1&Yr;for(hs=Ir=0;4>hs;++hs)Hr=Hr>>1|(Dn=(Kr=Zo(tn,wn,Kr=Dn+(1&Hr),pn.Sc,yn,dr,qn))>yn)<<7,Ir=Ir<<2|(3<Kr?3:1<Kr?2:dr[qn+0]!=0),qn+=16;Hr>>=4,Yr=Yr>>1|Dn<<7,cn=(cn<<8|Ir)>>>0}for(wn=Hr,yn=Yr>>4,un=0;4>un;un+=2){for(Ir=0,Hr=Jt.la>>4+un,Yr=Jn.la>>4+un,Lr=0;2>Lr;++Lr){for(Dn=1&Yr,hs=0;2>hs;++hs)Kr=Dn+(1&Hr),Hr=Hr>>1|(Dn=0<(Kr=Zo(tn,Yn[2],Kr,pn.Qc,0,dr,qn)))<<3,Ir=Ir<<2|(3<Kr?3:1<Kr?2:dr[qn+0]!=0),qn+=16;Hr>>=2,Yr=Yr>>1|Dn<<5}xr|=Ir<<4*un,wn|=Hr<<4<<un,yn|=(240&Yr)<<un}Jt.la=wn,Jn.la=yn,On.Hc=cn,On.Gc=xr,On.ia=43690&xr?0:pn.ia,Yn=!(cn|xr)}if(0<it.L&&(it.wa[it.Y+it.ja]=it.gd[ar.$b][ar.Za],it.wa[it.Y+it.ja].La|=!Yn),Sn.Ka)return Ln(mr,7,"Premature end-of-file encountered.")}if(To(mr),it=vn,Sn=1,ar=(mt=mr).D,Jt=0<mt.L&&mt.M>=mt.zb&&mt.M<=mt.Va,mt.Aa==0)t:{if(ar.M=mt.M,ar.uc=Jt,Gs(mt,ar),Sn=1,ar=(Ir=mt.D).Nb,Jt=(xr=rl[mt.L])*mt.R,tn=xr/2*mt.B,Lr=16*ar*mt.R,hs=8*ar*mt.B,Yn=mt.sa,On=mt.ta-Jt+Lr,pn=mt.qa,dr=mt.ra-tn+hs,qn=mt.Ha,Jn=mt.Ia-tn+hs,Yr=(Hr=Ir.M)==0,cn=Hr>=mt.Va-1,mt.Aa==2&&Gs(mt,Ir),Ir.uc)for(Dn=(Kr=mt).D.M,e(Kr.D.uc),Ir=Kr.yb;Ir<Kr.Hb;++Ir){yn=Ir,wn=Dn;var is=(Is=(An=Kr).D).Nb;un=An.R;var Is=Is.wa[Is.Y+yn],kn=An.sa,Cn=An.ta+16*is*un+16*yn,fs=Is.dd,Jr=Is.tc;if(Jr!=0)if(e(3<=Jr),An.L==1)0<yn&&Yd(kn,Cn,un,Jr+4),Is.La&&Yo(kn,Cn,un,Jr),0<wn&&Ou(kn,Cn,un,Jr+4),Is.La&&Ec(kn,Cn,un,Jr);else{var ps=An.B,di=An.qa,Li=An.ra+8*is*ps+8*yn,Xn=An.Ha,An=An.Ia+8*is*ps+8*yn;is=Is.ld,0<yn&&(Rn(kn,Cn,un,Jr+4,fs,is),Ac(di,Li,Xn,An,ps,Jr+4,fs,is)),Is.La&&(Na(kn,Cn,un,Jr,fs,is),Rl(di,Li,Xn,An,ps,Jr,fs,is)),0<wn&&(xn(kn,Cn,un,Jr+4,fs,is),Pi(di,Li,Xn,An,ps,Jr+4,fs,is)),Is.La&&(Il(kn,Cn,un,Jr,fs,is),Ru(di,Li,Xn,An,ps,Jr,fs,is))}}if(mt.ia&&alert("todo:DitherRow"),it.put!=null){if(Ir=16*Hr,Hr=16*(Hr+1),Yr?(it.y=mt.sa,it.O=mt.ta+Lr,it.f=mt.qa,it.N=mt.ra+hs,it.ea=mt.Ha,it.W=mt.Ia+hs):(Ir-=xr,it.y=Yn,it.O=On,it.f=pn,it.N=dr,it.ea=qn,it.W=Jn),cn||(Hr-=xr),Hr>it.o&&(Hr=it.o),it.F=null,it.J=null,mt.Fa!=null&&0<mt.Fa.length&&Ir<Hr&&(it.J=en(mt,it,Ir,Hr-Ir),it.F=mt.mb,it.F==null&&it.F.length==0)){Sn=Ln(mt,3,"Could not decode alpha data.");break t}Ir<it.j&&(xr=it.j-Ir,Ir=it.j,e(!(1&xr)),it.O+=mt.R*xr,it.N+=mt.B*(xr>>1),it.W+=mt.B*(xr>>1),it.F!=null&&(it.J+=it.width*xr)),Ir<Hr&&(it.O+=it.v,it.N+=it.v>>1,it.W+=it.v>>1,it.F!=null&&(it.J+=it.v),it.ka=Ir-it.j,it.U=it.va-it.v,it.T=Hr-Ir,Sn=it.put(it))}ar+1!=mt.Ic||cn||(s(mt.sa,mt.ta-Jt,Yn,On+16*mt.R,Jt),s(mt.qa,mt.ra-tn,pn,dr+8*mt.B,tn),s(mt.Ha,mt.Ia-tn,qn,Jn+8*mt.B,tn))}if(!Sn)return Ln(mr,6,"Output aborted.")}return 1})(oe,ye)),ye.bc!=null&&ye.bc(ye),Ne&=1}return Ne?(oe.cb=0,Ne):0})(m,I)||(y=m.a)}}else y=m.a}y==0&&G.Oa!=null&&G.Oa.fd&&(y=Pl(G.ba))}G=y}W=G!=0?null:11>W?J.f.RGBA.eb:J.f.kb.y}else W=null;return W};var Fc=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function h(Y,q){for(var L="",z=0;z<4;z++)L+=String.fromCharCode(Y[q++]);return L}function p(Y,q){return Y[q+0]|Y[q+1]<<8}function g(Y,q){return(Y[q+0]|Y[q+1]<<8|Y[q+2]<<16)>>>0}function w(Y,q){return(Y[q+0]|Y[q+1]<<8|Y[q+2]<<16|Y[q+3]<<24)>>>0}new d;var x=[0],S=[0],_=[],k=new d,b=n,R=(function(Y,q){var L={},z=0,U=!1,te=0,re=0;if(L.frames=[],!(function(O,V){for(var X=0;X<4;X++)if(O[V+X]!="RIFF".charCodeAt(X))return!0;return!1})(Y,q)){for(w(Y,q+=4),q+=8;q<Y.length;){var ue=h(Y,q),fe=w(Y,q+=4);q+=4;var B=fe+(1&fe);switch(ue){case"VP8 ":case"VP8L":L.frames[z]===void 0&&(L.frames[z]={}),(H=L.frames[z]).src_off=U?re:q-8,H.src_size=te+fe+8,z++,U&&(U=!1,te=0,re=0);break;case"VP8X":(H=L.header={}).feature_flags=Y[q];var Z=q+4;H.canvas_width=1+g(Y,Z),Z+=3,H.canvas_height=1+g(Y,Z),Z+=3;break;case"ALPH":U=!0,te=B+8,re=q-8;break;case"ANIM":(H=L.header).bgcolor=w(Y,q),Z=q+4,H.loop_count=p(Y,Z),Z+=2;break;case"ANMF":var me,H;(H=L.frames[z]={}).offset_x=2*g(Y,q),q+=3,H.offset_y=2*g(Y,q),q+=3,H.width=1+g(Y,q),q+=3,H.height=1+g(Y,q),q+=3,H.duration=g(Y,q),q+=3,me=Y[q++],H.dispose=1&me,H.blend=me>>1&1}ue!="ANMF"&&(q+=B)}return L}})(b,0);R.response=b,R.rgbaoutput=!0,R.dataurl=!1;var P=R.header?R.header:null,T=R.frames?R.frames:null;if(P){P.loop_counter=P.loop_count,x=[P.canvas_height],S=[P.canvas_width];for(var F=0;F<T.length&&T[F].blend!=0;F++);}var ne=T[0],ee=k.WebPDecodeRGBA(b,ne.src_off,ne.src_size,S,x);ne.rgba=ee,ne.imgwidth=S[0],ne.imgheight=x[0];for(var K=0;K<S[0]*x[0]*4;K++)_[K]=ee[K];return this.width=S,this.height=x,this.data=_,this}(function(n){var e,t,s,i,o,c,u,d,h,p=function(O){return O=O||{},this.isStrokeTransparent=O.isStrokeTransparent||!1,this.strokeOpacity=O.strokeOpacity||1,this.strokeStyle=O.strokeStyle||"#000000",this.fillStyle=O.fillStyle||"#000000",this.isFillTransparent=O.isFillTransparent||!1,this.fillOpacity=O.fillOpacity||1,this.font=O.font||"10px sans-serif",this.textBaseline=O.textBaseline||"alphabetic",this.textAlign=O.textAlign||"left",this.lineWidth=O.lineWidth||1,this.lineJoin=O.lineJoin||"miter",this.lineCap=O.lineCap||"butt",this.path=O.path||[],this.transform=O.transform!==void 0?O.transform.clone():new d,this.globalCompositeOperation=O.globalCompositeOperation||"normal",this.globalAlpha=O.globalAlpha||1,this.clip_path=O.clip_path||[],this.currentPoint=O.currentPoint||new c,this.miterLimit=O.miterLimit||10,this.lastPoint=O.lastPoint||new c,this.lineDashOffset=O.lineDashOffset||0,this.lineDash=O.lineDash||[],this.margin=O.margin||[0,0,0,0],this.prevPageLastElemOffset=O.prevPageLastElemOffset||0,this.ignoreClearRect=typeof O.ignoreClearRect!="boolean"||O.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new g(this),e=this.internal.f2,t=this.internal.getCoordinateString,s=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,c=this.internal.Point,u=this.internal.Rectangle,d=this.internal.Matrix,h=new p}]);var g=function(O){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var V=O;Object.defineProperty(this,"pdf",{get:function(){return V}});var X=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return X},set:function(ie){X=!!ie}});var se=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return se},set:function(ie){se=!!ie}});var de=0;Object.defineProperty(this,"posX",{get:function(){return de},set:function(ie){isNaN(ie)||(de=ie)}});var le=0;Object.defineProperty(this,"posY",{get:function(){return le},set:function(ie){isNaN(ie)||(le=ie)}}),Object.defineProperty(this,"margin",{get:function(){return h.margin},set:function(ie){var st;typeof ie=="number"?st=[ie,ie,ie,ie]:((st=new Array(4))[0]=ie[0],st[1]=ie.length>=2?ie[1]:st[0],st[2]=ie.length>=3?ie[2]:st[0],st[3]=ie.length>=4?ie[3]:st[1]),h.margin=st}});var ge=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ge},set:function(ie){ge=ie}});var be=0;Object.defineProperty(this,"lastBreak",{get:function(){return be},set:function(ie){be=ie}});var Se=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Se},set:function(ie){Se=ie}}),Object.defineProperty(this,"ctx",{get:function(){return h},set:function(ie){ie instanceof p&&(h=ie)}}),Object.defineProperty(this,"path",{get:function(){return h.path},set:function(ie){h.path=ie}});var De=[];Object.defineProperty(this,"ctxStack",{get:function(){return De},set:function(ie){De=ie}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ie){var st;st=w(ie),this.ctx.fillStyle=st.style,this.ctx.isFillTransparent=st.a===0,this.ctx.fillOpacity=st.a,this.pdf.setFillColor(st.r,st.g,st.b,{a:st.a}),this.pdf.setTextColor(st.r,st.g,st.b,{a:st.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ie){var st=w(ie);this.ctx.strokeStyle=st.style,this.ctx.isStrokeTransparent=st.a===0,this.ctx.strokeOpacity=st.a,st.a===0?this.pdf.setDrawColor(255,255,255):(st.a,this.pdf.setDrawColor(st.r,st.g,st.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ie){["butt","round","square"].indexOf(ie)!==-1&&(this.ctx.lineCap=ie,this.pdf.setLineCap(ie))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ie){isNaN(ie)||(this.ctx.lineWidth=ie,this.pdf.setLineWidth(ie))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ie){["bevel","round","miter"].indexOf(ie)!==-1&&(this.ctx.lineJoin=ie,this.pdf.setLineJoin(ie))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ie){isNaN(ie)||(this.ctx.miterLimit=ie,this.pdf.setMiterLimit(ie))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ie){this.ctx.textBaseline=ie}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ie){["right","end","center","left","start"].indexOf(ie)!==-1&&(this.ctx.textAlign=ie)}});var Je=null,tt=null,ut=null;Object.defineProperty(this,"fontFaces",{get:function(){return ut},set:function(ie){Je=null,tt=null,ut=ie}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ie){var st;if(this.ctx.font=ie,(st=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(ie))!==null){var zt=st[1];st[2];var Bt=st[3],We=st[4];st[5];var Ot=st[6],ct=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(We)[2];We=Math.floor(ct==="px"?parseFloat(We)*this.pdf.internal.scaleFactor:ct==="em"?parseFloat(We)*this.pdf.getFontSize():parseFloat(We)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(We);var ht=(function(xt){var $r,pr,sr=[],ir=xt.trim();if(ir==="")return ox;if(ir in B2)return[B2[ir]];for(;ir!=="";){switch(pr=null,$r=(ir=$2(ir)).charAt(0)){case'"':case"'":pr=qD(ir.substring(1),$r);break;default:pr=VD(ir)}if(pr===null||(sr.push(pr[0]),(ir=$2(pr[1]))!==""&&ir.charAt(0)!==","))return ox;ir=ir.replace(/^,/,"")}return sr})(Ot);if(this.fontFaces){var _t=(function(xt,$r){var pr=xt.getFontList(),sr=JSON.stringify(pr);if(Je===null||tt!==sr){var ir=(function(Dr){var Dt=[];return Object.keys(Dr).forEach(function(kr){Dr[kr].forEach(function(Et){var Yt=null;switch(Et){case"bold":Yt={family:kr,weight:"bold"};break;case"italic":Yt={family:kr,style:"italic"};break;case"bolditalic":Yt={family:kr,weight:"bold",style:"italic"};break;case"":case"normal":Yt={family:kr}}Yt!==null&&(Yt.ref={name:kr,style:Et},Dt.push(Yt))})}),Dt})(pr);Je=(function(Dr){for(var Dt={},kr=0;kr<Dr.length;++kr){var Et=ax(Dr[kr]),Yt=Et.family,Pr=Et.stretch,Xt=Et.style,Ut=Et.weight;Dt[Yt]=Dt[Yt]||{},Dt[Yt][Pr]=Dt[Yt][Pr]||{},Dt[Yt][Pr][Xt]=Dt[Yt][Pr][Xt]||{},Dt[Yt][Pr][Xt][Ut]=Et}return Dt})(ir.concat($r)),tt=sr}return Je})(this.pdf,this.fontFaces),_r=ht.map(function(xt){return{family:xt,stretch:"normal",weight:Bt,style:zt}}),lr=(function(xt,$r,pr){for(var sr=(pr=pr||{}).defaultFontFamily||"times",ir=Object.assign({},zD,pr.genericFontFamilies||{}),Dr=null,Dt=null,kr=0;kr<$r.length;++kr)if(ir[(Dr=ax($r[kr])).family]&&(Dr.family=ir[Dr.family]),xt.hasOwnProperty(Dr.family)){Dt=xt[Dr.family];break}if(!(Dt=Dt||xt[sr]))throw new Error("Could not find a font-family for the rule '"+U2(Dr)+"' and default family '"+sr+"'.");if(Dt=(function(Et,Yt){if(Yt[Et])return Yt[Et];var Pr=Xx[Et],Xt=Pr<=Xx.normal?-1:1,Ut=F2(Yt,o_,Pr,Xt);if(!Ut)throw new Error("Could not find a matching font-stretch value for "+Et);return Ut})(Dr.stretch,Dt),Dt=(function(Et,Yt){if(Yt[Et])return Yt[Et];for(var Pr=a_[Et],Xt=0;Xt<Pr.length;++Xt)if(Yt[Pr[Xt]])return Yt[Pr[Xt]];throw new Error("Could not find a matching font-style for "+Et)})(Dr.style,Dt),!(Dt=(function(Et,Yt){if(Yt[Et])return Yt[Et];if(Et===400&&Yt[500])return Yt[500];if(Et===500&&Yt[400])return Yt[400];var Pr=$D[Et],Xt=F2(Yt,l_,Pr,Et<400?-1:1);if(!Xt)throw new Error("Could not find a matching font-weight for value "+Et);return Xt})(Dr.weight,Dt)))throw new Error("Failed to resolve a font for the rule '"+U2(Dr)+"'.");return Dt})(_t,_r);this.pdf.setFont(lr.ref.name,lr.ref.style)}else{var Wt="";(Bt==="bold"||parseInt(Bt,10)>=700||zt==="bold")&&(Wt="bold"),zt==="italic"&&(Wt+="italic"),Wt.length===0&&(Wt="normal");for(var cr="",nr={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},gt=0;gt<ht.length;gt++){if(this.pdf.internal.getFont(ht[gt],Wt,{noFallback:!0,disableWarning:!0})!==void 0){cr=ht[gt];break}if(Wt==="bolditalic"&&this.pdf.internal.getFont(ht[gt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)cr=ht[gt],Wt="bold";else if(this.pdf.internal.getFont(ht[gt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){cr=ht[gt],Wt="normal";break}}if(cr===""){for(var $t=0;$t<ht.length;$t++)if(nr[ht[$t]]){cr=nr[ht[$t]];break}}cr=cr===""?"Times":cr,this.pdf.setFont(cr,Wt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ie){this.ctx.globalCompositeOperation=ie}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ie){this.ctx.globalAlpha=ie}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ie){this.ctx.lineDashOffset=ie,H.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ie){this.ctx.lineDash=ie,H.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ie){this.ctx.ignoreClearRect=!!ie}})};g.prototype.setLineDash=function(O){this.lineDash=O},g.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},g.prototype.fill=function(){T.call(this,"fill",!1)},g.prototype.stroke=function(){T.call(this,"stroke",!1)},g.prototype.beginPath=function(){this.path=[{type:"begin"}]},g.prototype.moveTo=function(O,V){if(isNaN(O)||isNaN(V))throw sn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var X=this.ctx.transform.applyToPoint(new c(O,V));this.path.push({type:"mt",x:X.x,y:X.y}),this.ctx.lastPoint=new c(O,V)},g.prototype.closePath=function(){var O=new c(0,0),V=0;for(V=this.path.length-1;V!==-1;V--)if(this.path[V].type==="begin"&&Xr(this.path[V+1])==="object"&&typeof this.path[V+1].x=="number"){O=new c(this.path[V+1].x,this.path[V+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new c(O.x,O.y)},g.prototype.lineTo=function(O,V){if(isNaN(O)||isNaN(V))throw sn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var X=this.ctx.transform.applyToPoint(new c(O,V));this.path.push({type:"lt",x:X.x,y:X.y}),this.ctx.lastPoint=new c(X.x,X.y)},g.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),T.call(this,null,!0)},g.prototype.quadraticCurveTo=function(O,V,X,se){if(isNaN(X)||isNaN(se)||isNaN(O)||isNaN(V))throw sn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var de=this.ctx.transform.applyToPoint(new c(X,se)),le=this.ctx.transform.applyToPoint(new c(O,V));this.path.push({type:"qct",x1:le.x,y1:le.y,x:de.x,y:de.y}),this.ctx.lastPoint=new c(de.x,de.y)},g.prototype.bezierCurveTo=function(O,V,X,se,de,le){if(isNaN(de)||isNaN(le)||isNaN(O)||isNaN(V)||isNaN(X)||isNaN(se))throw sn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ge=this.ctx.transform.applyToPoint(new c(de,le)),be=this.ctx.transform.applyToPoint(new c(O,V)),Se=this.ctx.transform.applyToPoint(new c(X,se));this.path.push({type:"bct",x1:be.x,y1:be.y,x2:Se.x,y2:Se.y,x:ge.x,y:ge.y}),this.ctx.lastPoint=new c(ge.x,ge.y)},g.prototype.arc=function(O,V,X,se,de,le){if(isNaN(O)||isNaN(V)||isNaN(X)||isNaN(se)||isNaN(de))throw sn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(le=!!le,!this.ctx.transform.isIdentity){var ge=this.ctx.transform.applyToPoint(new c(O,V));O=ge.x,V=ge.y;var be=this.ctx.transform.applyToPoint(new c(0,X)),Se=this.ctx.transform.applyToPoint(new c(0,0));X=Math.sqrt(Math.pow(be.x-Se.x,2)+Math.pow(be.y-Se.y,2))}Math.abs(de-se)>=2*Math.PI&&(se=0,de=2*Math.PI),this.path.push({type:"arc",x:O,y:V,radius:X,startAngle:se,endAngle:de,counterclockwise:le})},g.prototype.arcTo=function(O,V,X,se,de){throw new Error("arcTo not implemented.")},g.prototype.rect=function(O,V,X,se){if(isNaN(O)||isNaN(V)||isNaN(X)||isNaN(se))throw sn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(O,V),this.lineTo(O+X,V),this.lineTo(O+X,V+se),this.lineTo(O,V+se),this.lineTo(O,V),this.lineTo(O+X,V),this.lineTo(O,V)},g.prototype.fillRect=function(O,V,X,se){if(isNaN(O)||isNaN(V)||isNaN(X)||isNaN(se))throw sn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!x.call(this)){var de={};this.lineCap!=="butt"&&(de.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(de.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(O,V,X,se),this.fill(),de.hasOwnProperty("lineCap")&&(this.lineCap=de.lineCap),de.hasOwnProperty("lineJoin")&&(this.lineJoin=de.lineJoin)}},g.prototype.strokeRect=function(O,V,X,se){if(isNaN(O)||isNaN(V)||isNaN(X)||isNaN(se))throw sn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");S.call(this)||(this.beginPath(),this.rect(O,V,X,se),this.stroke())},g.prototype.clearRect=function(O,V,X,se){if(isNaN(O)||isNaN(V)||isNaN(X)||isNaN(se))throw sn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(O,V,X,se))},g.prototype.save=function(O){O=typeof O!="boolean"||O;for(var V=this.pdf.internal.getCurrentPageInfo().pageNumber,X=0;X<this.pdf.internal.getNumberOfPages();X++)this.pdf.setPage(X+1),this.pdf.internal.out("q");if(this.pdf.setPage(V),O){this.ctx.fontSize=this.pdf.internal.getFontSize();var se=new p(this.ctx);this.ctxStack.push(this.ctx),this.ctx=se}},g.prototype.restore=function(O){O=typeof O!="boolean"||O;for(var V=this.pdf.internal.getCurrentPageInfo().pageNumber,X=0;X<this.pdf.internal.getNumberOfPages();X++)this.pdf.setPage(X+1),this.pdf.internal.out("Q");this.pdf.setPage(V),O&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},g.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var w=function(O){var V,X,se,de;if(O.isCanvasGradient===!0&&(O=O.getColor()),!O)return{r:0,g:0,b:0,a:0,style:O};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(O))V=0,X=0,se=0,de=0;else{var le=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(O);if(le!==null)V=parseInt(le[1]),X=parseInt(le[2]),se=parseInt(le[3]),de=1;else if((le=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(O))!==null)V=parseInt(le[1]),X=parseInt(le[2]),se=parseInt(le[3]),de=parseFloat(le[4]);else{if(de=1,typeof O=="string"&&O.charAt(0)!=="#"){var ge=new ZN(O);O=ge.ok?ge.toHex():"#000000"}O.length===4?(V=O.substring(1,2),V+=V,X=O.substring(2,3),X+=X,se=O.substring(3,4),se+=se):(V=O.substring(1,3),X=O.substring(3,5),se=O.substring(5,7)),V=parseInt(V,16),X=parseInt(X,16),se=parseInt(se,16)}}return{r:V,g:X,b:se,a:de,style:O}},x=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},S=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};g.prototype.fillText=function(O,V,X,se){if(isNaN(V)||isNaN(X)||typeof O!="string")throw sn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(se=isNaN(se)?void 0:se,!x.call(this)){var de=B(this.ctx.transform.rotation),le=this.ctx.transform.scaleX;z.call(this,{text:O,x:V,y:X,scale:le,angle:de,align:this.textAlign,maxWidth:se})}},g.prototype.strokeText=function(O,V,X,se){if(isNaN(V)||isNaN(X)||typeof O!="string")throw sn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!S.call(this)){se=isNaN(se)?void 0:se;var de=B(this.ctx.transform.rotation),le=this.ctx.transform.scaleX;z.call(this,{text:O,x:V,y:X,scale:le,renderingMode:"stroke",angle:de,align:this.textAlign,maxWidth:se})}},g.prototype.measureText=function(O){if(typeof O!="string")throw sn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var V=this.pdf,X=this.pdf.internal.scaleFactor,se=V.internal.getFontSize(),de=V.getStringUnitWidth(O)*se/V.internal.scaleFactor;return new function(le){var ge=(le=le||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ge}}),this}({width:de*=Math.round(96*X/72*1e4)/1e4})},g.prototype.scale=function(O,V){if(isNaN(O)||isNaN(V))throw sn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var X=new d(O,0,0,V,0,0);this.ctx.transform=this.ctx.transform.multiply(X)},g.prototype.rotate=function(O){if(isNaN(O))throw sn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var V=new d(Math.cos(O),Math.sin(O),-Math.sin(O),Math.cos(O),0,0);this.ctx.transform=this.ctx.transform.multiply(V)},g.prototype.translate=function(O,V){if(isNaN(O)||isNaN(V))throw sn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var X=new d(1,0,0,1,O,V);this.ctx.transform=this.ctx.transform.multiply(X)},g.prototype.transform=function(O,V,X,se,de,le){if(isNaN(O)||isNaN(V)||isNaN(X)||isNaN(se)||isNaN(de)||isNaN(le))throw sn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ge=new d(O,V,X,se,de,le);this.ctx.transform=this.ctx.transform.multiply(ge)},g.prototype.setTransform=function(O,V,X,se,de,le){O=isNaN(O)?1:O,V=isNaN(V)?0:V,X=isNaN(X)?0:X,se=isNaN(se)?1:se,de=isNaN(de)?0:de,le=isNaN(le)?0:le,this.ctx.transform=new d(O,V,X,se,de,le)};var _=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};g.prototype.drawImage=function(O,V,X,se,de,le,ge,be,Se){var De=this.pdf.getImageProperties(O),Je=1,tt=1,ut=1,ie=1;se!==void 0&&be!==void 0&&(ut=be/se,ie=Se/de,Je=De.width/se*be/se,tt=De.height/de*Se/de),le===void 0&&(le=V,ge=X,V=0,X=0),se!==void 0&&be===void 0&&(be=se,Se=de),se===void 0&&be===void 0&&(be=De.width,Se=De.height);var st=this.ctx.transform.decompose(),zt=B(st.rotate.shx),Bt=new d,We=(Bt=(Bt=(Bt=Bt.multiply(st.translate)).multiply(st.skew)).multiply(st.scale)).applyToRectangle(new u(le-V*ut,ge-X*ie,se*Je,de*tt));if(this.autoPaging){for(var Ot,ct=k.call(this,We),ht=[],_t=0;_t<ct.length;_t+=1)ht.indexOf(ct[_t])===-1&&ht.push(ct[_t]);P(ht);for(var _r=ht[0],lr=ht[ht.length-1],Wt=_r;Wt<lr+1;Wt++){this.pdf.setPage(Wt);var cr=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],nr=Wt===1?this.posY+this.margin[0]:this.margin[0],gt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],$t=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],xt=Wt===1?0:gt+(Wt-2)*$t;if(this.ctx.clip_path.length!==0){var $r=this.path;Ot=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=R(Ot,this.posX+this.margin[3],-xt+nr+this.ctx.prevPageLastElemOffset),F.call(this,"fill",!0),this.path=$r}var pr=JSON.parse(JSON.stringify(We));pr=R([pr],this.posX+this.margin[3],-xt+nr+this.ctx.prevPageLastElemOffset)[0];var sr=(Wt>_r||Wt<lr)&&_.call(this);sr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],cr,$t,null).clip().discardPath()),this.pdf.addImage(O,"JPEG",pr.x,pr.y,pr.w,pr.h,null,null,zt),sr&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(O,"JPEG",We.x,We.y,We.w,We.h,null,null,zt)};var k=function(O,V,X){var se=[];V=V||this.pdf.internal.pageSize.width,X=X||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var de=this.posY+this.ctx.prevPageLastElemOffset;switch(O.type){default:case"mt":case"lt":se.push(Math.floor((O.y+de)/X)+1);break;case"arc":se.push(Math.floor((O.y+de-O.radius)/X)+1),se.push(Math.floor((O.y+de+O.radius)/X)+1);break;case"qct":var le=Z(this.ctx.lastPoint.x,this.ctx.lastPoint.y,O.x1,O.y1,O.x,O.y);se.push(Math.floor((le.y+de)/X)+1),se.push(Math.floor((le.y+le.h+de)/X)+1);break;case"bct":var ge=me(this.ctx.lastPoint.x,this.ctx.lastPoint.y,O.x1,O.y1,O.x2,O.y2,O.x,O.y);se.push(Math.floor((ge.y+de)/X)+1),se.push(Math.floor((ge.y+ge.h+de)/X)+1);break;case"rect":se.push(Math.floor((O.y+de)/X)+1),se.push(Math.floor((O.y+O.h+de)/X)+1)}for(var be=0;be<se.length;be+=1)for(;this.pdf.internal.getNumberOfPages()<se[be];)b.call(this);return se},b=function(){var O=this.fillStyle,V=this.strokeStyle,X=this.font,se=this.lineCap,de=this.lineWidth,le=this.lineJoin;this.pdf.addPage(),this.fillStyle=O,this.strokeStyle=V,this.font=X,this.lineCap=se,this.lineWidth=de,this.lineJoin=le},R=function(O,V,X){for(var se=0;se<O.length;se++)switch(O[se].type){case"bct":O[se].x2+=V,O[se].y2+=X;case"qct":O[se].x1+=V,O[se].y1+=X;default:O[se].x+=V,O[se].y+=X}return O},P=function(O){return O.sort(function(V,X){return V-X})},T=function(O,V){var X=this.fillStyle,se=this.strokeStyle,de=this.lineCap,le=this.lineWidth,ge=Math.abs(le*this.ctx.transform.scaleX),be=this.lineJoin;if(this.autoPaging){for(var Se,De,Je=JSON.parse(JSON.stringify(this.path)),tt=JSON.parse(JSON.stringify(this.path)),ut=[],ie=0;ie<tt.length;ie++)if(tt[ie].x!==void 0)for(var st=k.call(this,tt[ie]),zt=0;zt<st.length;zt+=1)ut.indexOf(st[zt])===-1&&ut.push(st[zt]);for(var Bt=0;Bt<ut.length;Bt++)for(;this.pdf.internal.getNumberOfPages()<ut[Bt];)b.call(this);P(ut);for(var We=ut[0],Ot=ut[ut.length-1],ct=We;ct<Ot+1;ct++){this.pdf.setPage(ct),this.fillStyle=X,this.strokeStyle=se,this.lineCap=de,this.lineWidth=ge,this.lineJoin=be;var ht=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],_t=ct===1?this.posY+this.margin[0]:this.margin[0],_r=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],lr=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Wt=ct===1?0:_r+(ct-2)*lr;if(this.ctx.clip_path.length!==0){var cr=this.path;Se=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=R(Se,this.posX+this.margin[3],-Wt+_t+this.ctx.prevPageLastElemOffset),F.call(this,O,!0),this.path=cr}if(De=JSON.parse(JSON.stringify(Je)),this.path=R(De,this.posX+this.margin[3],-Wt+_t+this.ctx.prevPageLastElemOffset),V===!1||ct===0){var nr=(ct>We||ct<Ot)&&_.call(this);nr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ht,lr,null).clip().discardPath()),F.call(this,O,V),nr&&this.pdf.restoreGraphicsState()}this.lineWidth=le}this.path=Je}else this.lineWidth=ge,F.call(this,O,V),this.lineWidth=le},F=function(O,V){if((O!=="stroke"||V||!S.call(this))&&(O==="stroke"||V||!x.call(this))){for(var X,se,de=[],le=this.path,ge=0;ge<le.length;ge++){var be=le[ge];switch(be.type){case"begin":de.push({begin:!0});break;case"close":de.push({close:!0});break;case"mt":de.push({start:be,deltas:[],abs:[]});break;case"lt":var Se=de.length;if(le[ge-1]&&!isNaN(le[ge-1].x)&&(X=[be.x-le[ge-1].x,be.y-le[ge-1].y],Se>0)){for(;Se>=0;Se--)if(de[Se-1].close!==!0&&de[Se-1].begin!==!0){de[Se-1].deltas.push(X),de[Se-1].abs.push(be);break}}break;case"bct":X=[be.x1-le[ge-1].x,be.y1-le[ge-1].y,be.x2-le[ge-1].x,be.y2-le[ge-1].y,be.x-le[ge-1].x,be.y-le[ge-1].y],de[de.length-1].deltas.push(X);break;case"qct":var De=le[ge-1].x+2/3*(be.x1-le[ge-1].x),Je=le[ge-1].y+2/3*(be.y1-le[ge-1].y),tt=be.x+2/3*(be.x1-be.x),ut=be.y+2/3*(be.y1-be.y),ie=be.x,st=be.y;X=[De-le[ge-1].x,Je-le[ge-1].y,tt-le[ge-1].x,ut-le[ge-1].y,ie-le[ge-1].x,st-le[ge-1].y],de[de.length-1].deltas.push(X);break;case"arc":de.push({deltas:[],abs:[],arc:!0}),Array.isArray(de[de.length-1].abs)&&de[de.length-1].abs.push(be)}}se=V?null:O==="stroke"?"stroke":"fill";for(var zt=!1,Bt=0;Bt<de.length;Bt++)if(de[Bt].arc)for(var We=de[Bt].abs,Ot=0;Ot<We.length;Ot++){var ct=We[Ot];ct.type==="arc"?K.call(this,ct.x,ct.y,ct.radius,ct.startAngle,ct.endAngle,ct.counterclockwise,void 0,V,!zt):U.call(this,ct.x,ct.y),zt=!0}else if(de[Bt].close===!0)this.pdf.internal.out("h"),zt=!1;else if(de[Bt].begin!==!0){var ht=de[Bt].start.x,_t=de[Bt].start.y;te.call(this,de[Bt].deltas,ht,_t),zt=!0}se&&Y.call(this,se),V&&q.call(this)}},ne=function(O){var V=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,X=V*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return O-X;case"top":return O+V-X;case"hanging":return O+V-2*X;case"middle":return O+V/2-X;default:return O}},ee=function(O){return O+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};g.prototype.createLinearGradient=function(){var O=function(){};return O.colorStops=[],O.addColorStop=function(V,X){this.colorStops.push([V,X])},O.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},O.isCanvasGradient=!0,O},g.prototype.createPattern=function(){return this.createLinearGradient()},g.prototype.createRadialGradient=function(){return this.createLinearGradient()};var K=function(O,V,X,se,de,le,ge,be,Se){for(var De=ue.call(this,X,se,de,le),Je=0;Je<De.length;Je++){var tt=De[Je];Je===0&&(Se?L.call(this,tt.x1+O,tt.y1+V):U.call(this,tt.x1+O,tt.y1+V)),re.call(this,O,V,tt.x2,tt.y2,tt.x3,tt.y3,tt.x4,tt.y4)}be?q.call(this):Y.call(this,ge)},Y=function(O){switch(O){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},q=function(){this.pdf.clip(),this.pdf.discardPath()},L=function(O,V){this.pdf.internal.out(t(O)+" "+s(V)+" m")},z=function(O){var V;switch(O.align){case"right":case"end":V="right";break;case"center":V="center";break;default:V="left"}var X,se,de,le=this.pdf.getTextDimensions(O.text),ge=ne.call(this,O.y),be=ee.call(this,ge)-le.h,Se=this.ctx.transform.applyToPoint(new c(O.x,ge));if(this.autoPaging){var De=this.ctx.transform.decompose(),Je=new d;Je=(Je=(Je=Je.multiply(De.translate)).multiply(De.skew)).multiply(De.scale);for(var tt=this.ctx.transform.applyToRectangle(new u(O.x,ge,le.w,le.h)),ut=Je.applyToRectangle(new u(O.x,be,le.w,le.h)),ie=k.call(this,ut),st=[],zt=0;zt<ie.length;zt+=1)st.indexOf(ie[zt])===-1&&st.push(ie[zt]);P(st);for(var Bt=st[0],We=st[st.length-1],Ot=Bt;Ot<We+1;Ot++){this.pdf.setPage(Ot);var ct=Ot===1?this.posY+this.margin[0]:this.margin[0],ht=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],_t=this.pdf.internal.pageSize.height-this.margin[2],_r=_t-this.margin[0],lr=this.pdf.internal.pageSize.width-this.margin[1],Wt=lr-this.margin[3],cr=Ot===1?0:ht+(Ot-2)*_r;if(this.ctx.clip_path.length!==0){var nr=this.path;X=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=R(X,this.posX+this.margin[3],-1*cr+ct),F.call(this,"fill",!0),this.path=nr}var gt=R([JSON.parse(JSON.stringify(ut))],this.posX+this.margin[3],-cr+ct+this.ctx.prevPageLastElemOffset)[0];O.scale>=.01&&(se=this.pdf.internal.getFontSize(),this.pdf.setFontSize(se*O.scale),de=this.lineWidth,this.lineWidth=de*O.scale);var $t=this.autoPaging!=="text";if($t||gt.y+gt.h<=_t){if($t||gt.y>=ct&&gt.x<=lr){var xt=$t?O.text:this.pdf.splitTextToSize(O.text,O.maxWidth||lr-gt.x)[0],$r=R([JSON.parse(JSON.stringify(tt))],this.posX+this.margin[3],-cr+ct+this.ctx.prevPageLastElemOffset)[0],pr=$t&&(Ot>Bt||Ot<We)&&_.call(this);pr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Wt,_r,null).clip().discardPath()),this.pdf.text(xt,$r.x,$r.y,{angle:O.angle,align:V,renderingMode:O.renderingMode}),pr&&this.pdf.restoreGraphicsState()}}else gt.y<_t&&(this.ctx.prevPageLastElemOffset+=_t-gt.y);O.scale>=.01&&(this.pdf.setFontSize(se),this.lineWidth=de)}}else O.scale>=.01&&(se=this.pdf.internal.getFontSize(),this.pdf.setFontSize(se*O.scale),de=this.lineWidth,this.lineWidth=de*O.scale),this.pdf.text(O.text,Se.x+this.posX,Se.y+this.posY,{angle:O.angle,align:V,renderingMode:O.renderingMode,maxWidth:O.maxWidth}),O.scale>=.01&&(this.pdf.setFontSize(se),this.lineWidth=de)},U=function(O,V,X,se){X=X||0,se=se||0,this.pdf.internal.out(t(O+X)+" "+s(V+se)+" l")},te=function(O,V,X){return this.pdf.lines(O,V,X,null,null)},re=function(O,V,X,se,de,le,ge,be){this.pdf.internal.out([e(i(X+O)),e(o(se+V)),e(i(de+O)),e(o(le+V)),e(i(ge+O)),e(o(be+V)),"c"].join(" "))},ue=function(O,V,X,se){for(var de=2*Math.PI,le=Math.PI/2;V>X;)V-=de;var ge=Math.abs(X-V);ge<de&&se&&(ge=de-ge);for(var be=[],Se=se?-1:1,De=V;ge>1e-5;){var Je=De+Se*Math.min(ge,le);be.push(fe.call(this,O,De,Je)),ge-=Math.abs(Je-De),De=Je}return be},fe=function(O,V,X){var se=(X-V)/2,de=O*Math.cos(se),le=O*Math.sin(se),ge=de,be=-le,Se=ge*ge+be*be,De=Se+ge*de+be*le,Je=4/3*(Math.sqrt(2*Se*De)-De)/(ge*le-be*de),tt=ge-Je*be,ut=be+Je*ge,ie=tt,st=-ut,zt=se+V,Bt=Math.cos(zt),We=Math.sin(zt);return{x1:O*Math.cos(V),y1:O*Math.sin(V),x2:tt*Bt-ut*We,y2:tt*We+ut*Bt,x3:ie*Bt-st*We,y3:ie*We+st*Bt,x4:O*Math.cos(X),y4:O*Math.sin(X)}},B=function(O){return 180*O/Math.PI},Z=function(O,V,X,se,de,le){var ge=O+.5*(X-O),be=V+.5*(se-V),Se=de+.5*(X-de),De=le+.5*(se-le),Je=Math.min(O,de,ge,Se),tt=Math.max(O,de,ge,Se),ut=Math.min(V,le,be,De),ie=Math.max(V,le,be,De);return new u(Je,ut,tt-Je,ie-ut)},me=function(O,V,X,se,de,le,ge,be){var Se,De,Je,tt,ut,ie,st,zt,Bt,We,Ot,ct,ht,_t,_r=X-O,lr=se-V,Wt=de-X,cr=le-se,nr=ge-de,gt=be-le;for(De=0;De<41;De++)Bt=(st=(Je=O+(Se=De/40)*_r)+Se*((ut=X+Se*Wt)-Je))+Se*(ut+Se*(de+Se*nr-ut)-st),We=(zt=(tt=V+Se*lr)+Se*((ie=se+Se*cr)-tt))+Se*(ie+Se*(le+Se*gt-ie)-zt),De==0?(Ot=Bt,ct=We,ht=Bt,_t=We):(Ot=Math.min(Ot,Bt),ct=Math.min(ct,We),ht=Math.max(ht,Bt),_t=Math.max(_t,We));return new u(Math.round(Ot),Math.round(ct),Math.round(ht-Ot),Math.round(_t-ct))},H=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var O,V,X=(O=this.ctx.lineDash,V=this.ctx.lineDashOffset,JSON.stringify({lineDash:O,lineDashOffset:V}));this.prevLineDash!==X&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=X)}}})(Ft.API),(function(n){var e=function(c){var u,d,h,p,g,w,x,S,_,k;for(d=[],h=0,p=(c+=u="\0\0\0\0".slice(c.length%4||4)).length;p>h;h+=4)(g=(c.charCodeAt(h)<<24)+(c.charCodeAt(h+1)<<16)+(c.charCodeAt(h+2)<<8)+c.charCodeAt(h+3))!==0?(w=(g=((g=((g=((g=(g-(k=g%85))/85)-(_=g%85))/85)-(S=g%85))/85)-(x=g%85))/85)%85,d.push(w+33,x+33,S+33,_+33,k+33)):d.push(122);return(function(b,R){for(var P=R;P>0;P--)b.pop()})(d,u.length),String.fromCharCode.apply(String,d)+"~>"},t=function(c){var u,d,h,p,g,w=String,x="length",S=255,_="charCodeAt",k="slice",b="replace";for(c[k](-2),c=c[k](0,-2)[b](/\s/g,"")[b]("z","!!!!!"),h=[],p=0,g=(c+=u="uuuuu"[k](c[x]%5||5))[x];g>p;p+=5)d=52200625*(c[_](p)-33)+614125*(c[_](p+1)-33)+7225*(c[_](p+2)-33)+85*(c[_](p+3)-33)+(c[_](p+4)-33),h.push(S&d>>24,S&d>>16,S&d>>8,S&d);return(function(R,P){for(var T=P;T>0;T--)R.pop()})(h,u[x]),w.fromCharCode.apply(w,h)},s=function(c){return c.split("").map(function(u){return("0"+u.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(c){var u=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((c=c.replace(/\s/g,"")).indexOf(">")!==-1&&(c=c.substr(0,c.indexOf(">"))),c.length%2&&(c+="0"),u.test(c)===!1)return"";for(var d="",h=0;h<c.length;h+=2)d+=String.fromCharCode("0x"+(c[h]+c[h+1]));return d},o=function(c){for(var u=new Uint8Array(c.length),d=c.length;d--;)u[d]=c.charCodeAt(d);return(u=Vx(u)).reduce(function(h,p){return h+String.fromCharCode(p)},"")};n.processDataByFilters=function(c,u){var d=0,h=c||"",p=[];for(typeof(u=u||[])=="string"&&(u=[u]),d=0;d<u.length;d+=1)switch(u[d]){case"ASCII85Decode":case"/ASCII85Decode":h=t(h),p.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":h=e(h),p.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":h=i(h),p.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":h=s(h),p.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":h=o(h),p.push("/FlateDecode");break;default:throw new Error('The filter: "'+u[d]+'" is not implemented')}return{data:h,reverseChain:p.reverse().join(" ")}}})(Ft.API),(function(n){n.loadFile=function(e,t,s){return(function(i,o,c){o=o!==!1,c=typeof c=="function"?c:function(){};var u=void 0;try{u=(function(d,h,p){var g=new XMLHttpRequest,w=0,x=function(S){var _=S.length,k=[],b=String.fromCharCode;for(w=0;w<_;w+=1)k.push(b(255&S.charCodeAt(w)));return k.join("")};if(g.open("GET",d,!h),g.overrideMimeType("text/plain; charset=x-user-defined"),h===!1&&(g.onload=function(){g.status===200?p(x(this.responseText)):p(void 0)}),g.send(null),h&&g.status===200)return x(g.responseText)})(i,o,c)}catch{}return u})(e,t,s)},n.loadImageFile=n.loadFile})(Ft.API),(function(n){function e(){return(er.html2canvas?Promise.resolve(er.html2canvas):zg(()=>import("./html2canvas.esm-B0tyYwQk.js"),[])).catch(function(u){return Promise.reject(new Error("Could not load html2canvas: "+u))}).then(function(u){return u.default?u.default:u})}function t(){return(er.DOMPurify?Promise.resolve(er.DOMPurify):zg(()=>import("./purify.es-B6FQ9oRL.js"),[])).catch(function(u){return Promise.reject(new Error("Could not load dompurify: "+u))}).then(function(u){return u.default?u.default:u})}var s=function(u){var d=Xr(u);return d==="undefined"?"undefined":d==="string"||u instanceof String?"string":d==="number"||u instanceof Number?"number":d==="function"||u instanceof Function?"function":u&&u.constructor===Array?"array":u&&u.nodeType===1?"element":d==="object"?"object":"unknown"},i=function(u,d){var h=document.createElement(u);for(var p in d.className&&(h.className=d.className),d.innerHTML&&d.dompurify&&(h.innerHTML=d.dompurify.sanitize(d.innerHTML)),d.style)h.style[p]=d.style[p];return h},o=function u(d,h){for(var p=d.nodeType===3?document.createTextNode(d.nodeValue):d.cloneNode(!1),g=d.firstChild;g;g=g.nextSibling)h!==!0&&g.nodeType===1&&g.nodeName==="SCRIPT"||p.appendChild(u(g,h));return d.nodeType===1&&(d.nodeName==="CANVAS"?(p.width=d.width,p.height=d.height,p.getContext("2d").drawImage(d,0,0)):d.nodeName!=="TEXTAREA"&&d.nodeName!=="SELECT"||(p.value=d.value),p.addEventListener("load",function(){p.scrollTop=d.scrollTop,p.scrollLeft=d.scrollLeft},!0)),p},c=function u(d){var h=Object.assign(u.convert(Promise.resolve()),JSON.parse(JSON.stringify(u.template))),p=u.convert(Promise.resolve(),h);return(p=p.setProgress(1,u,1,[u])).set(d)};(c.prototype=Object.create(Promise.prototype)).constructor=c,c.convert=function(u,d){return u.__proto__=d||c.prototype,u},c.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},c.prototype.from=function(u,d){return this.then(function(){switch(d=d||(function(h){switch(s(h)){case"string":return"string";case"element":return h.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(u),d){case"string":return this.then(t).then(function(h){return this.set({src:i("div",{innerHTML:u,dompurify:h})})});case"element":return this.set({src:u});case"canvas":return this.set({canvas:u});case"img":return this.set({img:u});default:return this.error("Unknown source type.")}})},c.prototype.to=function(u){switch(u){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},c.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var u={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},d=o(this.prop.src,this.opt.html2canvas.javascriptEnabled);d.tagName==="BODY"&&(u.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:u}),this.prop.container.appendChild(d),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},c.prototype.toCanvas=function(){var u=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(u).then(e).then(function(d){var h=Object.assign({},this.opt.html2canvas);return delete h.onrendered,d(this.prop.container,h)}).then(function(d){(this.opt.html2canvas.onrendered||function(){})(d),this.prop.canvas=d,document.body.removeChild(this.prop.overlay)})},c.prototype.toContext2d=function(){var u=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(u).then(e).then(function(d){var h=this.opt.jsPDF,p=this.opt.fontFaces,g=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,w=Object.assign({async:!0,allowTaint:!0,scale:g,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete w.onrendered,h.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,h.context2d.posX=this.opt.x,h.context2d.posY=this.opt.y,h.context2d.margin=this.opt.margin,h.context2d.fontFaces=p,p)for(var x=0;x<p.length;++x){var S=p[x],_=S.src.find(function(k){return k.format==="truetype"});_&&h.addFont(_.url,S.ref.name,S.ref.style)}return w.windowHeight=w.windowHeight||0,w.windowHeight=w.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):w.windowHeight,h.context2d.save(!0),d(this.prop.container,w)}).then(function(d){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(d),this.prop.canvas=d,document.body.removeChild(this.prop.overlay)})},c.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var u=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=u})},c.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},c.prototype.output=function(u,d,h){return(h=h||"pdf").toLowerCase()==="img"||h.toLowerCase()==="image"?this.outputImg(u,d):this.outputPdf(u,d)},c.prototype.outputPdf=function(u,d){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(u,d)})},c.prototype.outputImg=function(u){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(u){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+u+'" is not supported.'}})},c.prototype.save=function(u){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(u?{filename:u}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},c.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},c.prototype.set=function(u){if(s(u)!=="object")return this;var d=Object.keys(u||{}).map(function(h){if(h in c.template.prop)return function(){this.prop[h]=u[h]};switch(h){case"margin":return this.setMargin.bind(this,u.margin);case"jsPDF":return function(){return this.opt.jsPDF=u.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,u.pageSize);default:return function(){this.opt[h]=u[h]}}},this);return this.then(function(){return this.thenList(d)})},c.prototype.get=function(u,d){return this.then(function(){var h=u in c.template.prop?this.prop[u]:this.opt[u];return d?d(h):h})},c.prototype.setMargin=function(u){return this.then(function(){switch(s(u)){case"number":u=[u,u,u,u];case"array":if(u.length===2&&(u=[u[0],u[1],u[0],u[1]]),u.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=u}).then(this.setPageSize)},c.prototype.setPageSize=function(u){function d(h,p){return Math.floor(h*p/72*96)}return this.then(function(){(u=u||Ft.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(u.inner={width:u.width-this.opt.margin[1]-this.opt.margin[3],height:u.height-this.opt.margin[0]-this.opt.margin[2]},u.inner.px={width:d(u.inner.width,u.k),height:d(u.inner.height,u.k)},u.inner.ratio=u.inner.height/u.inner.width),this.prop.pageSize=u})},c.prototype.setProgress=function(u,d,h,p){return u!=null&&(this.progress.val=u),d!=null&&(this.progress.state=d),h!=null&&(this.progress.n=h),p!=null&&(this.progress.stack=p),this.progress.ratio=this.progress.val/this.progress.state,this},c.prototype.updateProgress=function(u,d,h,p){return this.setProgress(u?this.progress.val+u:null,d||null,h?this.progress.n+h:null,p?this.progress.stack.concat(p):null)},c.prototype.then=function(u,d){var h=this;return this.thenCore(u,d,function(p,g){return h.updateProgress(null,null,1,[p]),Promise.prototype.then.call(this,function(w){return h.updateProgress(null,p),w}).then(p,g).then(function(w){return h.updateProgress(1),w})})},c.prototype.thenCore=function(u,d,h){h=h||Promise.prototype.then;var p=this;u&&(u=u.bind(p)),d&&(d=d.bind(p));var g=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?p:c.convert(Object.assign({},p),Promise.prototype),w=h.call(g,u,d);return c.convert(w,p.__proto__)},c.prototype.thenExternal=function(u,d){return Promise.prototype.then.call(this,u,d)},c.prototype.thenList=function(u){var d=this;return u.forEach(function(h){d=d.thenCore(h)}),d},c.prototype.catch=function(u){u&&(u=u.bind(this));var d=Promise.prototype.catch.call(this,u);return c.convert(d,this)},c.prototype.catchExternal=function(u){return Promise.prototype.catch.call(this,u)},c.prototype.error=function(u){return this.then(function(){throw new Error(u)})},c.prototype.using=c.prototype.set,c.prototype.saveAs=c.prototype.save,c.prototype.export=c.prototype.output,c.prototype.run=c.prototype.then,Ft.getPageSize=function(u,d,h){if(Xr(u)==="object"){var p=u;u=p.orientation,d=p.unit||d,h=p.format||h}d=d||"mm",h=h||"a4",u=(""+(u||"P")).toLowerCase();var g,w=(""+h).toLowerCase(),x={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(d){case"pt":g=1;break;case"mm":g=72/25.4;break;case"cm":g=72/2.54;break;case"in":g=72;break;case"px":g=.75;break;case"pc":case"em":g=12;break;case"ex":g=6;break;default:throw"Invalid unit: "+d}var S,_=0,k=0;if(x.hasOwnProperty(w))_=x[w][1]/g,k=x[w][0]/g;else try{_=h[1],k=h[0]}catch{throw new Error("Invalid format: "+h)}if(u==="p"||u==="portrait")u="p",k>_&&(S=k,k=_,_=S);else{if(u!=="l"&&u!=="landscape")throw"Invalid orientation: "+u;u="l",_>k&&(S=k,k=_,_=S)}return{width:k,height:_,unit:d,k:g,orientation:u}},n.html=function(u,d){(d=d||{}).callback=d.callback||function(){},d.html2canvas=d.html2canvas||{},d.html2canvas.canvas=d.html2canvas.canvas||this.canvas,d.jsPDF=d.jsPDF||this,d.fontFaces=d.fontFaces?d.fontFaces.map(ax):null;var h=new c(d);return d.worker?h:h.from(u).doCallback()}})(Ft.API),Ft.API.addJS=function(n){return q2=n,this.internal.events.subscribe("postPutResources",function(){fp=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(fp+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),z2=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+q2+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){fp!==void 0&&z2!==void 0&&this.internal.out("/Names <</JavaScript "+fp+" 0 R>>")}),this},(function(n){var e;n.events.push(["postPutResources",function(){var t=this,s=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=t.outline.render().split(/\r\n/),o=0;o<i.length;o++){var c=i[o],u=s.exec(c);if(u!=null){var d=u[1];t.internal.newObjectDeferredBegin(d,!1)}t.internal.write(c)}if(this.outline.createNamedDestinations){var h=this.internal.pages.length,p=[];for(o=0;o<h;o++){var g=t.internal.newObject();p.push(g);var w=t.internal.getPageInfo(o+1);t.internal.write("<< /D["+w.objId+" 0 R /XYZ null null null]>> endobj")}var x=t.internal.newObject();for(t.internal.write("<< /Names [ "),o=0;o<p.length;o++)t.internal.write("(page_"+(o+1)+")"+p[o]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+x+" 0 R"),t.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){var t=this;t.outline.root.children.length>0&&(t.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&t.internal.write("/Names "+e+" 0 R"))}]),n.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(s,i,o){var c={title:i,options:o,children:[]};return s==null&&(s=this.root),s.children.push(c),c},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(s){s.id=t.internal.newObjectDeferred();for(var i=0;i<s.children.length;i++)this.genIds_r(s.children[i])},t.outline.renderRoot=function(s){this.objStart(s),this.line("/Type /Outlines"),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1]))),this.line("/Count "+this.count_r({count:0},s)),this.objEnd()},t.outline.renderItems=function(s){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<s.children.length;o++){var c=s.children[o];this.objStart(c),this.line("/Title "+this.makeString(c.title)),this.line("/Parent "+this.makeRef(s)),o>0&&this.line("/Prev "+this.makeRef(s.children[o-1])),o<s.children.length-1&&this.line("/Next "+this.makeRef(s.children[o+1])),c.children.length>0&&(this.line("/First "+this.makeRef(c.children[0])),this.line("/Last "+this.makeRef(c.children[c.children.length-1])));var u=this.count=this.count_r({count:0},c);if(u>0&&this.line("/Count "+u),c.options&&c.options.pageNumber){var d=t.internal.getPageInfo(c.options.pageNumber);this.line("/Dest ["+d.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var h=0;h<s.children.length;h++)this.renderItems(s.children[h])},t.outline.line=function(s){this.ctx.val+=s+`\r
`},t.outline.makeRef=function(s){return s.id+" 0 R"},t.outline.makeString=function(s){return"("+t.internal.pdfEscape(s)+")"},t.outline.objStart=function(s){this.ctx.val+=`\r
`+s.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(s,i){for(var o=0;o<i.children.length;o++)s.count++,this.count_r(s,i.children[o]);return s.count}}])})(Ft.API),(function(n){var e=[192,193,194,195,196,197,198,199];n.processJPEG=function(t,s,i,o,c,u){var d,h=this.decode.DCT_DECODE,p=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=c||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,d=(function(g){for(var w,x=256*g.charCodeAt(4)+g.charCodeAt(5),S=g.length,_={width:0,height:0,numcomponents:1},k=4;k<S;k+=2){if(k+=x,e.indexOf(g.charCodeAt(k+1))!==-1){w=256*g.charCodeAt(k+5)+g.charCodeAt(k+6),_={width:256*g.charCodeAt(k+7)+g.charCodeAt(k+8),height:w,numcomponents:g.charCodeAt(k+9)};break}x=256*g.charCodeAt(k+2)+g.charCodeAt(k+3)}return _})(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t),d.numcomponents){case 1:u=this.color_spaces.DEVICE_GRAY;break;case 4:u=this.color_spaces.DEVICE_CMYK;break;case 3:u=this.color_spaces.DEVICE_RGB}p={data:t,width:d.width,height:d.height,colorSpace:u,bitsPerComponent:8,filter:h,index:s,alias:i}}return p}})(Ft.API),Ft.API.processPNG=function(n,e,t,s){if(this.__addimage__.isArrayBuffer(n)&&(n=new Uint8Array(n)),this.__addimage__.isArrayBufferView(n)){var i,o=CD(n,{checkCrc:!0}),c=o.width,u=o.height,d=o.channels,h=o.palette,p=o.depth;i=h&&d===1?(function(K){for(var Y=K.width,q=K.height,L=K.data,z=K.palette,U=K.depth,te=!1,re=[],ue=[],fe=void 0,B=!1,Z=0,me=0;me<z.length;me++){var H=G1(z[me],4),O=H[0],V=H[1],X=H[2],se=H[3];re.push(O,V,X),se!=null&&(se===0?(Z++,ue.length<1&&ue.push(me)):se<255&&(B=!0))}if(B||Z>1){te=!0,ue=void 0;var de=Y*q;fe=new Uint8Array(de);for(var le=new DataView(L.buffer),ge=0;ge<de;ge++){var be=lx(le,ge,U),Se=G1(z[be],4)[3];fe[ge]=Se}}else Z===0&&(ue=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:te?8:void 0,colorBytes:L,alphaBytes:fe,needSMask:te,palette:re,mask:ue}})(o):d===2||d===4?(function(K){for(var Y=K.data,q=K.width,L=K.height,z=K.channels,U=K.depth,te=z===2?"DeviceGray":"DeviceRGB",re=z-1,ue=q*L,fe=re,B=ue*fe,Z=1*ue,me=Math.ceil(B*U/8),H=Math.ceil(Z*U/8),O=new Uint8Array(me),V=new Uint8Array(H),X=new DataView(Y.buffer),se=new DataView(O.buffer),de=new DataView(V.buffer),le=!1,ge=0;ge<ue;ge++){for(var be=ge*z,Se=0;Se<fe;Se++)Q2(se,lx(X,be+Se,U),ge*fe+Se,U);var De=lx(X,be+fe,U);De<(1<<U)-1&&(le=!0),Q2(de,De,1*ge,U)}return{colorSpace:te,colorsPerPixel:re,sMaskBitsPerComponent:le?U:void 0,colorBytes:O,alphaBytes:V,needSMask:le}})(o):(function(K){var Y=K.data,q=K.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:q,colorsPerPixel:q==="DeviceGray"?1:3,colorBytes:Y instanceof Uint16Array?(function(L){for(var z=L.length,U=new Uint8Array(2*z),te=new DataView(U.buffer,U.byteOffset,U.byteLength),re=0;re<z;re++)te.setUint16(2*re,L[re],!1);return U})(Y):Y,needSMask:!1}})(o);var g,w,x,S=i,_=S.colorSpace,k=S.colorsPerPixel,b=S.sMaskBitsPerComponent,R=S.colorBytes,P=S.alphaBytes,T=S.needSMask,F=S.palette,ne=S.mask,ee=null;return s!==Ft.API.image_compression.NONE&&typeof Vx=="function"?(ee=(function(K){var Y;switch(K){case Ft.API.image_compression.FAST:Y=11;break;case Ft.API.image_compression.MEDIUM:Y=13;break;case Ft.API.image_compression.SLOW:Y=14;break;default:Y=12}return Y})(s),g=this.decode.FLATE_DECODE,w="/Predictor ".concat(ee," /Colors ").concat(k," /BitsPerComponent ").concat(p," /Columns ").concat(c),n=G2(R,Math.ceil(c*k*p/8),k,p,s),T&&(x=G2(P,Math.ceil(c*b/8),1,b,s))):(g=void 0,w=void 0,n=R,T&&(x=P)),(this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n))&&(n=this.__addimage__.arrayBufferToBinaryString(n)),(x&&this.__addimage__.isArrayBuffer(x)||this.__addimage__.isArrayBufferView(x))&&(x=this.__addimage__.arrayBufferToBinaryString(x)),{alias:t,data:n,index:e,filter:g,decodeParameters:w,transparency:ne,palette:F,sMask:x,predictor:ee,width:c,height:u,bitsPerComponent:p,sMaskBitsPerComponent:b,colorSpace:_}}},(function(n){n.processGIF89A=function(e,t,s,i){var o=new KD(e),c=o.width,u=o.height,d=[];o.decodeAndBlitFrameRGBA(0,d);var h={data:d,width:c,height:u},p=new cx(100).encode(h,100);return n.processJPEG.call(this,p,t,s,i)},n.processGIF87A=n.processGIF89A})(Ft.API),Ia.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var e=0;e<n;e++){var t=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:s,blue:t,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Ia.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[n]()}catch(t){sn.log("bit decode error:"+t)}},Ia.prototype.bit1=function(){var n,e=Math.ceil(this.width/8),t=e%4;for(n=this.height-1;n>=0;n--){for(var s=this.bottom_up?n:this.height-1-n,i=0;i<e;i++)for(var o=this.datav.getUint8(this.pos++,!0),c=s*this.width*4+8*i*4,u=0;u<8&&8*i+u<this.width;u++){var d=this.palette[o>>7-u&1];this.data[c+4*u]=d.blue,this.data[c+4*u+1]=d.green,this.data[c+4*u+2]=d.red,this.data[c+4*u+3]=255}t!==0&&(this.pos+=4-t)}},Ia.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),e=n%4,t=this.height-1;t>=0;t--){for(var s=this.bottom_up?t:this.height-1-t,i=0;i<n;i++){var o=this.datav.getUint8(this.pos++,!0),c=s*this.width*4+2*i*4,u=o>>4,d=15&o,h=this.palette[u];if(this.data[c]=h.blue,this.data[c+1]=h.green,this.data[c+2]=h.red,this.data[c+3]=255,2*i+1>=this.width)break;h=this.palette[d],this.data[c+4]=h.blue,this.data[c+4+1]=h.green,this.data[c+4+2]=h.red,this.data[c+4+3]=255}e!==0&&(this.pos+=4-e)}},Ia.prototype.bit8=function(){for(var n=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,s=0;s<this.width;s++){var i=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*s;if(i<this.palette.length){var c=this.palette[i];this.data[o]=c.red,this.data[o+1]=c.green,this.data[o+2]=c.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}n!==0&&(this.pos+=4-n)}},Ia.prototype.bit15=function(){for(var n=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var s=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(o&e)/e*255|0,u=(o>>5&e)/e*255|0,d=(o>>10&e)/e*255|0,h=o>>15?255:0,p=s*this.width*4+4*i;this.data[p]=d,this.data[p+1]=u,this.data[p+2]=c,this.data[p+3]=h}this.pos+=n}},Ia.prototype.bit16=function(){for(var n=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),s=this.height-1;s>=0;s--){for(var i=this.bottom_up?s:this.height-1-s,o=0;o<this.width;o++){var c=this.datav.getUint16(this.pos,!0);this.pos+=2;var u=(c&e)/e*255|0,d=(c>>5&t)/t*255|0,h=(c>>11)/e*255|0,p=i*this.width*4+4*o;this.data[p]=h,this.data[p+1]=d,this.data[p+2]=u,this.data[p+3]=255}this.pos+=n}},Ia.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),c=e*this.width*4+4*t;this.data[c]=o,this.data[c+1]=i,this.data[c+2]=s,this.data[c+3]=255}this.pos+=this.width%4}},Ia.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),c=this.datav.getUint8(this.pos++,!0),u=e*this.width*4+4*t;this.data[u]=o,this.data[u+1]=i,this.data[u+2]=s,this.data[u+3]=c}},Ia.prototype.getData=function(){return this.data},(function(n){n.processBMP=function(e,t,s,i){var o=new Ia(e,!1),c=o.width,u=o.height,d={data:o.getData(),width:c,height:u},h=new cx(100).encode(d,100);return n.processJPEG.call(this,h,t,s,i)}})(Ft.API),ew.prototype.getData=function(){return this.data},(function(n){n.processWEBP=function(e,t,s,i){var o=new ew(e),c=o.width,u=o.height,d={data:o.getData(),width:c,height:u},h=new cx(100).encode(d,100);return n.processJPEG.call(this,h,t,s,i)}})(Ft.API),Ft.API.processRGBA=function(n,e,t){for(var s=n.data,i=s.length,o=new Uint8Array(i/4*3),c=new Uint8Array(i/4),u=0,d=0,h=0;h<i;h+=4){var p=s[h],g=s[h+1],w=s[h+2],x=s[h+3];o[u++]=p,o[u++]=g,o[u++]=w,c[d++]=x}var S=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(c),data:S,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},Ft.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},fd=Ft.API,pp=fd.getCharWidthsArray=function(n,e){var t,s,i=(e=e||{}).font||this.internal.getFont(),o=e.fontSize||this.internal.getFontSize(),c=e.charSpace||this.internal.getCharSpace(),u=e.widths?e.widths:i.metadata.Unicode.widths,d=u.fof?u.fof:1,h=e.kerning?e.kerning:i.metadata.Unicode.kerning,p=h.fof?h.fof:1,g=e.doKerning!==!1,w=0,x=n.length,S=0,_=u[0]||d,k=[];for(t=0;t<x;t++)s=n.charCodeAt(t),typeof i.metadata.widthOfString=="function"?k.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(s))+c*(1e3/o)||0)/1e3):(w=g&&Xr(h[s])==="object"&&!isNaN(parseInt(h[s][S],10))?h[s][S]/p:0,k.push((u[s]||_)/d+w)),S=s;return k},V2=fd.getStringUnitWidth=function(n,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),s=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return fd.processArabic&&(n=fd.processArabic(n)),typeof s.metadata.widthOfString=="function"?s.metadata.widthOfString(n,t,i)/t:pp.apply(this,arguments).reduce(function(o,c){return o+c},0)},H2=function(n,e,t,s){for(var i=[],o=0,c=n.length,u=0;o!==c&&u+e[o]<t;)u+=e[o],o++;i.push(n.slice(0,o));var d=o;for(u=0;o!==c;)u+e[o]>s&&(i.push(n.slice(d,o)),u=0,d=o),u+=e[o],o++;return d!==o&&i.push(n.slice(d,o)),i},W2=function(n,e,t){t||(t={});var s,i,o,c,u,d,h,p=[],g=[p],w=t.textIndent||0,x=0,S=0,_=n.split(" "),k=pp.apply(this,[" ",t])[0];if(d=t.lineIndent===-1?_[0].length+2:t.lineIndent||0){var b=Array(d).join(" "),R=[];_.map(function(T){(T=T.split(/\s*\n/)).length>1?R=R.concat(T.map(function(F,ne){return(ne&&F.length?`
`:"")+F})):R.push(T[0])}),_=R,d=V2.apply(this,[b,t])}for(o=0,c=_.length;o<c;o++){var P=0;if(s=_[o],d&&s[0]==`
`&&(s=s.substr(1),P=1),w+x+(S=(i=pp.apply(this,[s,t])).reduce(function(T,F){return T+F},0))>e||P){if(S>e){for(u=H2.apply(this,[s,i,e-(w+x),e]),p.push(u.shift()),p=[u.pop()];u.length;)g.push([u.shift()]);S=i.slice(s.length-(p[0]?p[0].length:0)).reduce(function(T,F){return T+F},0)}else p=[s];g.push(p),w=S+d,x=k}else p.push(s),w+=x+S,x=k}return h=d?function(T,F){return(F?b:"")+T.join(" ")}:function(T){return T.join(" ")},g.map(h)},fd.splitTextToSize=function(n,e,t){var s,i=(t=t||{}).fontSize||this.internal.getFontSize(),o=function(p){if(p.widths&&p.kerning)return{widths:p.widths,kerning:p.kerning};var g=this.internal.getFont(p.fontName,p.fontStyle),w="Unicode";return g.metadata[w]?{widths:g.metadata[w].widths||{0:1},kerning:g.metadata[w].kerning||{}}:{font:g.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,t);s=Array.isArray(n)?n:String(n).split(/\r?\n/);var c=1*this.internal.scaleFactor*e/i;o.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/i:0,o.lineIndent=t.lineIndent;var u,d,h=[];for(u=0,d=s.length;u<d;u++)h=h.concat(W2.apply(this,[s[u],c,o]));return h},(function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var e="0123456789abcdef",t="klmnopqrstuvwxyz",s={},i={},o=0;o<16;o++)s[t[o]]=e[o],i[e[o]]=t[o];var c=function(w){return"0x"+parseInt(w,10).toString(16)},u=n.__fontmetrics__.compress=function(w){var x,S,_,k,b=["{"];for(var R in w){if(x=w[R],isNaN(parseInt(R,10))?S="'"+R+"'":(R=parseInt(R,10),S=(S=c(R).slice(2)).slice(0,-1)+i[S.slice(-1)]),typeof x=="number")x<0?(_=c(x).slice(3),k="-"):(_=c(x).slice(2),k=""),_=k+_.slice(0,-1)+i[_.slice(-1)];else{if(Xr(x)!=="object")throw new Error("Don't know what to do with value type "+Xr(x)+".");_=u(x)}b.push(S+_)}return b.push("}"),b.join("")},d=n.__fontmetrics__.uncompress=function(w){if(typeof w!="string")throw new Error("Invalid argument passed to uncompress.");for(var x,S,_,k,b={},R=1,P=b,T=[],F="",ne="",ee=w.length-1,K=1;K<ee;K+=1)(k=w[K])=="'"?x?(_=x.join(""),x=void 0):x=[]:x?x.push(k):k=="{"?(T.push([P,_]),P={},_=void 0):k=="}"?((S=T.pop())[0][S[1]]=P,_=void 0,P=S[0]):k=="-"?R=-1:_===void 0?s.hasOwnProperty(k)?(F+=s[k],_=parseInt(F,16)*R,R=1,F=""):F+=k:s.hasOwnProperty(k)?(ne+=s[k],P[_]=parseInt(ne,16)*R,R=1,_=void 0,ne=""):ne+=k;return b},h={codePages:["WinAnsiEncoding"],WinAnsiEncoding:d("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},p={Unicode:{Courier:h,"Courier-Bold":h,"Courier-BoldOblique":h,"Courier-Oblique":h,Helvetica:h,"Helvetica-Bold":h,"Helvetica-BoldOblique":h,"Helvetica-Oblique":h,"Times-Roman":h,"Times-Bold":h,"Times-BoldItalic":h,"Times-Italic":h}},g={Unicode:{"Courier-Oblique":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":d("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":d("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":d("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:d("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:d("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":d("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:d("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":d("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":d("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":d("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(w){var x=w.font,S=g.Unicode[x.postScriptName];S&&(x.metadata.Unicode={},x.metadata.Unicode.widths=S.widths,x.metadata.Unicode.kerning=S.kerning);var _=p.Unicode[x.postScriptName];_&&(x.metadata.Unicode.encoding=_,x.encoding=_.codePages[0])}])})(Ft.API),(function(n){var e=function(t){for(var s=t.length,i=new Uint8Array(s),o=0;o<s;o++)i[o]=t.charCodeAt(o);return i};n.API.events.push(["addFont",function(t){var s=void 0,i=t.font,o=t.instance;if(!i.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(s=o.existsFileInVFS(i.postScriptName)===!1?o.loadFile(i.postScriptName):o.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(c,u){u=/^\x00\x01\x00\x00/.test(u)?e(u):e(wp(u)),c.metadata=n.API.TTFFont.open(u),c.metadata.Unicode=c.metadata.Unicode||{encoding:{},kerning:{},widths:[]},c.metadata.glyIdsUsed=[0]})(i,s)}}])})(Ft),Ft.API.addSvgAsImage=function(n,e,t,s,i,o,c,u){if(isNaN(e)||isNaN(t))throw sn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(i))throw sn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var d=document.createElement("canvas");d.width=s,d.height=i;var h=d.getContext("2d");h.fillStyle="#fff",h.fillRect(0,0,d.width,d.height);var p={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},g=this;return(er.canvg?Promise.resolve(er.canvg):zg(()=>import("./index.es-_zs1DT-6.js"),[])).catch(function(w){return Promise.reject(new Error("Could not load canvg: "+w))}).then(function(w){return w.default?w.default:w}).then(function(w){return w.fromString(h,n,p)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(w){return w.render(p)}).then(function(){g.addImage(d.toDataURL("image/jpeg",1),e,t,s,i,c,u)})},Ft.API.putTotalPages=function(n){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(n,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var s=1;s<=this.internal.getNumberOfPages();s++)for(var i=0;i<this.internal.pages[s].length;i++)this.internal.pages[s][i]=this.internal.pages[s][i].replace(e,t);return this},Ft.API.viewerPreferences=function(n,e){var t;n=n||{},e=e||!1;var s,i,o,c={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},u=Object.keys(c),d=[],h=0,p=0,g=0;function w(S,_){var k,b=!1;for(k=0;k<S.length;k+=1)S[k]===_&&(b=!0);return b}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(c)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,n==="reset"||e===!0){var x=u.length;for(g=0;g<x;g+=1)t[u[g]].value=t[u[g]].defaultValue,t[u[g]].explicitSet=!1}if(Xr(n)==="object"){for(i in n)if(o=n[i],w(u,i)&&o!==void 0){if(t[i].type==="boolean"&&typeof o=="boolean")t[i].value=o;else if(t[i].type==="name"&&w(t[i].valueSet,o))t[i].value=o;else if(t[i].type==="integer"&&Number.isInteger(o))t[i].value=o;else if(t[i].type==="array"){for(h=0;h<o.length;h+=1)if(s=!0,o[h].length===1&&typeof o[h][0]=="number")d.push(String(o[h]-1));else if(o[h].length>1){for(p=0;p<o[h].length;p+=1)typeof o[h][p]!="number"&&(s=!1);s===!0&&d.push([o[h][0]-1,o[h][1]-1].join(" "))}t[i].value="["+d.join(" ")+"]"}else t[i].value=t[i].defaultValue;t[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var S,_=[];for(S in t)t[S].explicitSet===!0&&(t[S].type==="name"?_.push("/"+S+" /"+t[S].value):_.push("/"+S+" "+t[S].value));_.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+_.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},(function(n){var e=function(){var s='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(s)),c=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),u=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),d=unescape(encodeURIComponent("</x:xmpmeta>")),h=o.length+c.length+u.length+i.length+d.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+h+" >>"),this.internal.write("stream"),this.internal.write(i+o+c+u+d),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(s,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:s,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}})(Ft.API),(function(n){var e=n.API,t=e.pdfEscape16=function(o,c){for(var u,d=c.metadata.Unicode.widths,h=["","0","00","000","0000"],p=[""],g=0,w=o.length;g<w;++g){if(u=c.metadata.characterToGlyph(o.charCodeAt(g)),c.metadata.glyIdsUsed.push(u),c.metadata.toUnicode[u]=o.charCodeAt(g),d.indexOf(u)==-1&&(d.push(u),d.push([parseInt(c.metadata.widthOfGlyph(u),10)])),u=="0")return p.join("");u=u.toString(16),p.push(h[4-u.length],u)}return p.join("")},s=function(o){var c,u,d,h,p,g,w;for(p=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,d=[],g=0,w=(u=Object.keys(o).sort(function(x,S){return x-S})).length;g<w;g++)c=u[g],d.length>=100&&(p+=`
`+d.length+` beginbfchar
`+d.join(`
`)+`
endbfchar`,d=[]),o[c]!==void 0&&o[c]!==null&&typeof o[c].toString=="function"&&(h=("0000"+o[c].toString(16)).slice(-4),c=("0000"+(+c).toString(16)).slice(-4),d.push("<"+c+"><"+h+">"));return d.length&&(p+=`
`+d.length+` beginbfchar
`+d.join(`
`)+`
endbfchar
`),p+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(o){(function(c){var u=c.font,d=c.out,h=c.newObject,p=c.putStream;if(u.metadata instanceof n.API.TTFFont&&u.encoding==="Identity-H"){for(var g=u.metadata.Unicode.widths,w=u.metadata.subset.encode(u.metadata.glyIdsUsed,1),x="",S=0;S<w.length;S++)x+=String.fromCharCode(w[S]);var _=h();p({data:x,addLength1:!0,objectId:_}),d("endobj");var k=h();p({data:s(u.metadata.toUnicode),addLength1:!0,objectId:k}),d("endobj");var b=h();d("<<"),d("/Type /FontDescriptor"),d("/FontName /"+xd(u.fontName)),d("/FontFile2 "+_+" 0 R"),d("/FontBBox "+n.API.PDFObject.convert(u.metadata.bbox)),d("/Flags "+u.metadata.flags),d("/StemV "+u.metadata.stemV),d("/ItalicAngle "+u.metadata.italicAngle),d("/Ascent "+u.metadata.ascender),d("/Descent "+u.metadata.decender),d("/CapHeight "+u.metadata.capHeight),d(">>"),d("endobj");var R=h();d("<<"),d("/Type /Font"),d("/BaseFont /"+xd(u.fontName)),d("/FontDescriptor "+b+" 0 R"),d("/W "+n.API.PDFObject.convert(g)),d("/CIDToGIDMap /Identity"),d("/DW 1000"),d("/Subtype /CIDFontType2"),d("/CIDSystemInfo"),d("<<"),d("/Supplement 0"),d("/Registry (Adobe)"),d("/Ordering ("+u.encoding+")"),d(">>"),d(">>"),d("endobj"),u.objectNumber=h(),d("<<"),d("/Type /Font"),d("/Subtype /Type0"),d("/ToUnicode "+k+" 0 R"),d("/BaseFont /"+xd(u.fontName)),d("/Encoding /"+u.encoding),d("/DescendantFonts ["+R+" 0 R]"),d(">>"),d("endobj"),u.isAlreadyPutted=!0}})(o)}]),e.events.push(["putFont",function(o){(function(c){var u=c.font,d=c.out,h=c.newObject,p=c.putStream;if(u.metadata instanceof n.API.TTFFont&&u.encoding==="WinAnsiEncoding"){for(var g=u.metadata.rawData,w="",x=0;x<g.length;x++)w+=String.fromCharCode(g[x]);var S=h();p({data:w,addLength1:!0,objectId:S}),d("endobj");var _=h();p({data:s(u.metadata.toUnicode),addLength1:!0,objectId:_}),d("endobj");var k=h();d("<<"),d("/Descent "+u.metadata.decender),d("/CapHeight "+u.metadata.capHeight),d("/StemV "+u.metadata.stemV),d("/Type /FontDescriptor"),d("/FontFile2 "+S+" 0 R"),d("/Flags 96"),d("/FontBBox "+n.API.PDFObject.convert(u.metadata.bbox)),d("/FontName /"+xd(u.fontName)),d("/ItalicAngle "+u.metadata.italicAngle),d("/Ascent "+u.metadata.ascender),d(">>"),d("endobj"),u.objectNumber=h();for(var b=0;b<u.metadata.hmtx.widths.length;b++)u.metadata.hmtx.widths[b]=parseInt(u.metadata.hmtx.widths[b]*(1e3/u.metadata.head.unitsPerEm));d("<</Subtype/TrueType/Type/Font/ToUnicode "+_+" 0 R/BaseFont/"+xd(u.fontName)+"/FontDescriptor "+k+" 0 R/Encoding/"+u.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(u.metadata.hmtx.widths)+">>"),d("endobj"),u.isAlreadyPutted=!0}})(o)}]);var i=function(o){var c,u=o.text||"",d=o.x,h=o.y,p=o.options||{},g=o.mutex||{},w=g.pdfEscape,x=g.activeFontKey,S=g.fonts,_=x,k="",b=0,R="",P=S[_].encoding;if(S[_].encoding!=="Identity-H")return{text:u,x:d,y:h,options:p,mutex:g};for(R=u,_=x,Array.isArray(u)&&(R=u[0]),b=0;b<R.length;b+=1)S[_].metadata.hasOwnProperty("cmap")&&(c=S[_].metadata.cmap.unicode.codeMap[R[b].charCodeAt(0)]),c||R[b].charCodeAt(0)<256&&S[_].metadata.hasOwnProperty("Unicode")?k+=R[b]:k+="";var T="";return parseInt(_.slice(1))<14||P==="WinAnsiEncoding"?T=w(k,_).split("").map(function(F){return F.charCodeAt(0).toString(16)}).join(""):P==="Identity-H"&&(T=t(k,S[_])),g.isHex=!0,{text:T,x:d,y:h,options:p,mutex:g}};e.events.push(["postProcessText",function(o){var c=o.text||"",u=[],d={text:c,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(c)){var h=0;for(h=0;h<c.length;h+=1)Array.isArray(c[h])&&c[h].length===3?u.push([i(Object.assign({},d,{text:c[h][0]})).text,c[h][1],c[h][2]]):u.push(i(Object.assign({},d,{text:c[h]})).text);o.text=u}else o.text=i(Object.assign({},d,{text:c})).text}])})(Ft),(function(n){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},n.addFileToVFS=function(t,s){return e.call(this),this.internal.vFS[t]=s,this},n.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}})(Ft.API),(function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(s){var i,o,c,u,d,h,p,g=e,w=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],x=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],S={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},_={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},k=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],b=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),R=!1,P=0;this.__bidiEngine__={};var T=function(L){var z=L.charCodeAt(),U=z>>8,te=_[U];return te!==void 0?g[256*te+(255&z)]:U===252||U===253?"AL":b.test(U)?"L":U===8?"R":"N"},F=function(L){for(var z,U=0;U<L.length;U++){if((z=T(L.charAt(U)))==="L")return!1;if(z==="R")return!0}return!1},ne=function(L,z,U,te){var re,ue,fe,B,Z=z[te];switch(Z){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":R=!1;break;case"N":case"AN":break;case"EN":R&&(Z="AN");break;case"AL":R=!0,Z="R";break;case"WS":case"BN":Z="N";break;case"CS":te<1||te+1>=z.length||(re=U[te-1])!=="EN"&&re!=="AN"||(ue=z[te+1])!=="EN"&&ue!=="AN"?Z="N":R&&(ue="AN"),Z=ue===re?ue:"N";break;case"ES":Z=(re=te>0?U[te-1]:"B")==="EN"&&te+1<z.length&&z[te+1]==="EN"?"EN":"N";break;case"ET":if(te>0&&U[te-1]==="EN"){Z="EN";break}if(R){Z="N";break}for(fe=te+1,B=z.length;fe<B&&z[fe]==="ET";)fe++;Z=fe<B&&z[fe]==="EN"?"EN":"N";break;case"NSM":if(c&&!u){for(B=z.length,fe=te+1;fe<B&&z[fe]==="NSM";)fe++;if(fe<B){var me=L[te],H=me>=1425&&me<=2303||me===64286;if(re=z[fe],H&&(re==="R"||re==="AL")){Z="R";break}}}Z=te<1||(re=z[te-1])==="B"?"N":U[te-1];break;case"B":R=!1,i=!0,Z=P;break;case"S":o=!0,Z="N"}return Z},ee=function(L,z,U){var te=L.split("");return U&&K(te,U,{hiLevel:P}),te.reverse(),z&&z.reverse(),te.join("")},K=function(L,z,U){var te,re,ue,fe,B,Z=-1,me=L.length,H=0,O=[],V=P?x:w,X=[];for(R=!1,i=!1,o=!1,re=0;re<me;re++)X[re]=T(L[re]);for(ue=0;ue<me;ue++){if(B=H,O[ue]=ne(L,X,O,ue),te=240&(H=V[B][S[O[ue]]]),H&=15,z[ue]=fe=V[H][5],te>0)if(te===16){for(re=Z;re<ue;re++)z[re]=1;Z=-1}else Z=-1;if(V[H][6])Z===-1&&(Z=ue);else if(Z>-1){for(re=Z;re<ue;re++)z[re]=fe;Z=-1}X[ue]==="B"&&(z[ue]=0),U.hiLevel|=fe}o&&(function(se,de,le){for(var ge=0;ge<le;ge++)if(se[ge]==="S"){de[ge]=P;for(var be=ge-1;be>=0&&se[be]==="WS";be--)de[be]=P}})(X,z,me)},Y=function(L,z,U,te,re){if(!(re.hiLevel<L)){if(L===1&&P===1&&!i)return z.reverse(),void(U&&U.reverse());for(var ue,fe,B,Z,me=z.length,H=0;H<me;){if(te[H]>=L){for(B=H+1;B<me&&te[B]>=L;)B++;for(Z=H,fe=B-1;Z<fe;Z++,fe--)ue=z[Z],z[Z]=z[fe],z[fe]=ue,U&&(ue=U[Z],U[Z]=U[fe],U[fe]=ue);H=B}H++}}},q=function(L,z,U){var te=L.split(""),re={hiLevel:P};return U||(U=[]),K(te,U,re),(function(ue,fe,B){if(B.hiLevel!==0&&p)for(var Z,me=0;me<ue.length;me++)fe[me]===1&&(Z=k.indexOf(ue[me]))>=0&&(ue[me]=k[Z+1])})(te,U,re),Y(2,te,z,U,re),Y(1,te,z,U,re),te.join("")};return this.__bidiEngine__.doBidiReorder=function(L,z,U){if((function(re,ue){if(ue)for(var fe=0;fe<re.length;fe++)ue[fe]=fe;u===void 0&&(u=F(re)),h===void 0&&(h=F(re))})(L,z),c||!d||h)if(c&&d&&u^h)P=u?1:0,L=ee(L,z,U);else if(!c&&d&&h)P=u?1:0,L=q(L,z,U),L=ee(L,z);else if(!c||u||d||h){if(c&&!d&&u^h)L=ee(L,z),u?(P=0,L=q(L,z,U)):(P=1,L=q(L,z,U),L=ee(L,z));else if(c&&u&&!d&&h)P=1,L=q(L,z,U),L=ee(L,z);else if(!c&&!d&&u^h){var te=p;u?(P=1,L=q(L,z,U),P=0,p=!1,L=q(L,z,U),p=te):(P=0,L=q(L,z,U),L=ee(L,z),P=1,p=!1,L=q(L,z,U),p=te,L=ee(L,z))}}else P=0,L=q(L,z,U);else P=u?1:0,L=q(L,z,U);return L},this.__bidiEngine__.setOptions=function(L){L&&(c=L.isInputVisual,d=L.isOutputVisual,u=L.isInputRtl,h=L.isOutputRtl,p=L.isSymmetricSwapping)},this.__bidiEngine__.setOptions(s),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(s){var i=s.text;s.x,s.y;var o=s.options||{};s.mutex,o.lang;var c=[];if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,t.setOptions(o),Object.prototype.toString.call(i)==="[object Array]"){var u=0;for(c=[],u=0;u<i.length;u+=1)Object.prototype.toString.call(i[u])==="[object Array]"?c.push([t.doBidiReorder(i[u][0]),i[u][1],i[u][2]]):c.push([t.doBidiReorder(i[u])]);s.text=c}else s.text=t.doBidiReorder(i);t.setOptions({isInputVisual:!0})}])})(Ft),Ft.API.TTFFont=(function(){function n(e){var t;if(this.rawData=e,t=this.contents=new dc(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new cM(this),this.registerTTF()}return n.open=function(e){return new n(e)},n.prototype.parse=function(){return this.directory=new YD(this.contents),this.head=new XD(this),this.name=new rM(this),this.cmap=new u_(this),this.toUnicode={},this.hhea=new QD(this),this.maxp=new nM(this),this.hmtx=new sM(this),this.post=new eM(this),this.os2=new ZD(this),this.loca=new lM(this),this.glyf=new iM(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var e,t,s,i,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var c,u,d,h;for(h=[],c=0,u=(d=this.bbox).length;c<u;c++)e=d[c],h.push(Math.round(e*this.scaleFactor));return h}.call(this),this.stemV=0,this.post.exists?(s=255&(i=this.post.italic_angle),32768&(t=i>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+s)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},n.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},n.prototype.widthOfString=function(e,t,s){var i,o,c,u;for(c=0,o=0,u=(e=""+e).length;0<=u?o<u:o>u;o=0<=u?++o:--o)i=e.charCodeAt(o),c+=this.widthOfGlyph(this.characterToGlyph(i))+s*(1e3/t)||0;return c*(t/1e3)},n.prototype.lineHeight=function(e,t){var s;return t==null&&(t=!1),s=t?this.lineGap:0,(this.ascender+s-this.decender)/1e3*e},n})();var Wa,dc=(function(){function n(e){this.data=e??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(e){return this.data[this.pos++]=e},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},n.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},n.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},n.prototype.readString=function(e){var t,s;for(s=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)s[t]=String.fromCharCode(this.readByte());return s.join("")},n.prototype.writeString=function(e){var t,s,i;for(i=[],t=0,s=e.length;0<=s?t<s:t>s;t=0<=s?++t:--t)i.push(this.writeByte(e.charCodeAt(t)));return i},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(e){return this.writeInt16(e)},n.prototype.readLongLong=function(){var e,t,s,i,o,c,u,d;return e=this.readByte(),t=this.readByte(),s=this.readByte(),i=this.readByte(),o=this.readByte(),c=this.readByte(),u=this.readByte(),d=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^s)+4294967296*(255^i)+16777216*(255^o)+65536*(255^c)+256*(255^u)+(255^d)+1):72057594037927940*e+281474976710656*t+1099511627776*s+4294967296*i+16777216*o+65536*c+256*u+d},n.prototype.writeLongLong=function(e){var t,s;return t=Math.floor(e/4294967296),s=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(s>>24&255),this.writeByte(s>>16&255),this.writeByte(s>>8&255),this.writeByte(255&s)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(e){return this.writeInt32(e)},n.prototype.read=function(e){var t,s;for(t=[],s=0;0<=e?s<e:s>e;s=0<=e?++s:--s)t.push(this.readByte());return t},n.prototype.write=function(e){var t,s,i,o;for(o=[],s=0,i=e.length;s<i;s++)t=e[s],o.push(this.writeByte(t));return o},n})(),YD=(function(){var n;function e(t){var s,i,o;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},i=0,o=this.tableCount;0<=o?i<o:i>o;i=0<=o?++i:--i)s={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[s.tag]=s}return e.prototype.encode=function(t){var s,i,o,c,u,d,h,p,g,w,x,S,_;for(_ in x=Object.keys(t).length,d=Math.log(2),g=16*Math.floor(Math.log(x)/d),c=Math.floor(g/d),p=16*x-g,(i=new dc).writeInt(this.scalarType),i.writeShort(x),i.writeShort(g),i.writeShort(c),i.writeShort(p),o=16*x,h=i.pos+o,u=null,S=[],t)for(w=t[_],i.writeString(_),i.writeInt(n(w)),i.writeInt(h),i.writeInt(w.length),S=S.concat(w),_==="head"&&(u=h),h+=w.length;h%4;)S.push(0),h++;return i.write(S),s=2981146554-n(i.data),i.pos=u+8,i.writeUInt32(s),i.data},n=function(t){var s,i,o,c;for(t=d_.call(t);t.length%4;)t.push(0);for(o=new dc(t),i=0,s=0,c=t.length;s<c;s=s+=4)i+=o.readUInt32();return 4294967295&i},e})(),JD={}.hasOwnProperty,So=function(n,e){for(var t in e)JD.call(e,t)&&(n[t]=e[t]);function s(){this.constructor=n}return s.prototype=e.prototype,n.prototype=new s,n.__super__=e.prototype,n};Wa=(function(){function n(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n})();var XD=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return So(n,Wa),n.prototype.tag="head",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},n.prototype.encode=function(e){var t;return(t=new dc).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},n})(),tw=(function(){function n(e,t){var s,i,o,c,u,d,h,p,g,w,x,S,_,k,b,R,P;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),g=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(d=0;d<256;++d)this.codeMap[d]=e.readByte();break;case 4:for(x=e.readUInt16(),w=x/2,e.pos+=6,o=(function(){var T,F;for(F=[],d=T=0;0<=w?T<w:T>w;d=0<=w?++T:--T)F.push(e.readUInt16());return F})(),e.pos+=2,_=(function(){var T,F;for(F=[],d=T=0;0<=w?T<w:T>w;d=0<=w?++T:--T)F.push(e.readUInt16());return F})(),h=(function(){var T,F;for(F=[],d=T=0;0<=w?T<w:T>w;d=0<=w?++T:--T)F.push(e.readUInt16());return F})(),p=(function(){var T,F;for(F=[],d=T=0;0<=w?T<w:T>w;d=0<=w?++T:--T)F.push(e.readUInt16());return F})(),i=(this.length-e.pos+this.offset)/2,u=(function(){var T,F;for(F=[],d=T=0;0<=i?T<i:T>i;d=0<=i?++T:--T)F.push(e.readUInt16());return F})(),d=b=0,P=o.length;b<P;d=++b)for(k=o[d],s=R=S=_[d];S<=k?R<=k:R>=k;s=S<=k?++R:--R)p[d]===0?c=s+h[d]:(c=u[p[d]/2+(s-S)-(w-d)]||0)!==0&&(c+=h[d]),this.codeMap[s]=65535&c}e.pos=g}return n.encode=function(e,t){var s,i,o,c,u,d,h,p,g,w,x,S,_,k,b,R,P,T,F,ne,ee,K,Y,q,L,z,U,te,re,ue,fe,B,Z,me,H,O,V,X,se,de,le,ge,be,Se,De,Je;switch(te=new dc,c=Object.keys(e).sort(function(tt,ut){return tt-ut}),t){case"macroman":for(_=0,k=(function(){var tt=[];for(S=0;S<256;++S)tt.push(0);return tt})(),R={0:0},o={},re=0,Z=c.length;re<Z;re++)R[be=e[i=c[re]]]==null&&(R[be]=++_),o[i]={old:e[i],new:R[e[i]]},k[i]=R[e[i]];return te.writeUInt16(1),te.writeUInt16(0),te.writeUInt32(12),te.writeUInt16(0),te.writeUInt16(262),te.writeUInt16(0),te.write(k),{charMap:o,subtable:te.data,maxGlyphID:_+1};case"unicode":for(z=[],g=[],P=0,R={},s={},b=h=null,ue=0,me=c.length;ue<me;ue++)R[F=e[i=c[ue]]]==null&&(R[F]=++P),s[i]={old:F,new:R[F]},u=R[F]-i,b!=null&&u===h||(b&&g.push(b),z.push(i),h=u),b=i;for(b&&g.push(b),g.push(65535),z.push(65535),q=2*(Y=z.length),K=2*Math.pow(Math.log(Y)/Math.LN2,2),w=Math.log(K/2)/Math.LN2,ee=2*Y-K,d=[],ne=[],x=[],S=fe=0,H=z.length;fe<H;S=++fe){if(L=z[S],p=g[S],L===65535){d.push(0),ne.push(0);break}if(L-(U=s[L].new)>=32768)for(d.push(0),ne.push(2*(x.length+Y-S)),i=B=L;L<=p?B<=p:B>=p;i=L<=p?++B:--B)x.push(s[i].new);else d.push(U-L),ne.push(0)}for(te.writeUInt16(3),te.writeUInt16(1),te.writeUInt32(12),te.writeUInt16(4),te.writeUInt16(16+8*Y+2*x.length),te.writeUInt16(0),te.writeUInt16(q),te.writeUInt16(K),te.writeUInt16(w),te.writeUInt16(ee),le=0,O=g.length;le<O;le++)i=g[le],te.writeUInt16(i);for(te.writeUInt16(0),ge=0,V=z.length;ge<V;ge++)i=z[ge],te.writeUInt16(i);for(Se=0,X=d.length;Se<X;Se++)u=d[Se],te.writeUInt16(u);for(De=0,se=ne.length;De<se;De++)T=ne[De],te.writeUInt16(T);for(Je=0,de=x.length;Je<de;Je++)_=x[Je],te.writeUInt16(_);return{charMap:s,subtable:te.data,maxGlyphID:P+1}}},n})(),u_=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return So(n,Wa),n.prototype.tag="cmap",n.prototype.parse=function(e){var t,s,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,s=0;0<=i?s<i:s>i;s=0<=i?++s:--s)t=new tw(e,this.offset),this.tables.push(t),t.isUnicode&&this.unicode==null&&(this.unicode=t);return!0},n.encode=function(e,t){var s,i;return t==null&&(t="macroman"),s=tw.encode(e,t),(i=new dc).writeUInt16(0),i.writeUInt16(1),s.table=i.data.concat(s.subtable),s},n})(),QD=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return So(n,Wa),n.prototype.tag="hhea",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},n})(),ZD=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return So(n,Wa),n.prototype.tag="OS/2",n.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var t,s;for(s=[],t=0;t<10;++t)s.push(e.readByte());return s})(),this.charRange=(function(){var t,s;for(s=[],t=0;t<4;++t)s.push(e.readInt());return s})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var t,s;for(s=[],t=0;t<2;t=++t)s.push(e.readInt());return s})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},n})(),eM=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return So(n,Wa),n.prototype.tag="post",n.prototype.parse=function(e){var t,s,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var o;for(s=e.readUInt16(),this.glyphNameIndex=[],o=0;0<=s?o<s:o>s;o=0<=s?++o:--o)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)t=e.readByte(),i.push(this.names.push(e.readString(t)));return i;case 151552:return s=e.readUInt16(),this.offsets=e.read(s);case 262144:return this.map=function(){var c,u,d;for(d=[],o=c=0,u=this.file.maxp.numGlyphs;0<=u?c<u:c>u;o=0<=u?++c:--c)d.push(e.readUInt32());return d}.call(this)}},n})(),tM=function(n,e){this.raw=n,this.length=n.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},rM=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return So(n,Wa),n.prototype.tag="name",n.prototype.parse=function(e){var t,s,i,o,c,u,d,h,p,g,w;for(e.pos=this.offset,e.readShort(),t=e.readShort(),u=e.readShort(),s=[],o=0;0<=t?o<t:o>t;o=0<=t?++o:--o)s.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+u+e.readShort()});for(d={},o=p=0,g=s.length;p<g;o=++p)i=s[o],e.pos=i.offset,h=e.readString(i.length),c=new tM(h,i),d[w=i.nameID]==null&&(d[w]=[]),d[i.nameID].push(c);this.strings=d,this.copyright=d[0],this.fontFamily=d[1],this.fontSubfamily=d[2],this.uniqueSubfamily=d[3],this.fontName=d[4],this.version=d[5];try{this.postscriptName=d[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=d[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=d[7],this.manufacturer=d[8],this.designer=d[9],this.description=d[10],this.vendorUrl=d[11],this.designerUrl=d[12],this.license=d[13],this.licenseUrl=d[14],this.preferredFamily=d[15],this.preferredSubfamily=d[17],this.compatibleFull=d[18],this.sampleText=d[19]},n})(),nM=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return So(n,Wa),n.prototype.tag="maxp",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},n})(),sM=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return So(n,Wa),n.prototype.tag="hmtx",n.prototype.parse=function(e){var t,s,i,o,c,u,d;for(e.pos=this.offset,this.metrics=[],t=0,u=this.file.hhea.numberOfMetrics;0<=u?t<u:t>u;t=0<=u?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var h,p;for(p=[],t=h=0;0<=i?h<i:h>i;t=0<=i?++h:--h)p.push(e.readInt16());return p})(),this.widths=function(){var h,p,g,w;for(w=[],h=0,p=(g=this.metrics).length;h<p;h++)o=g[h],w.push(o.advance);return w}.call(this),s=this.widths[this.widths.length-1],d=[],t=c=0;0<=i?c<i:c>i;t=0<=i?++c:--c)d.push(this.widths.push(s));return d},n.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},n})(),d_=[].slice,iM=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return So(n,Wa),n.prototype.tag="glyf",n.prototype.parse=function(){return this.cache={}},n.prototype.glyphFor=function(e){var t,s,i,o,c,u,d,h,p,g;return e in this.cache?this.cache[e]:(o=this.file.loca,t=this.file.contents,s=o.indexOf(e),(i=o.lengthOf(e))===0?this.cache[e]=null:(t.pos=this.offset+s,c=(u=new dc(t.read(i))).readShort(),h=u.readShort(),g=u.readShort(),d=u.readShort(),p=u.readShort(),this.cache[e]=c===-1?new oM(u,h,g,d,p):new aM(u,c,h,g,d,p),this.cache[e]))},n.prototype.encode=function(e,t,s){var i,o,c,u,d;for(c=[],o=[],u=0,d=t.length;u<d;u++)i=e[t[u]],o.push(c.length),i&&(c=c.concat(i.encode(s)));return o.push(c.length),{table:c,offsets:o}},n})(),aM=(function(){function n(e,t,s,i,o,c){this.raw=e,this.numberOfContours=t,this.xMin=s,this.yMin=i,this.xMax=o,this.yMax=c,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n})(),oM=(function(){function n(e,t,s,i,o){var c,u;for(this.raw=e,this.xMin=t,this.yMin=s,this.xMax=i,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],c=this.raw;u=c.readShort(),this.glyphOffsets.push(c.pos),this.glyphIDs.push(c.readUInt16()),32&u;)c.pos+=1&u?4:2,128&u?c.pos+=8:64&u?c.pos+=4:8&u&&(c.pos+=2)}return n.prototype.encode=function(){var e,t,s;for(t=new dc(d_.call(this.raw.data)),e=0,s=this.glyphIDs.length;e<s;++e)t.pos=this.glyphOffsets[e];return t.data},n})(),lM=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return So(n,Wa),n.prototype.tag="loca",n.prototype.parse=function(e){var t,s;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=t===0?function(){var i,o;for(o=[],s=0,i=this.length;s<i;s+=2)o.push(2*e.readUInt16());return o}.call(this):function(){var i,o;for(o=[],s=0,i=this.length;s<i;s+=4)o.push(e.readUInt32());return o}.call(this)},n.prototype.indexOf=function(e){return this.offsets[e]},n.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},n.prototype.encode=function(e,t){for(var s=new Uint32Array(this.offsets.length),i=0,o=0,c=0;c<s.length;++c)if(s[c]=i,o<t.length&&t[o]==c){++o,s[c]=i;var u=this.offsets[c],d=this.offsets[c+1]-u;d>0&&(i+=d)}for(var h=new Array(4*s.length),p=0;p<s.length;++p)h[4*p+3]=255&s[p],h[4*p+2]=(65280&s[p])>>8,h[4*p+1]=(16711680&s[p])>>16,h[4*p]=(4278190080&s[p])>>24;return h},n})(),cM=(function(){function n(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var e,t,s,i,o;for(t in i=this.font.cmap.tables[0].codeMap,e={},o=this.subset)s=o[t],e[t]=i[s];return e},n.prototype.glyphsFor=function(e){var t,s,i,o,c,u,d;for(i={},c=0,u=e.length;c<u;c++)i[o=e[c]]=this.font.glyf.glyphFor(o);for(o in t=[],i)(s=i[o])!=null&&s.compound&&t.push.apply(t,s.glyphIDs);if(t.length>0)for(o in d=this.glyphsFor(t))s=d[o],i[o]=s;return i},n.prototype.encode=function(e,t){var s,i,o,c,u,d,h,p,g,w,x,S,_,k,b;for(i in s=u_.encode(this.generateCmap(),"unicode"),c=this.glyphsFor(e),x={0:0},b=s.charMap)x[(d=b[i]).old]=d.new;for(S in w=s.maxGlyphID,c)S in x||(x[S]=w++);return p=(function(R){var P,T;for(P in T={},R)T[R[P]]=P;return T})(x),g=Object.keys(p).sort(function(R,P){return R-P}),_=(function(){var R,P,T;for(T=[],R=0,P=g.length;R<P;R++)u=g[R],T.push(p[u]);return T})(),o=this.font.glyf.encode(c,_,x),h=this.font.loca.encode(o.offsets,_),k={cmap:this.font.cmap.raw(),glyf:o.table,loca:h,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(k["OS/2"]=this.font.os2.raw()),this.font.directory.encode(k)},n})();Ft.API.PDFObject=(function(){var n;function e(){}return n=function(t,s){return(Array(s+1).join("0")+t).slice(-s)},e.convert=function(t){var s,i,o,c;if(Array.isArray(t))return"["+(function(){var u,d,h;for(h=[],u=0,d=t.length;u<d;u++)s=t[u],h.push(e.convert(s));return h})().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t?.isString)return"("+t+")";if(t instanceof Date)return"(D:"+n(t.getUTCFullYear(),4)+n(t.getUTCMonth(),2)+n(t.getUTCDate(),2)+n(t.getUTCHours(),2)+n(t.getUTCMinutes(),2)+n(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(i in o=["<<"],t)c=t[i],o.push("/"+i+" "+e.convert(c));return o.push(">>"),o.join(`
`)}return""+t},e})();async function h_(n){const e=new Ft,t=e.internal.pageSize.width,s=e.internal.pageSize.height,i=20,o=[0,0,0],c=[128,128,128],u=[240,240,240];if(e.setFillColor(...u),e.rect(0,0,t,40,"F"),n.company.logoUrl)try{e.setFontSize(20),e.setFont("helvetica","bold"),e.text(n.company.name,i,25)}catch{e.setFontSize(20),e.setFont("helvetica","bold"),e.text(n.company.name,i,25)}else e.setFontSize(20),e.setFont("helvetica","bold"),e.text(n.company.name,i,25);e.setFontSize(24),e.setFont("helvetica","bold"),e.setTextColor(...o),e.text("INVOICE",t-i,25,{align:"right"}),e.setFontSize(9),e.setFont("helvetica","normal"),e.setTextColor(...c);let d=50;n.company.email&&(e.text(n.company.email,i,d),d+=5),n.company.phone&&(e.text(n.company.phone,i,d),d+=5),n.company.address&&(e.text(n.company.address,i,d),d+=5),(n.company.city||n.company.country)&&(e.text(`${n.company.city||""}, ${n.company.country||""}`,i,d),d+=5),e.setTextColor(...o),e.setFont("helvetica","bold");let h=50;e.text("Invoice Number:",t-80,h),e.setFont("helvetica","normal"),e.text(n.invoiceNumber,t-i,h,{align:"right"}),h+=7,e.setFont("helvetica","bold"),e.text("Invoice Date:",t-80,h),e.setFont("helvetica","normal"),e.text(n.invoiceDate,t-i,h,{align:"right"}),n.dueDate&&(h+=7,e.setFont("helvetica","bold"),e.text("Due Date:",t-80,h),e.setFont("helvetica","normal"),e.text(n.dueDate,t-i,h,{align:"right"})),d=Math.max(d,h)+15,e.setFontSize(11),e.setFont("helvetica","bold"),e.setTextColor(...o),e.text("BILL TO:",i,d),d+=7,e.setFontSize(10),e.setFont("helvetica","bold"),e.text(n.customer.name,i,d),d+=6,e.setFontSize(9),e.setFont("helvetica","normal"),e.setTextColor(...c),n.customer.email&&(e.text(n.customer.email,i,d),d+=5),n.customer.phone&&(e.text(n.customer.phone,i,d),d+=5),n.customer.address&&(e.text(n.customer.address,i,d),d+=5),(n.customer.city||n.customer.country)&&(e.text(`${n.customer.city||""}, ${n.customer.country||""}`,i,d),d+=5),d+=10;const p=n.items.map(S=>[S.description,S.quantity.toString(),ot(S.unitPrice,n.currency),`${S.tax}%`,ot(S.total,n.currency)]);e.autoTable({startY:d,head:[["Description","Qty","Unit Price","Tax","Amount"]],body:p,theme:"plain",headStyles:{fillColor:u,textColor:o,fontStyle:"bold",fontSize:9,cellPadding:5},bodyStyles:{fontSize:9,cellPadding:5},columnStyles:{0:{cellWidth:70},1:{cellWidth:20,halign:"center"},2:{cellWidth:30,halign:"right"},3:{cellWidth:20,halign:"center"},4:{cellWidth:30,halign:"right"}},styles:{lineColor:[200,200,200],lineWidth:.5}});const g=e.lastAutoTable.finalY||d+50,w=t-70;let x=g+10;if(e.setFontSize(9),e.setFont("helvetica","normal"),e.setTextColor(...c),e.text("Subtotal:",w,x),e.text(ot(n.subtotal,n.currency),t-i,x,{align:"right"}),x+=7,e.text("Tax:",w,x),e.text(ot(n.taxAmount,n.currency),t-i,x,{align:"right"}),n.discountAmount&&n.discountAmount>0&&(x+=7,e.text("Discount:",w,x),e.text(`-${ot(n.discountAmount,n.currency)}`,t-i,x,{align:"right"})),x+=5,e.setDrawColor(...c),e.line(w,x,t-i,x),x+=7,e.setFontSize(11),e.setFont("helvetica","bold"),e.setTextColor(...o),e.text("TOTAL:",w,x),e.text(ot(n.total,n.currency),t-i,x,{align:"right"}),n.notes){x+=15,e.setFontSize(9),e.setFont("helvetica","bold"),e.text("Notes:",i,x),x+=5,e.setFont("helvetica","normal"),e.setTextColor(...c);const S=e.splitTextToSize(n.notes,t-2*i);e.text(S,i,x)}if(n.terms){const S=s-40;e.setFontSize(8),e.setFont("helvetica","bold"),e.setTextColor(...o),e.text("Terms & Conditions:",i,S),e.setFont("helvetica","normal"),e.setTextColor(...c);const _=e.splitTextToSize(n.terms,t-2*i);e.text(_,i,S+4)}return e.setFontSize(8),e.setTextColor(...c),e.text("Generated by EaziBook - Professional Business Management System",t/2,s-15,{align:"center"}),e.text(`Generated on ${new Date().toLocaleString()}`,t/2,s-10,{align:"center"}),e.output("blob")}async function uM(n){const e=await h_(n),t=URL.createObjectURL(e),s=document.createElement("a");s.href=t,s.download=`Invoice-${n.invoiceNumber}.pdf`,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(t)}async function dM(n){const e=await h_(n),t=URL.createObjectURL(e);window.open(t,"_blank")}async function tv(){try{const{data:n,error:e}=await Ge.from("suppliers").select("*").order("created_at",{ascending:!1});if(e)throw e;return n||[]}catch(n){return console.error("Error fetching suppliers:",n),[]}}async function f_(n){try{if(!n.company_id){const s=await hN();if(!s)throw console.error("Error creating supplier: No company_id found for user"),new Error("User company not found. Please ensure your profile is set up correctly.");n.company_id=s}if(!n.supplier_code){const s=await tv();n.supplier_code=`SUPP-${String(s.length+1).padStart(4,"0")}`}const{data:e,error:t}=await Ge.from("suppliers").insert([n]).select().single();if(t)throw console.error("Error creating supplier:",t),t;return e}catch(e){return console.error("Error creating supplier:",e),null}}async function hM(n){try{const{error:e}=await Ge.from("suppliers").delete().eq("id",n);if(e)throw e;return!0}catch(e){return console.error("Error deleting supplier:",e),!1}}async function fM(n){try{const{data:e,error:t}=await Ge.from("suppliers").select("*").or(`name.ilike.%${n}%,email.ilike.%${n}%,company_name.ilike.%${n}%`).order("name");if(t)throw t;return e||[]}catch(e){return console.error("Error searching suppliers:",e),[]}}async function pM(n,e){try{const t=await Nu(),s=await rf(),i=n&&e?t.filter(c=>{const u=new Date(c.invoice_date);return u>=new Date(n)&&u<=new Date(e)&&c.status==="paid"}):t.filter(c=>c.status==="paid"),o={};return i.forEach(c=>{const u=s.find(p=>p.id===c.customer_id),d=c.customer_id||"unknown",h=u?.name||"Unknown Customer";o[d]||(o[d]={name:h,total:0,count:0}),o[d].total+=c.total,o[d].count+=1}),Object.entries(o).map(([c,u])=>({customerId:c,customerName:u.name,totalSales:u.total,invoiceCount:u.count,averageInvoice:u.total/u.count})).sort((c,u)=>u.totalSales-c.totalSales)}catch(t){return console.error("Error getting sales by customer:",t),[]}}async function mM(n,e){try{const{data:t,error:s}=await Ge.from("invoice_items").select("*, invoices!inner(invoice_date, status), products(name)").eq("invoices.status","paid");if(s)throw s;const i=n&&e?(t||[]).filter(c=>{const u=new Date(c.invoices.invoice_date);return u>=new Date(n)&&u<=new Date(e)}):t||[],o={};return i.forEach(c=>{const u=c.product_id||"unknown",d=c.products?.name||c.description||"Unknown Product";o[u]||(o[u]={name:d,quantity:0,total:0}),o[u].quantity+=c.quantity,o[u].total+=c.total}),Object.entries(o).map(([c,u])=>({productId:c,productName:u.name,quantitySold:u.quantity,totalRevenue:u.total,averagePrice:u.total/u.quantity})).sort((c,u)=>u.totalRevenue-c.totalRevenue)}catch(t){return console.error("Error getting sales by product:",t),[]}}async function gM(n,e){try{const t=await Nu(),s=n&&e?t.filter(o=>{const c=new Date(o.invoice_date);return c>=new Date(n)&&c<=new Date(e)&&o.status==="paid"}):t.filter(o=>o.status==="paid"),i={};return s.forEach(o=>{const c=o.invoice_date.substring(0,7);i[c]=(i[c]||0)+o.total}),Object.entries(i).map(([o,c])=>({period:o,totalSales:c,invoiceCount:s.filter(u=>u.invoice_date.startsWith(o)).length})).sort((o,c)=>o.period.localeCompare(c.period))}catch(t){return console.error("Error getting sales by period:",t),[]}}async function xM(){try{const n=await Nu(),e=await rf(),t=new Date;return n.filter(o=>o.status!=="paid").map(o=>{const c=e.find(p=>p.id===o.customer_id),u=new Date(o.invoice_date),d=Math.floor((t.getTime()-u.getTime())/(1e3*60*60*24));let h="Current";return d>90?h="90+ Days":d>60?h="61-90 Days":d>30?h="31-60 Days":d>0&&(h="1-30 Days"),{invoiceNumber:o.invoice_number,customerName:c?.name||"Unknown",invoiceDate:o.invoice_date,dueDate:o.due_date,daysOverdue:d,amount:o.total,agingBucket:h}}).sort((o,c)=>c.daysOverdue-o.daysOverdue)}catch(n){return console.error("Error getting invoice aging report:",n),[]}}async function vM(n,e){try{const t=await No(),s=n&&e?t.filter(o=>{const c=new Date(o.transaction_date);return c>=new Date(n)&&c<=new Date(e)&&(o.type==="expense"||o.type==="bill")}):t.filter(o=>o.type==="expense"||o.type==="bill"),i={};return s.forEach(o=>{const c=o.category||"Uncategorized";i[c]=(i[c]||0)+o.amount}),Object.entries(i).map(([o,c])=>({category:o,total:c,count:s.filter(u=>(u.category||"Uncategorized")===o).length,average:c/s.filter(u=>(u.category||"Uncategorized")===o).length})).sort((o,c)=>c.total-o.total)}catch(t){return console.error("Error getting expenses by category:",t),[]}}async function yM(n,e){try{const t=await No(),s=n&&e?t.filter(o=>{const c=new Date(o.transaction_date);return c>=new Date(n)&&c<=new Date(e)&&(o.type==="expense"||o.type==="bill")&&o.supplier_id}):t.filter(o=>(o.type==="expense"||o.type==="bill")&&o.supplier_id),i={};return s.forEach(o=>{const c=o.supplier_id||"unknown";i[c]=(i[c]||0)+o.amount}),Object.entries(i).map(([o,c])=>({supplierId:o,total:c,count:s.filter(u=>u.supplier_id===o).length})).sort((o,c)=>c.total-o.total)}catch(t){return console.error("Error getting expenses by supplier:",t),[]}}async function wM(n=6){try{const e=await No(),t=new Date,s=new Date;s.setMonth(s.getMonth()-n);const i=e.filter(c=>{const u=new Date(c.transaction_date);return u>=s&&u<=t&&(c.type==="expense"||c.type==="bill")}),o={};return i.forEach(c=>{const u=c.transaction_date.substring(0,7);o[u]=(o[u]||0)+c.amount}),Object.entries(o).map(([c,u])=>({month:c,total:u,count:i.filter(d=>d.transaction_date.startsWith(c)).length})).sort((c,u)=>c.month.localeCompare(u.month))}catch(e){return console.error("Error getting monthly expense trend:",e),[]}}async function bM(){try{return(await Vd()).map(e=>({productId:e.id,productName:e.name,sku:e.sku,quantity:e.stock_quantity,costPrice:e.cost_price,sellingPrice:e.selling_price,stockValue:e.stock_quantity*e.cost_price,potentialRevenue:e.stock_quantity*e.selling_price,potentialProfit:e.stock_quantity*(e.selling_price-e.cost_price)})).sort((e,t)=>t.stockValue-e.stockValue)}catch(n){return console.error("Error getting stock valuation:",n),[]}}async function jM(n=10){try{return(await Vd()).filter(t=>t.stock_quantity<=n).map(t=>({productId:t.id,productName:t.name,sku:t.sku,currentStock:t.stock_quantity,reorderLevel:n,stockValue:t.stock_quantity*t.cost_price})).sort((t,s)=>t.currentStock-s.currentStock)}catch(e){return console.error("Error getting low stock report:",e),[]}}async function NM(n,e){try{const{data:t,error:s}=await Ge.from("invoice_items").select("*, invoices!inner(invoice_date, status)");if(s)throw s;const i=n&&e?(t||[]).filter(c=>{const u=new Date(c.invoices.invoice_date);return u>=new Date(n)&&u<=new Date(e)}):t||[],o={};return i.forEach(c=>{const u=c.product_id||"unknown";o[u]||(o[u]={out:0,value:0}),o[u].out+=c.quantity,o[u].value+=c.total}),Object.entries(o).map(([c,u])=>({productId:c,stockOut:u.out,stockIn:0,netMovement:-u.out,value:u.value})).sort((c,u)=>u.stockOut-c.stockOut)}catch(t){return console.error("Error getting inventory movement:",t),[]}}function _M(){const{currency:n}=fa(),e=Up(n),{canCreateInvoice:t,incrementInvoiceUsage:s,usage:i,limits:o,isPremium:c}=wu(),[u,d]=C.useState({name:"",email:"",phone:"",address:"",gstin:""}),[h,p]=C.useState([{id:"1",description:"",quantity:1,rate:0,taxRate:18,amount:0}]),[g,w]=C.useState(`INV-${Date.now()}`),[x,S]=C.useState(new Date().toISOString().split("T")[0]),[_,k]=C.useState(""),[b,R]=C.useState(""),[P,T]=C.useState(!1),[F,ne]=C.useState(null);C.useEffect(()=>{ee()},[]);const ee=async()=>{try{const{data:{user:B}}=await Ge.auth.getUser();if(B){const{data:Z}=await Ge.from("profiles").select("company_id").eq("id",B.id).single();if(Z?.company_id){const{data:me}=await Ge.from("companies").select("*").eq("id",Z.company_id).single();me&&ne({companyName:me.name||"",address:me.address||"",city:me.city||"",country:me.country||"",phone:me.phone||"",email:me.email||"",logoUrl:me.logo_url||"",currency:me.currency||"NGN"})}}}catch(B){console.error("Error loading company settings:",B)}},K=()=>{const B={id:Date.now().toString(),description:"",quantity:1,rate:0,taxRate:18,amount:0};p([...h,B])},Y=B=>{p(h.filter(Z=>Z.id!==B))},q=(B,Z,me)=>{p(h.map(H=>{if(H.id===B){const O={...H,[Z]:me};return(Z==="quantity"||Z==="rate")&&(O.amount=O.quantity*O.rate),O}return H}))},L=h.reduce((B,Z)=>B+Z.amount,0),z=h.reduce((B,Z)=>B+Z.amount*Z.taxRate/100,0),U=L+z,te=async()=>{try{const{data:{user:B}}=await Ge.auth.getUser();if(!B)return Le.error("You must be logged in to save invoices"),null;const{data:Z}=await Ge.from("profiles").select("company_id").eq("id",B.id).single();if(!Z?.company_id)return Le.error("Company not found. Please set up your company first."),null;let H=(await rf()).find(se=>se.name.toLowerCase()===u.name.toLowerCase());!H&&u.name&&(H=await dN({name:u.name,email:u.email||void 0,phone:u.phone||void 0,address:u.address||void 0,company_id:Z.company_id}));const O={company_id:Z.company_id,customer_id:H?.id,invoice_number:g,invoice_date:x,due_date:_||void 0,status:"draft",currency:n,subtotal:L,tax_amount:z,total:U,amount_paid:0,balance_due:U,notes:b||void 0,terms_conditions:"Payment is due within the specified due date. Late payments may incur additional charges."},V=h.filter(se=>se.description).map(se=>({description:se.description,quantity:se.quantity,unit_price:se.rate,tax_rate:se.taxRate,tax_amount:se.amount*se.taxRate/100,total:se.amount+se.amount*se.taxRate/100})),X=await RR(O,V);return X?(Le.success("Invoice saved successfully!"),X):(Le.error("Failed to save invoice"),null)}catch(B){return console.error("Error saving invoice:",B),Le.error("Failed to save invoice. Please try again."),null}},re=async()=>{if(!t){Le.error("Invoice limit reached",{description:"Upgrade to Premium for unlimited invoices"});return}if(!u.name){Le.error("Customer name is required");return}if(h.length===0||h.every(Z=>!Z.description)){Le.error("At least one invoice item is required");return}if(!F||!F.companyName){Le.error("Please configure company settings first",{description:"Go to Settings > Company Settings to add your business information"});return}await te()&&(s(),T(!0))},ue=async()=>{try{const B={invoiceNumber:g,invoiceDate:x,dueDate:_||void 0,customer:{name:u.name,email:u.email||void 0,phone:u.phone||void 0,address:u.address||void 0,city:void 0,country:void 0},company:{name:F?.companyName||"Your Company",email:F?.email||void 0,phone:F?.phone||void 0,address:F?.address||void 0,city:F?.city||void 0,country:F?.country||void 0,logoUrl:F?.logoUrl||void 0},items:h.map(Z=>({description:Z.description,quantity:Z.quantity,unitPrice:Z.rate,tax:Z.taxRate,total:Z.amount+Z.amount*Z.taxRate/100})),subtotal:L,taxAmount:z,total:U,currency:e,notes:b||void 0,terms:"Payment is due within the specified due date. Late payments may incur additional charges."};await uM(B),Le.success("Invoice PDF downloaded successfully!")}catch(B){console.error("Error generating PDF:",B),Le.error("Failed to generate PDF. Please try again.")}},fe=async()=>{try{const B={invoiceNumber:g,invoiceDate:x,dueDate:_||void 0,customer:{name:u.name,email:u.email||void 0,phone:u.phone||void 0,address:u.address||void 0,city:void 0,country:void 0},company:{name:F?.companyName||"Your Company",email:F?.email||void 0,phone:F?.phone||void 0,address:F?.address||void 0,city:F?.city||void 0,country:F?.country||void 0,logoUrl:F?.logoUrl||void 0},items:h.map(Z=>({description:Z.description,quantity:Z.quantity,unitPrice:Z.rate,tax:Z.taxRate,total:Z.amount+Z.amount*Z.taxRate/100})),subtotal:L,taxAmount:z,total:U,currency:e,notes:b||void 0,terms:"Payment is due within the specified due date. Late payments may incur additional charges."};await dM(B)}catch(B){console.error("Error previewing PDF:",B),Le.error("Failed to preview PDF. Please try again.")}};return P?r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6 print:hidden",children:[r.jsx("h1",{children:"Invoice Preview"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(Ae,{variant:"outline",onClick:()=>T(!1),children:"Edit Invoice"}),r.jsxs(Ae,{onClick:fe,variant:"outline",className:"gap-2",children:[r.jsx(nc,{className:"w-4 h-4"}),"Preview PDF"]}),r.jsxs(Ae,{onClick:ue,className:"gap-2",children:[r.jsx(Un,{className:"w-4 h-4"}),"Download PDF"]}),r.jsxs(Ae,{onClick:()=>window.print(),variant:"outline",className:"gap-2",children:[r.jsx(Sw,{className:"w-4 h-4"}),"Print"]})]})]}),r.jsx(Fe,{className:"max-w-4xl mx-auto",id:"invoice-content",children:r.jsxs(Ue,{className:"p-8",children:[r.jsxs("div",{className:"flex justify-between items-start mb-8",children:[r.jsxs("div",{className:"flex items-start gap-4",children:[F?.logoUrl&&r.jsx("div",{className:"w-20 h-20 flex-shrink-0",children:r.jsx("img",{src:F.logoUrl,alt:"Company Logo",className:"max-w-full max-h-full object-contain"})}),r.jsxs("div",{children:[r.jsx("h2",{children:F?.companyName||"Your Company Name"}),r.jsxs("p",{className:"text-muted-foreground text-sm",children:[F?.address&&r.jsxs(r.Fragment,{children:[F.address,r.jsx("br",{})]}),F?.city&&F?.state&&r.jsxs(r.Fragment,{children:[F.city,", ",F.state," ",F.zipCode,r.jsx("br",{})]}),F?.country&&r.jsxs(r.Fragment,{children:[F.country,r.jsx("br",{})]}),F?.phone&&r.jsxs(r.Fragment,{children:["Phone: ",F.phone,r.jsx("br",{})]}),F?.email&&r.jsxs(r.Fragment,{children:["Email: ",F.email,r.jsx("br",{})]}),F?.gstin&&r.jsxs(r.Fragment,{children:["GSTIN: ",F.gstin]})]})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx(qt,{variant:"secondary",className:"mb-2",children:"INVOICE"}),r.jsxs("p",{className:"text-sm",children:[r.jsx("strong",{children:"Invoice #:"})," ",g]}),r.jsxs("p",{className:"text-sm",children:[r.jsx("strong",{children:"Date:"})," ",x]}),_&&r.jsxs("p",{className:"text-sm",children:[r.jsx("strong",{children:"Due Date:"})," ",_]})]})]}),r.jsxs("div",{className:"mb-8",children:[r.jsx("h3",{className:"mb-2",children:"Bill To:"}),r.jsxs("div",{className:"text-muted-foreground",children:[r.jsx("p",{children:u.name}),r.jsx("p",{children:u.address}),u.email&&r.jsxs("p",{children:["Email: ",u.email]}),u.phone&&r.jsxs("p",{children:["Phone: ",u.phone]}),u.gstin&&r.jsxs("p",{children:["GSTIN: ",u.gstin]})]})]}),r.jsx("div",{className:"mb-8",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b",children:[r.jsx("th",{className:"text-left py-2",children:"Description"}),r.jsx("th",{className:"text-right py-2",children:"Qty"}),r.jsx("th",{className:"text-right py-2",children:"Rate"}),r.jsx("th",{className:"text-right py-2",children:"Tax"}),r.jsx("th",{className:"text-right py-2",children:"Amount"})]})}),r.jsx("tbody",{children:h.map(B=>r.jsxs("tr",{className:"border-b",children:[r.jsx("td",{className:"py-2",children:B.description}),r.jsx("td",{className:"text-right py-2",children:B.quantity}),r.jsxs("td",{className:"text-right py-2",children:[e,B.rate.toFixed(2)]}),r.jsxs("td",{className:"text-right py-2",children:[B.taxRate,"%"]}),r.jsxs("td",{className:"text-right py-2",children:[e,B.amount.toFixed(2)]})]},B.id))})]})}),r.jsx("div",{className:"flex justify-end",children:r.jsxs("div",{className:"w-64",children:[r.jsxs("div",{className:"flex justify-between py-1",children:[r.jsx("span",{children:"Subtotal:"}),r.jsxs("span",{children:[e,L.toFixed(2)]})]}),r.jsxs("div",{className:"flex justify-between py-1",children:[r.jsx("span",{children:"Tax:"}),r.jsxs("span",{children:[e,z.toFixed(2)]})]}),r.jsx(Ip,{className:"my-2"}),r.jsxs("div",{className:"flex justify-between py-1",children:[r.jsx("span",{children:"Total:"}),r.jsxs("span",{children:[e,U.toFixed(2)]})]})]})}),b&&r.jsxs("div",{className:"mt-8",children:[r.jsx("h4",{children:"Notes:"}),r.jsx("p",{className:"text-muted-foreground mt-1",children:b})]})]})})]}):r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("h1",{children:"Quick Invoice"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(Ae,{onClick:te,variant:"outline",className:"gap-2",children:[r.jsx(i0,{className:"w-4 h-4"}),"Save Draft"]}),r.jsxs(Ae,{onClick:re,className:"gap-2",disabled:!t,children:[r.jsx(vs,{className:"w-4 h-4"}),"Generate Invoice"]})]})]}),!c&&r.jsxs(oc,{className:"mb-6",children:[r.jsx(ua,{className:"h-4 w-4"}),r.jsxs(lc,{children:["Free Plan: ",i.invoices,"/",o.invoices," invoices used this month.",!t&&" Upgrade to Premium for unlimited invoices."]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-6",children:[r.jsxs(Fe,{children:[r.jsx(qe,{children:r.jsx(He,{children:"Invoice Information"})}),r.jsxs(Ue,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(Re,{htmlFor:"invoiceNumber",children:"Invoice Number"}),r.jsx(Ve,{id:"invoiceNumber",value:g,onChange:B=>w(B.target.value)})]}),r.jsxs("div",{children:[r.jsx(Re,{htmlFor:"invoiceDate",children:"Invoice Date"}),r.jsx(Ve,{id:"invoiceDate",type:"date",value:x,onChange:B=>S(B.target.value)})]})]}),r.jsxs("div",{children:[r.jsx(Re,{htmlFor:"dueDate",children:"Due Date (Optional)"}),r.jsx(Ve,{id:"dueDate",type:"date",value:_,onChange:B=>k(B.target.value)})]})]})]}),r.jsxs(Fe,{children:[r.jsx(qe,{children:r.jsx(He,{children:"Customer Details"})}),r.jsxs(Ue,{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(Re,{htmlFor:"customerName",children:"Customer Name"}),r.jsx(Ve,{id:"customerName",value:u.name,onChange:B=>d({...u,name:B.target.value}),placeholder:"Enter customer name"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(Re,{htmlFor:"email",children:"Email"}),r.jsx(Ve,{id:"email",type:"email",value:u.email,onChange:B=>d({...u,email:B.target.value}),placeholder:"customer@email.com"})]}),r.jsxs("div",{children:[r.jsx(Re,{htmlFor:"phone",children:"Phone"}),r.jsx(Ve,{id:"phone",value:u.phone,onChange:B=>d({...u,phone:B.target.value}),placeholder:"+91 98765 43210"})]})]}),r.jsxs("div",{children:[r.jsx(Re,{htmlFor:"address",children:"Address"}),r.jsx(Od,{id:"address",value:u.address,onChange:B=>d({...u,address:B.target.value}),placeholder:"Enter customer address"})]}),r.jsxs("div",{children:[r.jsx(Re,{htmlFor:"gstin",children:"GSTIN (Optional)"}),r.jsx(Ve,{id:"gstin",value:u.gstin,onChange:B=>d({...u,gstin:B.target.value}),placeholder:"22AAAAA0000A1Z5"})]})]})]})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs(Fe,{children:[r.jsxs(qe,{className:"flex flex-row items-center justify-between",children:[r.jsx(He,{children:"Invoice Items"}),r.jsxs(Ae,{onClick:K,size:"sm",className:"gap-2",children:[r.jsx(la,{className:"w-4 h-4"}),"Add Item"]})]}),r.jsx(Ue,{className:"space-y-4",children:h.map((B,Z)=>r.jsxs("div",{className:"p-4 border rounded-lg space-y-3",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("span",{className:"text-sm",children:["Item ",Z+1]}),h.length>1&&r.jsx(Ae,{onClick:()=>Y(B.id),size:"sm",variant:"outline",className:"gap-1",children:r.jsx(yu,{className:"w-3 h-3"})})]}),r.jsxs("div",{children:[r.jsx(Re,{children:"Description"}),r.jsx(Ve,{value:B.description,onChange:me=>q(B.id,"description",me.target.value),placeholder:"Item description"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[r.jsxs("div",{children:[r.jsx(Re,{children:"Quantity"}),r.jsx(Ve,{type:"number",value:B.quantity,onChange:me=>q(B.id,"quantity",parseFloat(me.target.value)||0),min:"0",step:"0.01"})]}),r.jsxs("div",{children:[r.jsxs(Re,{children:["Rate (",e,")"]}),r.jsx(Ve,{type:"number",value:B.rate,onChange:me=>q(B.id,"rate",parseFloat(me.target.value)||0),min:"0",step:"0.01"})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[r.jsxs("div",{children:[r.jsx(Re,{children:"Tax Rate (%)"}),r.jsxs(wr,{value:B.taxRate.toString(),onValueChange:me=>q(B.id,"taxRate",parseFloat(me)),children:[r.jsx(jr,{children:r.jsx(br,{})}),r.jsxs(Nr,{children:[r.jsx(Te,{value:"0",children:"0%"}),r.jsx(Te,{value:"5",children:"5%"}),r.jsx(Te,{value:"12",children:"12%"}),r.jsx(Te,{value:"18",children:"18%"}),r.jsx(Te,{value:"28",children:"28%"})]})]})]}),r.jsxs("div",{children:[r.jsxs(Re,{children:["Amount (",e,")"]}),r.jsx(Ve,{value:B.amount.toFixed(2),disabled:!0,className:"bg-muted"})]})]})]},B.id))})]}),r.jsxs(Fe,{children:[r.jsx(qe,{children:r.jsx(He,{children:"Invoice Summary"})}),r.jsx(Ue,{children:r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Subtotal:"}),r.jsxs("span",{children:[e,L.toFixed(2)]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Total Tax:"}),r.jsxs("span",{children:[e,z.toFixed(2)]})]}),r.jsx(Ip,{}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Total Amount:"}),r.jsxs("span",{children:[e,U.toFixed(2)]})]})]})})]}),r.jsxs(Fe,{children:[r.jsx(qe,{children:r.jsx(He,{children:"Notes (Optional)"})}),r.jsx(Ue,{children:r.jsx(Od,{value:b,onChange:B=>R(B.target.value),placeholder:"Add any additional notes or terms...",rows:3})})]})]})]})]})}function SM(){const{currency:n}=fa(),e=Up(n),{canCreateBill:t,incrementBillUsage:s,usage:i,limits:o,isPremium:c}=wu(),[u,d]=C.useState("create-bill"),[h,p]=C.useState({name:"",email:"",phone:"",address:"",gstin:""}),[g,w]=C.useState([{id:"1",description:"",quantity:1,rate:0,taxRate:18,amount:0}]),[x,S]=C.useState(`BILL-${Date.now()}`),[_,k]=C.useState(new Date().toISOString().split("T")[0]),[b,R]=C.useState(""),[P,T]=C.useState(""),[F,ne]=C.useState(!1),[ee,K]=C.useState(null);C.useEffect(()=>{Y()},[]);const Y=async()=>{try{const{data:{user:H}}=await Ge.auth.getUser();if(H){const{data:O}=await Ge.from("profiles").select("company_id").eq("id",H.id).single();if(O?.company_id){const{data:V}=await Ge.from("companies").select("*").eq("id",O.company_id).single();V&&K({companyName:V.name||"",address:V.address||"",city:V.city||"",country:V.country||"",phone:V.phone||"",email:V.email||"",logoUrl:V.logo_url||"",currency:V.currency||"NGN"})}}}catch(H){console.error("Error loading company settings:",H)}},q=()=>{const H={id:Date.now().toString(),description:"",quantity:1,rate:0,taxRate:18,amount:0};w([...g,H])},L=H=>{w(g.filter(O=>O.id!==H))},z=(H,O,V)=>{w(g.map(X=>{if(X.id===H){const se={...X,[O]:V};return(O==="quantity"||O==="rate")&&(se.amount=se.quantity*se.rate),se}return X}))},U=g.reduce((H,O)=>H+O.amount,0),te=g.reduce((H,O)=>H+O.amount*O.taxRate/100,0),re=U+te,ue=[{id:"BILL-001",vendor:"ABC Suppliers",amount:ot(45e3,n),date:"2025-01-25",status:"pending"},{id:"BILL-002",vendor:"XYZ Materials",amount:ot(32500,n),date:"2025-01-24",status:"paid"},{id:"BILL-003",vendor:"PQR Services",amount:ot(18750,n),date:"2025-01-23",status:"overdue"}],fe=H=>{switch(H){case"paid":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"overdue":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},B=async()=>{try{const{data:{user:H}}=await Ge.auth.getUser();if(!H)return Le.error("You must be logged in to save bills"),null;const{data:O}=await Ge.from("profiles").select("company_id").eq("id",H.id).single();if(!O?.company_id)return Le.error("Company not found. Please set up your company first."),null;let X=(await tv()).find(le=>le.name.toLowerCase()===h.name.toLowerCase());!X&&h.name&&(X=await f_({name:h.name,email:h.email||void 0,phone:h.phone||void 0,address:h.address||void 0,company_id:O.company_id}));const se={company_id:O.company_id,transaction_number:x,transaction_date:_,type:"bill",category:"Purchase",description:`Bill from ${h.name} - ${g.filter(le=>le.description).map(le=>le.description).join(", ")}`,amount:re,currency:n,status:"pending",supplier_id:X?.id,notes:P||void 0},de=await HR(se);return de?(Le.success("Bill saved successfully!"),de):(Le.error("Failed to save bill"),null)}catch(H){return console.error("Error saving bill:",H),Le.error("Failed to save bill. Please try again."),null}},Z=async()=>{if(!t){Le.error("Bill limit reached",{description:"Upgrade to Premium for unlimited bills"});return}if(!h.name){Le.error("Vendor name is required");return}if(g.length===0||g.every(O=>!O.description)){Le.error("At least one bill item is required");return}if(!ee||!ee.companyName){Le.error("Please configure company settings first",{description:"Go to Settings > Company Settings to add your business information"});return}await B()&&(s(),ne(!0))},me=()=>{window.print()};return F?r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6 print:hidden",children:[r.jsx("h1",{children:"Bill Receipt Preview"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(Ae,{variant:"outline",onClick:()=>ne(!1),children:"Edit Bill"}),r.jsxs(Ae,{onClick:me,className:"gap-2",children:[r.jsx(Un,{className:"w-4 h-4"}),"Download PDF"]}),r.jsxs(Ae,{onClick:me,variant:"outline",className:"gap-2",children:[r.jsx(Sw,{className:"w-4 h-4"}),"Print"]})]})]}),r.jsx(Fe,{className:"max-w-4xl mx-auto",id:"invoice-content",children:r.jsxs(Ue,{className:"p-8",children:[r.jsxs("div",{className:"flex justify-between items-start mb-8",children:[r.jsxs("div",{className:"flex items-start gap-4",children:[ee?.logoUrl&&r.jsx("div",{className:"w-20 h-20 flex-shrink-0",children:r.jsx("img",{src:ee.logoUrl,alt:"Company Logo",className:"max-w-full max-h-full object-contain"})}),r.jsxs("div",{children:[r.jsx("h2",{children:ee?.companyName||"Your Company Name"}),r.jsxs("p",{className:"text-muted-foreground text-sm",children:[ee?.address&&r.jsxs(r.Fragment,{children:[ee.address,r.jsx("br",{})]}),ee?.city&&ee?.state&&r.jsxs(r.Fragment,{children:[ee.city,", ",ee.state," ",ee.zipCode,r.jsx("br",{})]}),ee?.country&&r.jsxs(r.Fragment,{children:[ee.country,r.jsx("br",{})]}),ee?.phone&&r.jsxs(r.Fragment,{children:["Phone: ",ee.phone,r.jsx("br",{})]}),ee?.email&&r.jsxs(r.Fragment,{children:["Email: ",ee.email,r.jsx("br",{})]}),ee?.gstin&&r.jsxs(r.Fragment,{children:["GSTIN: ",ee.gstin]})]})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx(qt,{variant:"secondary",className:"mb-2",children:"BILL RECEIPT"}),r.jsxs("p",{className:"text-sm",children:[r.jsx("strong",{children:"Bill #:"})," ",x]}),r.jsxs("p",{className:"text-sm",children:[r.jsx("strong",{children:"Date:"})," ",_]}),b&&r.jsxs("p",{className:"text-sm",children:[r.jsx("strong",{children:"Due Date:"})," ",b]})]})]}),r.jsxs("div",{className:"mb-8",children:[r.jsx("h3",{className:"mb-2",children:"Vendor:"}),r.jsxs("div",{className:"text-muted-foreground text-sm",children:[r.jsx("p",{children:h.name}),r.jsx("p",{children:h.address}),h.email&&r.jsxs("p",{children:["Email: ",h.email]}),h.phone&&r.jsxs("p",{children:["Phone: ",h.phone]}),h.gstin&&r.jsxs("p",{children:["GSTIN: ",h.gstin]})]})]}),r.jsx("div",{className:"mb-8",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b",children:[r.jsx("th",{className:"text-left py-2",children:"Description"}),r.jsx("th",{className:"text-right py-2",children:"Qty"}),r.jsx("th",{className:"text-right py-2",children:"Rate"}),r.jsx("th",{className:"text-right py-2",children:"Tax"}),r.jsx("th",{className:"text-right py-2",children:"Amount"})]})}),r.jsx("tbody",{children:g.map(H=>r.jsxs("tr",{className:"border-b",children:[r.jsx("td",{className:"py-2 text-sm",children:H.description}),r.jsx("td",{className:"text-right py-2 text-sm",children:H.quantity}),r.jsxs("td",{className:"text-right py-2 text-sm",children:[e,H.rate.toFixed(2)]}),r.jsxs("td",{className:"text-right py-2 text-sm",children:[H.taxRate,"%"]}),r.jsxs("td",{className:"text-right py-2 text-sm",children:[e,H.amount.toFixed(2)]})]},H.id))})]})}),r.jsx("div",{className:"flex justify-end",children:r.jsxs("div",{className:"w-64",children:[r.jsxs("div",{className:"flex justify-between py-1 text-sm",children:[r.jsx("span",{children:"Subtotal:"}),r.jsxs("span",{children:[e,U.toFixed(2)]})]}),r.jsxs("div",{className:"flex justify-between py-1 text-sm",children:[r.jsx("span",{children:"Tax:"}),r.jsxs("span",{children:[e,te.toFixed(2)]})]}),r.jsx(Ip,{className:"my-2"}),r.jsxs("div",{className:"flex justify-between py-1",children:[r.jsx("span",{children:"Total:"}),r.jsxs("span",{children:[e,re.toFixed(2)]})]})]})}),P&&r.jsxs("div",{className:"mt-8",children:[r.jsx("h4",{children:"Notes:"}),r.jsx("p",{className:"text-muted-foreground text-sm mt-1",children:P})]})]})})]}):r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsxs("div",{children:[r.jsx("h1",{children:"Quick Billing"}),r.jsx("p",{className:"text-muted-foreground",children:"Create and manage bills efficiently"})]}),r.jsxs(Ae,{className:"gap-2",disabled:!t,children:[r.jsx(Pd,{className:"w-4 h-4"}),"New Bill"]})]}),!c&&r.jsxs(oc,{className:"mb-6",children:[r.jsx(ua,{className:"h-4 w-4"}),r.jsxs(lc,{children:["Free Plan: ",i.bills,"/",o.bills," bills used this month.",!t&&" Upgrade to Premium for unlimited bills."]})]}),r.jsxs(pc,{value:u,onValueChange:d,className:"space-y-6",children:[r.jsxs(mc,{className:"grid w-full grid-cols-3",children:[r.jsx(Ar,{value:"create-bill",children:"Create Bill"}),r.jsx(Ar,{value:"recent-bills",children:"Recent Bills"}),r.jsx(Ar,{value:"bill-management",children:"Management"})]}),r.jsx(Er,{value:"create-bill",className:"space-y-6",children:r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-6",children:[r.jsxs(Fe,{children:[r.jsx(qe,{children:r.jsx(He,{children:"Bill Information"})}),r.jsxs(Ue,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(Re,{htmlFor:"billNumber",children:"Bill Number"}),r.jsx(Ve,{id:"billNumber",value:x,onChange:H=>S(H.target.value)})]}),r.jsxs("div",{children:[r.jsx(Re,{htmlFor:"billDate",children:"Bill Date"}),r.jsx(Ve,{id:"billDate",type:"date",value:_,onChange:H=>k(H.target.value)})]})]}),r.jsxs("div",{children:[r.jsx(Re,{htmlFor:"dueDate",children:"Due Date"}),r.jsx(Ve,{id:"dueDate",type:"date",value:b,onChange:H=>R(H.target.value)})]})]})]}),r.jsxs(Fe,{children:[r.jsx(qe,{children:r.jsx(He,{children:"Vendor Details"})}),r.jsxs(Ue,{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(Re,{htmlFor:"vendorName",children:"Vendor Name"}),r.jsx(Ve,{id:"vendorName",value:h.name,onChange:H=>p({...h,name:H.target.value}),placeholder:"Enter vendor name"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(Re,{htmlFor:"vendorEmail",children:"Email"}),r.jsx(Ve,{id:"vendorEmail",type:"email",value:h.email,onChange:H=>p({...h,email:H.target.value}),placeholder:"vendor@email.com"})]}),r.jsxs("div",{children:[r.jsx(Re,{htmlFor:"vendorPhone",children:"Phone"}),r.jsx(Ve,{id:"vendorPhone",value:h.phone,onChange:H=>p({...h,phone:H.target.value}),placeholder:"+91 98765 43210"})]})]}),r.jsxs("div",{children:[r.jsx(Re,{htmlFor:"vendorAddress",children:"Address"}),r.jsx(Od,{id:"vendorAddress",value:h.address,onChange:H=>p({...h,address:H.target.value}),placeholder:"Enter vendor address"})]}),r.jsxs("div",{children:[r.jsx(Re,{htmlFor:"vendorGstin",children:"GSTIN"}),r.jsx(Ve,{id:"vendorGstin",value:h.gstin,onChange:H=>p({...h,gstin:H.target.value}),placeholder:"22AAAAA0000A1Z5"})]})]})]})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs(Fe,{children:[r.jsxs(qe,{className:"flex flex-row items-center justify-between",children:[r.jsx(He,{children:"Bill Items"}),r.jsxs(Ae,{onClick:q,size:"sm",className:"gap-2",children:[r.jsx(la,{className:"w-4 h-4"}),"Add Item"]})]}),r.jsx(Ue,{className:"space-y-4",children:g.map((H,O)=>r.jsxs("div",{className:"p-4 border rounded-lg space-y-3",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("span",{className:"text-sm",children:["Item ",O+1]}),g.length>1&&r.jsx(Ae,{onClick:()=>L(H.id),size:"sm",variant:"outline",className:"gap-1",children:r.jsx(yu,{className:"w-3 h-3"})})]}),r.jsxs("div",{children:[r.jsx(Re,{children:"Description"}),r.jsx(Ve,{value:H.description,onChange:V=>z(H.id,"description",V.target.value),placeholder:"Item description"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[r.jsxs("div",{children:[r.jsx(Re,{children:"Quantity"}),r.jsx(Ve,{type:"number",value:H.quantity,onChange:V=>z(H.id,"quantity",parseFloat(V.target.value)||0),min:"0",step:"0.01"})]}),r.jsxs("div",{children:[r.jsxs(Re,{children:["Rate (",e,")"]}),r.jsx(Ve,{type:"number",value:H.rate,onChange:V=>z(H.id,"rate",parseFloat(V.target.value)||0),min:"0",step:"0.01"})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[r.jsxs("div",{children:[r.jsx(Re,{children:"Tax Rate (%)"}),r.jsxs(wr,{value:H.taxRate.toString(),onValueChange:V=>z(H.id,"taxRate",parseFloat(V)),children:[r.jsx(jr,{children:r.jsx(br,{})}),r.jsxs(Nr,{children:[r.jsx(Te,{value:"0",children:"0%"}),r.jsx(Te,{value:"5",children:"5%"}),r.jsx(Te,{value:"12",children:"12%"}),r.jsx(Te,{value:"18",children:"18%"}),r.jsx(Te,{value:"28",children:"28%"})]})]})]}),r.jsxs("div",{children:[r.jsxs(Re,{children:["Amount (",e,")"]}),r.jsx(Ve,{value:H.amount.toFixed(2),disabled:!0,className:"bg-muted"})]})]})]},H.id))})]}),r.jsxs(Fe,{children:[r.jsx(qe,{children:r.jsx(He,{children:"Bill Summary"})}),r.jsxs(Ue,{children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Subtotal:"}),r.jsxs("span",{children:[e,U.toFixed(2)]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Total Tax:"}),r.jsxs("span",{children:[e,te.toFixed(2)]})]}),r.jsx(Ip,{}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Total Amount:"}),r.jsxs("span",{children:[e,re.toFixed(2)]})]})]}),r.jsxs("div",{className:"mt-4 flex gap-2",children:[r.jsxs(Ae,{onClick:B,variant:"outline",className:"flex-1 gap-2",children:[r.jsx(i0,{className:"w-4 h-4"}),"Save Draft"]}),r.jsxs(Ae,{onClick:Z,className:"flex-1 gap-2",disabled:!t,children:[r.jsx(vs,{className:"w-4 h-4"}),"Create Bill"]})]})]})]})]})]})}),r.jsx(Er,{value:"recent-bills",className:"space-y-6",children:r.jsxs(Fe,{children:[r.jsx(qe,{children:r.jsx(He,{children:"Recent Bills"})}),r.jsx(Ue,{children:r.jsx("div",{className:"space-y-4",children:ue.map(H=>r.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium",children:H.id}),r.jsx("p",{className:"text-sm text-muted-foreground",children:H.vendor}),r.jsx("p",{className:"text-xs text-muted-foreground",children:H.date})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"font-medium",children:H.amount}),r.jsx(qt,{className:fe(H.status),children:H.status})]})]},H.id))})})]})}),r.jsx(Er,{value:"bill-management",className:"space-y-6",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[r.jsxs(Fe,{children:[r.jsx(qe,{children:r.jsx(He,{children:"Pending Bills"})}),r.jsxs(Ue,{children:[r.jsx("div",{className:"text-3xl font-bold",children:"12"}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Total: ",ot(245e3,n)]})]})]}),r.jsxs(Fe,{children:[r.jsx(qe,{children:r.jsx(He,{children:"Overdue Bills"})}),r.jsxs(Ue,{children:[r.jsx("div",{className:"text-3xl font-bold text-red-600",children:"3"}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Total: ",ot(45e3,n)]})]})]}),r.jsxs(Fe,{children:[r.jsx(qe,{children:r.jsx(He,{children:"Paid This Month"})}),r.jsxs(Ue,{children:[r.jsx("div",{className:"text-3xl font-bold text-green-600",children:ot(89e4,n)}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"45 bills processed"})]})]})]})})]})]})}function kM({context:n}){const[e,t]=C.useState(!1),[s,i]=C.useState(!1),[o,c]=C.useState([{role:"assistant",content:`Hello! I'm your EaziBook AI Financial & Business Consultant. I can help you with accounting, tax compliance, inventory management, payroll, and business strategy. How can I assist you today?

 Note: AI features require Supabase Edge Functions to be deployed with OpenAI API integration. Until then, I can provide limited assistance.`,timestamp:new Date}]),[u,d]=C.useState(""),[h,p]=C.useState(!1),[g]=C.useState(()=>`conv-${Date.now()}`),[w,x]=C.useState(null),[S]=C.useState(!1),_=C.useRef(null);C.useEffect(()=>{_.current?.scrollIntoView({behavior:"smooth"})},[o]);const k=()=>{d("What are the key financial metrics I should track for my business?")},b=async()=>{if(!u.trim()||h)return;const P={role:"user",content:u,timestamp:new Date};c(T=>[...T,P]),d(""),p(!0),x(null);try{if(!S){c(T=>[...T,{role:"assistant",content:`I apologize, but I cannot process your request at the moment. The AI Chat feature requires Supabase Edge Functions to be deployed with OpenAI API integration.

To enable this feature, please:
1. Deploy the Supabase Edge Functions
2. Configure your OpenAI API key
3. Refer to SUPABASE_SETUP_GUIDE.md for detailed instructions

In the meantime, you can use the other features of EaziBook for your accounting and business management needs.`,timestamp:new Date}]);return}}catch(T){console.error("AI Chat error:",T),x("Failed to get response. Please try again."),c(F=>[...F,{role:"assistant",content:"I apologize, but I encountered an error processing your request. Please try again later.",timestamp:new Date}])}finally{p(!1)}},R=P=>{P.key==="Enter"&&!P.shiftKey&&(P.preventDefault(),b())};return e?r.jsxs("div",{className:`fixed z-50 bg-white rounded-lg shadow-2xl border transition-all duration-300 ${s?"bottom-6 right-6 w-80 h-16":"bottom-6 right-6 w-[400px] h-[600px] max-h-[80vh]"}`,children:[r.jsxs("div",{className:"flex items-center justify-between p-4 border-b bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-t-lg",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("div",{className:"relative",children:[r.jsx(jy,{className:"w-6 h-6"}),r.jsx("span",{className:"absolute -top-1 -right-1 w-3 h-3 bg-green-400 rounded-full border-2 border-white animate-pulse"})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium",children:"AI Consultant"}),r.jsx("p",{className:"text-xs opacity-90",children:"Powered by OpenAI"})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ae,{variant:"ghost",size:"icon",className:"h-8 w-8 text-white hover:bg-white/20",onClick:()=>i(!s),children:s?r.jsx(d3,{className:"h-4 w-4"}):r.jsx(m3,{className:"h-4 w-4"})}),r.jsx(Ae,{variant:"ghost",size:"icon",className:"h-8 w-8 text-white hover:bg-white/20",onClick:()=>t(!1),children:r.jsx(Ur,{className:"h-4 w-4"})})]})]}),!s&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"h-[calc(100%-140px)] overflow-y-auto p-4",children:r.jsxs("div",{className:"space-y-4",children:[o.map((P,T)=>r.jsx("div",{className:`flex ${P.role==="user"?"justify-end":"justify-start"}`,children:r.jsxs("div",{className:`max-w-[85%] rounded-lg px-4 py-2 ${P.role==="user"?"bg-blue-600 text-white":"bg-gray-100 text-gray-900"}`,children:[r.jsx("p",{className:"text-sm whitespace-pre-wrap",children:P.content}),r.jsx("p",{className:`text-xs mt-1 ${P.role==="user"?"text-blue-100":"text-gray-500"}`,children:P.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})},T)),h&&r.jsx("div",{className:"flex justify-start",children:r.jsx("div",{className:"bg-gray-100 rounded-lg px-4 py-3",children:r.jsx(an,{className:"w-5 h-5 text-gray-600 animate-spin"})})}),r.jsx("div",{ref:_})]})}),r.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4 border-t bg-white rounded-b-lg",children:[o.length===1&&r.jsx("div",{className:"mb-2",children:r.jsx("button",{onClick:k,className:"text-xs text-blue-600 hover:text-blue-700 underline",children:"Try an example question"})}),w&&r.jsxs("div",{className:"mb-2 p-2 bg-red-50 border border-red-200 rounded text-xs text-red-800",children:[r.jsx("strong",{children:"Error:"})," ",w]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(Ve,{value:u,onChange:P=>d(P.target.value),onKeyPress:R,placeholder:"Ask me anything about your business...",disabled:h,className:"flex-1"}),r.jsx(Ae,{onClick:b,disabled:h||!u.trim(),className:"bg-blue-600 hover:bg-blue-700",children:h?r.jsx(an,{className:"w-4 h-4 animate-spin"}):r.jsx(O3,{className:"w-4 h-4"})})]})]})]})]}):r.jsxs("button",{onClick:()=>t(!0),className:"fixed bottom-6 right-6 z-50 w-14 h-14 bg-gradient-to-br from-blue-600 to-purple-600 rounded-full shadow-lg hover:shadow-xl transition-all duration-300 flex items-center justify-center group hover:scale-110","aria-label":"Open AI Chat",children:[r.jsx(jy,{className:"w-7 h-7 text-white"}),r.jsx("span",{className:"absolute -top-1 -right-1 w-4 h-4 bg-green-500 rounded-full border-2 border-white animate-pulse"})]})}function CM(){const[n,e]=C.useState(!1),[t,s]=C.useState(null),[i,o]=C.useState(null),[c,u]=C.useState(null),[d]=C.useState(!1),h=C.useRef(null),p=async S=>{const _=S.target.files?.[0];if(!_)return;if(!_.type.startsWith("image/")){Le.error("Please select an image file");return}const k=new FileReader;if(k.onload=b=>{o(b.target?.result)},k.readAsDataURL(_),d){const b=new FileReader;b.onload=async R=>{(R.target?.result).split(",")[1],await g()},b.readAsDataURL(_)}else Le.info("Image uploaded. Deploy Edge Functions to enable AI processing.")},g=async S=>{e(!0),s(null);try{Le.info("Edge Functions deployment required. See documentation for setup instructions.")}catch(_){console.error("OCR error:",_),Le.error("Failed to process document. Please check Edge Functions configuration.")}finally{e(!1)}},w=()=>{h.current?.click()},x=()=>{t&&(Le.success("Data exported to accounting module"),console.log("Export to accounting:",t))};return r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsxs("div",{children:[r.jsx("h1",{children:"AI-Powered OCR Scanner"}),r.jsx("p",{className:"text-muted-foreground",children:"Scan invoices and receipts with automatic data extraction and categorization"})]}),r.jsxs(oc,{className:"border-blue-200 bg-blue-50",children:[r.jsx(YS,{className:"h-4 w-4 text-blue-600"}),r.jsxs(lc,{className:"text-sm",children:[r.jsx("strong",{children:"Setup Required:"})," This OCR scanner requires Supabase Edge Functions with OpenAI API integration."," ","The feature will be available once Edge Functions are deployed."," ",r.jsx("a",{href:"#",className:"underline",children:"View setup guide"})]})]}),!d&&r.jsxs(oc,{className:"border-yellow-200 bg-yellow-50",children:[r.jsx(ua,{className:"h-4 w-4 text-yellow-600"}),r.jsxs(lc,{className:"text-sm",children:[r.jsx("strong",{children:"Feature Unavailable:"})," Edge Functions are not deployed. You can upload images to preview them, but AI extraction will not work until Edge Functions are configured."]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsx(Fe,{className:"p-6",children:r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{children:"Upload Document"}),r.jsx("input",{ref:h,type:"file",accept:"image/*",onChange:p,className:"hidden"}),r.jsx("div",{className:"border-2 border-dashed rounded-lg p-8 text-center space-y-4",children:i?r.jsxs("div",{className:"space-y-4",children:[r.jsx("img",{src:i,alt:"Preview",className:"max-h-64 mx-auto rounded-lg shadow-md"}),r.jsxs(Ae,{onClick:w,variant:"outline",className:"w-full",children:[r.jsx(wd,{className:"w-4 h-4 mr-2"}),"Choose Different Image"]})]}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"flex justify-center",children:r.jsx("div",{className:"w-16 h-16 bg-blue-50 rounded-full flex items-center justify-center",children:r.jsx(pS,{className:"w-8 h-8 text-blue-600"})})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium mb-1",children:"Upload Invoice or Receipt"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"JPG, PNG, or PDF format"})]}),r.jsxs(Ae,{onClick:w,className:"w-full",children:[r.jsx(wd,{className:"w-4 h-4 mr-2"}),"Select Image"]})]})}),n&&r.jsxs("div",{className:"flex items-center justify-center gap-2 p-4 bg-blue-50 rounded-lg",children:[r.jsx(an,{className:"w-5 h-5 animate-spin text-blue-600"}),r.jsx("span",{className:"text-sm font-medium text-blue-900",children:"Processing with AI..."})]})]})}),r.jsx(Fe,{className:"p-6",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{children:"Extracted Data"}),t&&r.jsxs(qt,{variant:t.confidence==="high"?"default":t.confidence==="medium"?"secondary":"outline",children:[t.confidence||"unknown"," confidence"]})]}),!t&&!n&&r.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[r.jsx(vs,{className:"w-12 h-12 mx-auto mb-3 opacity-20"}),r.jsx("p",{className:"text-sm",children:"Upload a document to see extracted data"})]}),t&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(Re,{className:"text-xs text-muted-foreground",children:"Document Type"}),r.jsx("p",{className:"font-medium capitalize",children:t.documentType||"N/A"})]}),r.jsxs("div",{children:[r.jsx(Re,{className:"text-xs text-muted-foreground",children:"Date"}),r.jsx("p",{className:"font-medium",children:t.date||"N/A"})]}),r.jsxs("div",{children:[r.jsx(Re,{className:"text-xs text-muted-foreground",children:"Invoice Number"}),r.jsx("p",{className:"font-medium",children:t.invoiceNumber||"N/A"})]}),r.jsxs("div",{children:[r.jsx(Re,{className:"text-xs text-muted-foreground",children:"Category"}),r.jsx(qt,{variant:"secondary",children:t.category||"Uncategorized"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Re,{className:"text-xs text-muted-foreground",children:"Vendor Information"}),r.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg space-y-1",children:[r.jsx("p",{className:"font-medium",children:t.vendorName||"N/A"}),t.vendorGSTIN&&r.jsxs("p",{className:"text-sm text-muted-foreground",children:["GSTIN: ",t.vendorGSTIN]}),t.vendorAddress&&r.jsx("p",{className:"text-sm text-muted-foreground",children:t.vendorAddress})]})]}),t.items&&t.items.length>0&&r.jsxs("div",{className:"space-y-2",children:[r.jsx(Re,{className:"text-xs text-muted-foreground",children:"Items"}),r.jsx("div",{className:"border rounded-lg overflow-hidden",children:r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"text-left p-2 font-medium",children:"Description"}),r.jsx("th",{className:"text-right p-2 font-medium",children:"Qty"}),r.jsx("th",{className:"text-right p-2 font-medium",children:"Amount"})]})}),r.jsx("tbody",{children:t.items.map((S,_)=>r.jsxs("tr",{className:"border-t",children:[r.jsx("td",{className:"p-2",children:S.description}),r.jsx("td",{className:"p-2 text-right",children:S.quantity}),r.jsxs("td",{className:"p-2 text-right",children:[t.currency||""," ",S.amount.toFixed(2)]})]},_))})]})})]}),r.jsxs("div",{className:"pt-4 border-t space-y-2",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-muted-foreground",children:"Subtotal"}),r.jsxs("span",{className:"font-medium",children:[t.currency||""," ",t.subtotal?.toFixed(2)||"0.00"]})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-muted-foreground",children:"Tax"}),r.jsxs("span",{className:"font-medium",children:[t.currency||""," ",t.taxAmount?.toFixed(2)||"0.00"]})]}),r.jsxs("div",{className:"flex justify-between pt-2 border-t",children:[r.jsx("span",{className:"font-medium",children:"Total"}),r.jsxs("span",{className:"font-medium",children:[t.currency||""," ",t.totalAmount?.toFixed(2)||"0.00"]})]})]}),r.jsxs("div",{className:"flex gap-2 pt-4",children:[r.jsxs(Ae,{onClick:x,className:"flex-1",children:[r.jsx(AS,{className:"w-4 h-4 mr-2"}),"Export to Accounting"]}),r.jsx(Ae,{variant:"outline",onClick:w,children:r.jsx(wd,{className:"w-4 h-4"})})]})]})]})})]}),r.jsxs(Fe,{className:"p-6",children:[r.jsx("h3",{className:"mb-4",children:"Recent Scans"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"View and manage your previously scanned documents"})]})]})}function Nh({children:n,feature:e,requiredPlan:t="premium",onUpgrade:s}){const{plan:i,setPlan:o,features:c}=wu();if((()=>{const x=["free","starter","professional","premium"],S=x.indexOf(i),_=x.indexOf(t);return S>=_})())return r.jsx(r.Fragment,{children:n});const d=x=>{switch(x){case"premium":return r.jsx(xi,{className:"w-6 h-6"});case"professional":return r.jsx(Ch,{className:"w-6 h-6"});case"starter":return r.jsx(iu,{className:"w-6 h-6"});default:return r.jsx(Lh,{className:"w-6 h-6"})}},h=x=>({free:"Free",starter:"Starter",professional:"Professional",premium:"Premium"})[x],p=x=>({free:"0",starter:"5,000",professional:"10,000",premium:"15,000"})[x],g=x=>{switch(x){case"starter":return["50 invoices & bills per month","Company branding on invoices","Basic accounting features","Multi-currency support","Basic reports"];case"professional":return["Unlimited invoices & bills","Company branding","Full accounting & ledger","Inventory management","Tax compliance tools","Advanced reports & analytics"];case"premium":return["AI-Powered OCR Scanner","AI Financial Consultant Bot","Unlimited invoices & bills","Full accounting & ledger","Inventory management","Tax compliance tools","Payroll processing","Priority support"];default:return[]}},w=()=>{s?s():o(t)};return r.jsx("div",{className:"p-6",children:r.jsxs(Fe,{className:"max-w-2xl mx-auto",children:[r.jsxs(qe,{children:[r.jsx("div",{className:"flex items-center justify-between mb-2",children:r.jsxs(qt,{variant:"secondary",className:"gap-1",children:[r.jsx(Lh,{className:"w-3 h-3"}),h(t)," Feature"]})}),r.jsxs(He,{className:"flex items-center gap-2",children:[d(t),"Unlock ",e]}),r.jsxs(ur,{children:["This feature is available on the ",h(t)," plan"]})]}),r.jsxs(Ue,{className:"space-y-6",children:[r.jsx("div",{className:"p-4 bg-muted rounded-lg",children:r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[d(t),r.jsxs("span",{className:"font-semibold",children:[h(t)," Plan"]})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-2xl font-bold",children:p(t)}),r.jsx("span",{className:"text-sm text-muted-foreground",children:"/month"})]})]})}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Upgrade to ",h(t)," to access:"]}),r.jsx("ul",{className:"space-y-2",children:g(t).map((x,S)=>r.jsxs("li",{className:"flex items-center gap-2 text-sm",children:[r.jsx(Rt,{className:"w-4 h-4 text-green-600 flex-shrink-0"}),r.jsx("span",{children:x})]},S))})]}),r.jsxs(Ae,{onClick:w,className:"w-full gap-2",size:"lg",children:[d(t),"Upgrade to ",h(t)]}),r.jsx("p",{className:"text-xs text-center text-muted-foreground",children:"You can change or cancel your plan at any time"})]})]})})}function AM(){const{currency:n}=fa(),[e,t]=C.useState([]),[s,i]=C.useState(!0),[o,c]=C.useState(""),[u,d]=C.useState("all"),[h,p]=C.useState(!1),[g,w]=C.useState(!1),[x,S]=C.useState(!1),[_,k]=C.useState(!1),[b,R]=C.useState(null),[P,T]=C.useState({name:"",email:"",phone:"",company_name:"",address:"",city:"",country:"Nigeria",tax_id:"",credit_limit:0}),[F,ne]=C.useState({name:"",email:"",phone:"",company_name:"",address:"",city:"",country:"Nigeria",tax_id:"",credit_limit:0});C.useEffect(()=>{ee()},[]);const ee=async()=>{i(!0);try{const re=await rf();t(re)}catch(re){console.error("Error loading customers:",re),Le.error("Failed to load customers")}finally{i(!1)}},K=e.filter(re=>{const ue=re.name?.toLowerCase().includes(o.toLowerCase())||re.email?.toLowerCase().includes(o.toLowerCase())||re.company_name?.toLowerCase().includes(o.toLowerCase()),fe=u==="all"||re.status===u;return ue&&fe}),Y=async()=>{if(!P.name||!P.email){Le.error("Please fill in required fields");return}S(!0);try{const re=await dN({...P,status:"active"});re?(Le.success("Customer added successfully"),t([re,...e]),p(!1),T({name:"",email:"",phone:"",company_name:"",address:"",city:"",country:"Nigeria",tax_id:"",credit_limit:0})):Le.error("Failed to add customer")}catch(re){console.error("Error adding customer:",re),Le.error("Failed to add customer")}finally{S(!1)}},q=async re=>{if(confirm("Are you sure you want to delete this customer?"))try{await DR(re)?(Le.success("Customer deleted successfully"),t(e.filter(fe=>fe.id!==re))):Le.error("Failed to delete customer")}catch(ue){console.error("Error deleting customer:",ue),Le.error("Failed to delete customer")}},L=re=>{R(re),ne({name:re.name||"",email:re.email||"",phone:re.phone||"",company_name:re.company_name||"",address:re.address||"",city:re.city||"",country:re.country||"Nigeria",tax_id:re.tax_id||"",credit_limit:re.credit_limit||0}),w(!0)},z=async()=>{if(!b||!F.name||!F.email){Le.error("Please fill in required fields");return}k(!0);try{const re=await OR(b.id,F);re?(Le.success("Customer updated successfully"),t(e.map(ue=>ue.id===b.id?re:ue)),w(!1),R(null)):Le.error("Failed to update customer")}catch(re){console.error("Error updating customer:",re),Le.error("Failed to update customer")}finally{k(!1)}},U=async re=>{if(c(re),!re.trim()){ee();return}try{const ue=await MR(re);t(ue)}catch(ue){console.error("Error searching customers:",ue),Le.error("Search failed")}},te=()=>{Le.success("Exporting customers to CSV...")};return s?r.jsx("div",{className:"p-6 space-y-6",children:r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsxs("div",{className:"text-center",children:[r.jsx(an,{className:"w-8 h-8 animate-spin mx-auto mb-2"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading customers..."})]})})}):r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx("h1",{children:"Customers"}),r.jsxs(qt,{variant:"secondary",children:[e.length," Total"]})]}),r.jsx("p",{className:"text-muted-foreground",children:"Manage your customer database and client information"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(Ae,{variant:"outline",onClick:te,className:"gap-2",children:[r.jsx(Un,{className:"w-4 h-4"}),"Export"]}),r.jsxs(fl,{open:h,onOpenChange:p,children:[r.jsx(vc,{asChild:!0,children:r.jsxs(Ae,{className:"gap-2",children:[r.jsx(la,{className:"w-4 h-4"}),"Add Customer"]})}),r.jsxs(bo,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsxs(pl,{children:[r.jsx(jo,{children:"Add New Customer"}),r.jsx(mu,{children:"Enter customer details to add them to your database"})]}),r.jsxs("div",{className:"grid gap-4 py-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"grid gap-2",children:[r.jsx(Re,{htmlFor:"name",children:"Customer Name *"}),r.jsx(Ve,{id:"name",value:P.name,onChange:re=>T({...P,name:re.target.value}),placeholder:"John Doe"})]}),r.jsxs("div",{className:"grid gap-2",children:[r.jsx(Re,{htmlFor:"company",children:"Company Name"}),r.jsx(Ve,{id:"company",value:P.company_name,onChange:re=>T({...P,company_name:re.target.value}),placeholder:"ABC Corporation"})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"grid gap-2",children:[r.jsx(Re,{htmlFor:"email",children:"Email *"}),r.jsx(Ve,{id:"email",type:"email",value:P.email,onChange:re=>T({...P,email:re.target.value}),placeholder:"john@example.com"})]}),r.jsxs("div",{className:"grid gap-2",children:[r.jsx(Re,{htmlFor:"phone",children:"Phone"}),r.jsx(Ve,{id:"phone",value:P.phone,onChange:re=>T({...P,phone:re.target.value}),placeholder:"+234 803 456 7890"})]})]}),r.jsxs("div",{className:"grid gap-2",children:[r.jsx(Re,{htmlFor:"address",children:"Address"}),r.jsx(Ve,{id:"address",value:P.address,onChange:re=>T({...P,address:re.target.value}),placeholder:"123 Business Street"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"grid gap-2",children:[r.jsx(Re,{htmlFor:"city",children:"City"}),r.jsx(Ve,{id:"city",value:P.city,onChange:re=>T({...P,city:re.target.value}),placeholder:"Lagos"})]}),r.jsxs("div",{className:"grid gap-2",children:[r.jsx(Re,{htmlFor:"country",children:"Country"}),r.jsxs(wr,{value:P.country,onValueChange:re=>T({...P,country:re}),children:[r.jsx(jr,{id:"country",children:r.jsx(br,{placeholder:"Select country"})}),r.jsxs(Nr,{children:[r.jsx(Te,{value:"Nigeria",children:"Nigeria"}),r.jsx(Te,{value:"Ghana",children:"Ghana"}),r.jsx(Te,{value:"South Africa",children:"South Africa"}),r.jsx(Te,{value:"Kenya",children:"Kenya"}),r.jsx(Te,{value:"USA",children:"United States"})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"grid gap-2",children:[r.jsx(Re,{htmlFor:"taxId",children:"Tax ID / GST Number"}),r.jsx(Ve,{id:"taxId",value:P.tax_id,onChange:re=>T({...P,tax_id:re.target.value}),placeholder:"TIN-12345678"})]}),r.jsxs("div",{className:"grid gap-2",children:[r.jsxs(Re,{htmlFor:"creditLimit",children:["Credit Limit (",Up(n),")"]}),r.jsx(Ve,{id:"creditLimit",type:"number",value:P.credit_limit,onChange:re=>T({...P,credit_limit:parseFloat(re.target.value)||0}),placeholder:"0"})]})]})]}),r.jsxs(au,{children:[r.jsx(Ae,{variant:"outline",onClick:()=>p(!1),children:"Cancel"}),r.jsx(Ae,{onClick:Y,disabled:x,children:x?r.jsxs(r.Fragment,{children:[r.jsx(an,{className:"w-4 h-4 mr-2 animate-spin"}),"Adding..."]}):"Add Customer"})]})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[r.jsxs(Fe,{children:[r.jsxs(qe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(He,{className:"text-sm font-medium",children:"Total Customers"}),r.jsx(vi,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsxs(Ue,{children:[r.jsx("div",{className:"font-bold",children:e.length}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Active clients"})]})]}),r.jsxs(Fe,{children:[r.jsxs(qe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(He,{className:"text-sm font-medium",children:"Total Outstanding"}),r.jsx(da,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsxs(Ue,{children:[r.jsx("div",{className:"font-bold",children:ot(e.reduce((re,ue)=>re+ue.balance,0),n)}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Pending payments"})]})]}),r.jsxs(Fe,{children:[r.jsxs(qe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(He,{className:"text-sm font-medium",children:"Total Invoices"}),r.jsx(vs,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsxs(Ue,{children:[r.jsx("div",{className:"font-bold",children:e.length>0?e.length*5:0}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"All time"})]})]}),r.jsxs(Fe,{children:[r.jsxs(qe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(He,{className:"text-sm font-medium",children:"Active Status"}),r.jsx(vi,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsxs(Ue,{children:[r.jsx("div",{className:"font-bold",children:e.filter(re=>re.status==="active").length}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Active customers"})]})]})]}),r.jsxs(Fe,{children:[r.jsx(qe,{children:r.jsxs(He,{className:"flex items-center gap-2",children:[r.jsx(vi,{className:"w-5 h-5"}),"Customer List"]})}),r.jsxs(Ue,{children:[r.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[r.jsxs("div",{className:"flex-1 relative",children:[r.jsx(vu,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),r.jsx(Ve,{placeholder:"Search customers by name, email, or company...",value:o,onChange:re=>U(re.target.value),className:"pl-10"})]}),r.jsxs(wr,{value:u,onValueChange:d,children:[r.jsx(jr,{className:"w-full md:w-48",children:r.jsx(br,{placeholder:"Filter by status"})}),r.jsxs(Nr,{children:[r.jsx(Te,{value:"all",children:"All Customers"}),r.jsx(Te,{value:"active",children:"Active Only"}),r.jsx(Te,{value:"inactive",children:"Inactive Only"})]})]})]}),r.jsxs(yi,{children:[r.jsx(wi,{children:r.jsxs(vr,{children:[r.jsx(Ze,{children:"Name"}),r.jsx(Ze,{children:"Company"}),r.jsx(Ze,{children:"Contact"}),r.jsx(Ze,{children:"Location"}),r.jsx(Ze,{className:"text-right",children:"Outstanding"}),r.jsx(Ze,{children:"Status"}),r.jsx(Ze,{className:"text-right",children:"Actions"})]})}),r.jsx(bi,{children:K.length===0?r.jsx(vr,{children:r.jsx(Ye,{colSpan:7,className:"text-center py-8",children:r.jsxs("div",{className:"flex flex-col items-center gap-2",children:[r.jsx(vi,{className:"w-12 h-12 text-muted-foreground"}),r.jsx("p",{className:"text-muted-foreground",children:o?"No customers found matching your search":"No customers yet. Add your first customer to get started."})]})})}):K.map(re=>r.jsxs(vr,{children:[r.jsx(Ye,{children:r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:re.name}),r.jsx("p",{className:"text-sm text-muted-foreground",children:re.email})]})}),r.jsx(Ye,{children:re.company_name||"-"}),r.jsx(Ye,{children:r.jsx("div",{className:"text-sm",children:r.jsxs("p",{className:"flex items-center gap-1",children:[r.jsx(_w,{className:"w-3 h-3"}),re.phone||"-"]})})}),r.jsx(Ye,{children:r.jsx("div",{className:"text-sm",children:r.jsxs("p",{className:"flex items-center gap-1",children:[r.jsx(Nw,{className:"w-3 h-3"}),re.city||"-",", ",re.country||"-"]})})}),r.jsx(Ye,{className:"text-right font-medium",children:ot(re.balance||0,n)}),r.jsx(Ye,{children:r.jsx(qt,{variant:re.status==="active"?"default":"secondary",children:re.status})}),r.jsx(Ye,{className:"text-right",children:r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(Ae,{variant:"ghost",size:"sm",onClick:()=>L(re),children:r.jsx(s0,{className:"w-4 h-4"})}),r.jsx(Ae,{variant:"ghost",size:"sm",onClick:()=>q(re.id),children:r.jsx(yu,{className:"w-4 h-4"})})]})})]},re.id))})]})]})]}),r.jsx(fl,{open:g,onOpenChange:w,children:r.jsxs(bo,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsxs(pl,{children:[r.jsx(jo,{children:"Edit Customer"}),r.jsx(mu,{children:"Update customer details"})]}),r.jsxs("div",{className:"grid gap-4 py-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"grid gap-2",children:[r.jsx(Re,{htmlFor:"edit-name",children:"Customer Name *"}),r.jsx(Ve,{id:"edit-name",value:F.name,onChange:re=>ne({...F,name:re.target.value}),placeholder:"John Doe"})]}),r.jsxs("div",{className:"grid gap-2",children:[r.jsx(Re,{htmlFor:"edit-company",children:"Company Name"}),r.jsx(Ve,{id:"edit-company",value:F.company_name,onChange:re=>ne({...F,company_name:re.target.value}),placeholder:"ABC Corporation"})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"grid gap-2",children:[r.jsx(Re,{htmlFor:"edit-email",children:"Email *"}),r.jsx(Ve,{id:"edit-email",type:"email",value:F.email,onChange:re=>ne({...F,email:re.target.value}),placeholder:"john@example.com"})]}),r.jsxs("div",{className:"grid gap-2",children:[r.jsx(Re,{htmlFor:"edit-phone",children:"Phone"}),r.jsx(Ve,{id:"edit-phone",value:F.phone,onChange:re=>ne({...F,phone:re.target.value}),placeholder:"+234 803 456 7890"})]})]}),r.jsxs("div",{className:"grid gap-2",children:[r.jsx(Re,{htmlFor:"edit-address",children:"Address"}),r.jsx(Ve,{id:"edit-address",value:F.address,onChange:re=>ne({...F,address:re.target.value}),placeholder:"123 Business Street"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"grid gap-2",children:[r.jsx(Re,{htmlFor:"edit-city",children:"City"}),r.jsx(Ve,{id:"edit-city",value:F.city,onChange:re=>ne({...F,city:re.target.value}),placeholder:"Lagos"})]}),r.jsxs("div",{className:"grid gap-2",children:[r.jsx(Re,{htmlFor:"edit-country",children:"Country"}),r.jsxs(wr,{value:F.country,onValueChange:re=>ne({...F,country:re}),children:[r.jsx(jr,{id:"edit-country",children:r.jsx(br,{placeholder:"Select country"})}),r.jsxs(Nr,{children:[r.jsx(Te,{value:"Nigeria",children:"Nigeria"}),r.jsx(Te,{value:"Ghana",children:"Ghana"}),r.jsx(Te,{value:"South Africa",children:"South Africa"}),r.jsx(Te,{value:"Kenya",children:"Kenya"}),r.jsx(Te,{value:"USA",children:"United States"})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"grid gap-2",children:[r.jsx(Re,{htmlFor:"edit-taxId",children:"Tax ID / GST Number"}),r.jsx(Ve,{id:"edit-taxId",value:F.tax_id,onChange:re=>ne({...F,tax_id:re.target.value}),placeholder:"TIN-12345678"})]}),r.jsxs("div",{className:"grid gap-2",children:[r.jsxs(Re,{htmlFor:"edit-creditLimit",children:["Credit Limit (",Up(n),")"]}),r.jsx(Ve,{id:"edit-creditLimit",type:"number",value:F.credit_limit,onChange:re=>ne({...F,credit_limit:parseFloat(re.target.value)||0}),placeholder:"0"})]})]})]}),r.jsxs(au,{children:[r.jsx(Ae,{variant:"outline",onClick:()=>w(!1),children:"Cancel"}),r.jsx(Ae,{onClick:z,disabled:_,children:_?r.jsxs(r.Fragment,{children:[r.jsx(an,{className:"w-4 h-4 mr-2 animate-spin"}),"Updating..."]}):"Update Customer"})]})]})})]})}function EM(){const{currency:n}=fa(),[e,t]=C.useState("list"),[s,i]=C.useState([]),[o,c]=C.useState(!0),[u,d]=C.useState(""),[h,p]=C.useState("all"),[g,w]=C.useState("all"),[x,S]=C.useState(!1),[_,k]=C.useState(!1),[b,R]=C.useState(0),[P,T]=C.useState({name:"",sku:"",category:"",type:"product",description:"",price:0,cost:0,stock_quantity:0,low_stock_threshold:10,tax_rate:18,unit:"piece"}),F=["Electronics","Office","Services","Hardware","Software"];C.useEffect(()=>{ne(),ee()},[]);const ne=async()=>{c(!0);try{const U=await Vd();i(U)}catch(U){console.error("Error loading products:",U),Le.error("Failed to load products")}finally{c(!1)}},ee=async()=>{try{const U=await fN();R(U.length)}catch(U){console.error("Error loading low stock:",U)}},K=s.filter(U=>{const te=U.name?.toLowerCase().includes(u.toLowerCase())||U.sku?.toLowerCase().includes(u.toLowerCase())||U.category?.toLowerCase().includes(u.toLowerCase()),re=h==="all"||U.category===h,ue=g==="all"||U.type===g;return te&&re&&ue}),Y=async()=>{if(!P.name||!P.price){Le.error("Please fill in required fields");return}k(!0);try{const U=await BR({...P,status:"active"});U?(Le.success("Product added successfully"),i([U,...s]),S(!1),T({name:"",sku:"",category:"",type:"product",description:"",price:0,cost:0,stock_quantity:0,low_stock_threshold:10,tax_rate:18,unit:"piece"}),ee()):(console.error("Product creation returned null - check database connection and RLS policies"),Le.error("Failed to add product. Check browser console (F12) for details.",{duration:5e3}))}catch(U){console.error("Error adding product:",U);const te=U?.message||"Failed to add product";te.includes("company")?Le.error("Setup Error: Your profile is missing company information. See FINAL_FIX_GUIDE.md",{duration:7e3}):te.includes("policy")||te.includes("RLS")?Le.error("Permission Error: Database policies not set up. Run COMPLETE_RLS_AND_SETUP_FIX.sql",{duration:7e3}):Le.error(`Error: ${te}`,{duration:5e3})}finally{k(!1)}},q=async U=>{if(confirm("Are you sure you want to delete this product?"))try{await UR(U)?(Le.success("Product deleted successfully"),i(s.filter(re=>re.id!==U)),ee()):Le.error("Failed to delete product")}catch(te){console.error("Error deleting product:",te),Le.error("Failed to delete product")}},L=async U=>{if(d(U),!U.trim()){ne();return}try{const te=await $R(U);i(te)}catch(te){console.error("Error searching products:",te),Le.error("Search failed")}},z=()=>s.reduce((U,te)=>U+te.price*(te.stock_quantity||0),0);return o?r.jsx("div",{className:"p-6 space-y-6",children:r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsxs("div",{className:"text-center",children:[r.jsx(an,{className:"w-8 h-8 animate-spin mx-auto mb-2"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading products..."})]})})}):r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx("h1",{children:"Products & Services"}),r.jsxs(qt,{variant:"secondary",children:[s.length," Items"]})]}),r.jsx("p",{className:"text-muted-foreground",children:"Manage your product catalog and service offerings"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(Ae,{variant:"outline",onClick:()=>Le.success("Export feature coming soon"),className:"gap-2",children:[r.jsx(Un,{className:"w-4 h-4"}),"Export"]}),r.jsxs(fl,{open:x,onOpenChange:S,children:[r.jsx(vc,{asChild:!0,children:r.jsxs(Ae,{className:"gap-2",children:[r.jsx(la,{className:"w-4 h-4"}),"Add Product"]})}),r.jsxs(bo,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsxs(pl,{children:[r.jsx(jo,{children:"Add New Product/Service"}),r.jsx(mu,{children:"Enter product or service details to add to your catalog"})]}),r.jsxs("div",{className:"grid gap-4 py-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"grid gap-2",children:[r.jsx(Re,{htmlFor:"productName",children:"Product/Service Name *"}),r.jsx(Ve,{id:"productName",value:P.name,onChange:U=>T({...P,name:U.target.value}),placeholder:"Premium Widget A"})]}),r.jsxs("div",{className:"grid gap-2",children:[r.jsx(Re,{htmlFor:"sku",children:"SKU/Code *"}),r.jsx(Ve,{id:"sku",value:P.sku,onChange:U=>T({...P,sku:U.target.value.toUpperCase()}),placeholder:"PWA-001"})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"grid gap-2",children:[r.jsx(Re,{htmlFor:"type",children:"Type"}),r.jsxs(wr,{value:P.type,onValueChange:U=>T({...P,type:U}),children:[r.jsx(jr,{id:"type",children:r.jsx(br,{placeholder:"Select type"})}),r.jsxs(Nr,{children:[r.jsx(Te,{value:"product",children:"Product"}),r.jsx(Te,{value:"service",children:"Service"})]})]})]}),r.jsxs("div",{className:"grid gap-2",children:[r.jsx(Re,{htmlFor:"category",children:"Category"}),r.jsxs(wr,{value:P.category,onValueChange:U=>T({...P,category:U}),children:[r.jsx(jr,{id:"category",children:r.jsx(br,{placeholder:"Select category"})}),r.jsx(Nr,{children:F.map(U=>r.jsx(Te,{value:U,children:U},U))})]})]})]}),r.jsxs("div",{className:"grid gap-2",children:[r.jsx(Re,{htmlFor:"description",children:"Description"}),r.jsx(Od,{id:"description",value:P.description,onChange:U=>T({...P,description:U.target.value}),placeholder:"Product description...",rows:3})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsxs("div",{className:"grid gap-2",children:[r.jsx(Re,{htmlFor:"price",children:"Selling Price ()"}),r.jsx(Ve,{id:"price",type:"number",value:P.price,onChange:U=>T({...P,price:parseFloat(U.target.value)||0}),placeholder:"15000"})]}),r.jsxs("div",{className:"grid gap-2",children:[r.jsx(Re,{htmlFor:"cost",children:"Cost Price ()"}),r.jsx(Ve,{id:"cost",type:"number",value:P.cost,onChange:U=>T({...P,cost:parseFloat(U.target.value)||0}),placeholder:"10000"})]}),r.jsxs("div",{className:"grid gap-2",children:[r.jsx(Re,{htmlFor:"taxRate",children:"Tax Rate (%)"}),r.jsx(Ve,{id:"taxRate",type:"number",value:P.tax_rate,onChange:U=>T({...P,tax_rate:parseFloat(U.target.value)||0}),placeholder:"18"})]})]}),P.type==="product"&&r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsxs("div",{className:"grid gap-2",children:[r.jsx(Re,{htmlFor:"stock",children:"Stock Quantity"}),r.jsx(Ve,{id:"stock",type:"number",value:P.stock_quantity,onChange:U=>T({...P,stock_quantity:parseInt(U.target.value)||0}),placeholder:"45"})]}),r.jsxs("div",{className:"grid gap-2",children:[r.jsx(Re,{htmlFor:"threshold",children:"Low Stock Alert"}),r.jsx(Ve,{id:"threshold",type:"number",value:P.low_stock_threshold,onChange:U=>T({...P,low_stock_threshold:parseInt(U.target.value)||0}),placeholder:"10"})]}),r.jsxs("div",{className:"grid gap-2",children:[r.jsx(Re,{htmlFor:"unit",children:"Unit"}),r.jsxs(wr,{value:P.unit,onValueChange:U=>T({...P,unit:U}),children:[r.jsx(jr,{id:"unit",children:r.jsx(br,{placeholder:"Select unit"})}),r.jsxs(Nr,{children:[r.jsx(Te,{value:"piece",children:"Piece"}),r.jsx(Te,{value:"box",children:"Box"}),r.jsx(Te,{value:"bundle",children:"Bundle"}),r.jsx(Te,{value:"kg",children:"Kilogram"}),r.jsx(Te,{value:"liter",children:"Liter"}),r.jsx(Te,{value:"meter",children:"Meter"})]})]})]})]}),P.type==="service"&&r.jsxs("div",{className:"grid gap-2",children:[r.jsx(Re,{htmlFor:"serviceUnit",children:"Service Unit"}),r.jsxs(wr,{value:P.unit,onValueChange:U=>T({...P,unit:U}),children:[r.jsx(jr,{id:"serviceUnit",children:r.jsx(br,{placeholder:"Select unit"})}),r.jsxs(Nr,{children:[r.jsx(Te,{value:"hour",children:"Hour"}),r.jsx(Te,{value:"day",children:"Day"}),r.jsx(Te,{value:"project",children:"Project"}),r.jsx(Te,{value:"month",children:"Month"})]})]})]})]}),r.jsxs(au,{children:[r.jsx(Ae,{variant:"outline",onClick:()=>S(!1),children:"Cancel"}),r.jsx(Ae,{onClick:Y,disabled:_,children:_?r.jsxs(r.Fragment,{children:[r.jsx(an,{className:"w-4 h-4 mr-2 animate-spin"}),"Adding..."]}):"Add to Catalog"})]})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[r.jsxs(Fe,{children:[r.jsxs(qe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(He,{className:"text-sm font-medium",children:"Total Products"}),r.jsx(Fa,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsxs(Ue,{children:[r.jsx("div",{className:"font-bold",children:s.filter(U=>U.type==="product").length}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Physical items"})]})]}),r.jsxs(Fe,{children:[r.jsxs(qe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(He,{className:"text-sm font-medium",children:"Total Services"}),r.jsx(Fa,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsxs(Ue,{children:[r.jsx("div",{className:"font-bold",children:s.filter(U=>U.type==="service").length}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Service offerings"})]})]}),r.jsxs(Fe,{children:[r.jsxs(qe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(He,{className:"text-sm font-medium",children:"Inventory Value"}),r.jsx(da,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsxs(Ue,{children:[r.jsx("div",{className:"font-bold",children:ot(z(),n)}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Total stock value"})]})]}),r.jsxs(Fe,{children:[r.jsxs(qe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(He,{className:"text-sm font-medium",children:"Low Stock Alerts"}),r.jsx(Fa,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsxs(Ue,{children:[r.jsx("div",{className:"font-bold text-destructive",children:b}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Items need restocking"})]})]})]}),r.jsxs(Fe,{children:[r.jsx(qe,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs(He,{className:"flex items-center gap-2",children:[r.jsx(Fa,{className:"w-5 h-5"}),"Catalog"]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(Ae,{variant:e==="list"?"default":"outline",size:"sm",onClick:()=>t("list"),children:r.jsx(Ap,{className:"w-4 h-4"})}),r.jsx(Ae,{variant:e==="grid"?"default":"outline",size:"sm",onClick:()=>t("grid"),children:r.jsx(GS,{className:"w-4 h-4"})})]})]})}),r.jsxs(Ue,{children:[r.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[r.jsxs("div",{className:"flex-1 relative",children:[r.jsx(vu,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),r.jsx(Ve,{placeholder:"Search products by name, SKU, or category...",value:u,onChange:U=>L(U.target.value),className:"pl-10"})]}),r.jsxs(wr,{value:h,onValueChange:p,children:[r.jsx(jr,{className:"w-full md:w-48",children:r.jsx(br,{placeholder:"Filter by category"})}),r.jsxs(Nr,{children:[r.jsx(Te,{value:"all",children:"All Categories"}),F.map(U=>r.jsx(Te,{value:U,children:U},U))]})]}),r.jsxs(wr,{value:g,onValueChange:w,children:[r.jsx(jr,{className:"w-full md:w-48",children:r.jsx(br,{placeholder:"Filter by type"})}),r.jsxs(Nr,{children:[r.jsx(Te,{value:"all",children:"All Types"}),r.jsx(Te,{value:"product",children:"Products Only"}),r.jsx(Te,{value:"service",children:"Services Only"})]})]})]}),r.jsxs(yi,{children:[r.jsx(wi,{children:r.jsxs(vr,{children:[r.jsx(Ze,{children:"Product/Service"}),r.jsx(Ze,{children:"SKU"}),r.jsx(Ze,{children:"Category"}),r.jsx(Ze,{children:"Type"}),r.jsx(Ze,{className:"text-right",children:"Price"}),r.jsx(Ze,{className:"text-center",children:"Stock"}),r.jsx(Ze,{children:"Status"}),r.jsx(Ze,{className:"text-right",children:"Actions"})]})}),r.jsx(bi,{children:K.length===0?r.jsx(vr,{children:r.jsx(Ye,{colSpan:8,className:"text-center py-8",children:r.jsxs("div",{className:"flex flex-col items-center gap-2",children:[r.jsx(Fa,{className:"w-12 h-12 text-muted-foreground"}),r.jsx("p",{className:"text-muted-foreground",children:u?"No products found matching your search":"No products yet. Add your first product to get started."})]})})}):K.map(U=>r.jsxs(vr,{children:[r.jsx(Ye,{children:r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:U.name}),r.jsx("p",{className:"text-sm text-muted-foreground line-clamp-1",children:U.description})]})}),r.jsx(Ye,{className:"font-mono text-sm",children:U.sku}),r.jsx(Ye,{children:r.jsx(qt,{variant:"outline",children:U.category})}),r.jsx(Ye,{children:r.jsx(qt,{variant:U.type==="product"?"default":"secondary",children:U.type})}),r.jsx(Ye,{className:"text-right font-medium",children:ot(U.price,n)}),r.jsx(Ye,{className:"text-center",children:U.type==="product"?r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx("span",{className:(U.stock_quantity||0)<=(U.low_stock_threshold||0)?"text-destructive font-medium":"",children:U.stock_quantity||0}),r.jsxs("span",{className:"text-xs text-muted-foreground",children:[U.unit,"(s)"]})]}):r.jsx("span",{className:"text-muted-foreground",children:"-"})}),r.jsx(Ye,{children:r.jsx(qt,{variant:U.status==="active"?"default":"secondary",children:U.status})}),r.jsx(Ye,{className:"text-right",children:r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(Ae,{variant:"ghost",size:"sm",children:r.jsx(s0,{className:"w-4 h-4"})}),r.jsx(Ae,{variant:"ghost",size:"sm",onClick:()=>q(U.id),children:r.jsx(yu,{className:"w-4 h-4"})})]})})]},U.id))})]})]})]})]})}function PM(){const{currency:n}=fa(),[e,t]=C.useState([]),[s,i]=C.useState(!0),[o,c]=C.useState(!1),[u,d]=C.useState(0),[h,p]=C.useState(0),[g]=C.useState([{id:"1",name:"Global Supplies Inc",email:"contact@globalsupplies.com",phone:"+234 801 234 5678",company:"Global Supplies Inc",address:"45 Warehouse District",city:"Lagos",country:"Nigeria",taxId:"TIN-98765432",paymentTerms:"Net 30",balance:15e5,totalPurchases:32,status:"active"},{id:"2",name:"Tech Parts Limited",email:"sales@techparts.com",phone:"+234 802 345 6789",company:"Tech Parts Limited",address:"12 Industrial Avenue",city:"Abuja",country:"Nigeria",taxId:"TIN-11223344",paymentTerms:"Net 45",balance:23e5,totalPurchases:18,status:"active"},{id:"3",name:"Office Solutions Pro",email:"info@officesolutions.com",phone:"+234 803 456 7890",company:"Office Solutions Pro",address:"78 Business Park",city:"Port Harcourt",country:"Nigeria",taxId:"TIN-55667788",paymentTerms:"Net 15",balance:0,totalPurchases:25,status:"active"}]),[w,x]=C.useState(""),[S,_]=C.useState("all"),[k,b]=C.useState(!1),[R,P]=C.useState({name:"",email:"",phone:"",company_name:"",address:"",city:"",country:"Nigeria",tax_id:"",payment_terms:"Net 30"});C.useEffect(()=>{T(),F()},[]);const T=async()=>{i(!0);try{const L=await tv();t(L)}catch(L){console.error("Error loading suppliers:",L),Le.error("Failed to load suppliers")}finally{i(!1)}},F=async()=>{d(0),p(0)},ne=e.filter(L=>{const z=L.name?.toLowerCase().includes(w.toLowerCase())||L.email?.toLowerCase().includes(w.toLowerCase())||L.company_name?.toLowerCase().includes(w.toLowerCase()),U=S==="all"||L.status===S;return z&&U}),ee=async()=>{if(!R.name||!R.email){Le.error("Please fill in required fields");return}c(!0);try{const L=await f_({...R,status:"active"});L?(Le.success("Supplier added successfully"),t([L,...e]),b(!1),P({name:"",email:"",phone:"",company_name:"",address:"",city:"",country:"Nigeria",tax_id:"",payment_terms:"Net 30"})):Le.error("Failed to add supplier")}catch(L){console.error("Error adding supplier:",L),Le.error("Failed to add supplier")}finally{c(!1)}},K=async L=>{if(confirm("Are you sure you want to delete this supplier?"))try{await hM(L)?(Le.success("Supplier deleted successfully"),t(e.filter(U=>U.id!==L))):Le.error("Failed to delete supplier")}catch(z){console.error("Error deleting supplier:",z),Le.error("Failed to delete supplier")}},Y=async L=>{if(x(L),!L.trim()){T();return}try{const z=await fM(L);t(z)}catch(z){console.error("Error searching suppliers:",z),Le.error("Search failed")}},q=()=>{Le.success("Exporting suppliers to CSV...")};return s?r.jsx("div",{className:"p-6 space-y-6",children:r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsxs("div",{className:"text-center",children:[r.jsx(an,{className:"w-8 h-8 animate-spin mx-auto mb-2"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading suppliers..."})]})})}):r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx("h1",{children:"Suppliers"}),r.jsxs(qt,{variant:"secondary",children:[e.length," Total"]})]}),r.jsx("p",{className:"text-muted-foreground",children:"Manage your supplier and vendor database"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(Ae,{variant:"outline",onClick:q,className:"gap-2",children:[r.jsx(Un,{className:"w-4 h-4"}),"Export"]}),r.jsxs(fl,{open:k,onOpenChange:b,children:[r.jsx(vc,{asChild:!0,children:r.jsxs(Ae,{className:"gap-2",children:[r.jsx(la,{className:"w-4 h-4"}),"Add Supplier"]})}),r.jsxs(bo,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsxs(pl,{children:[r.jsx(jo,{children:"Add New Supplier"}),r.jsx(mu,{children:"Enter supplier details to add them to your database"})]}),r.jsxs("div",{className:"grid gap-4 py-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"grid gap-2",children:[r.jsx(Re,{htmlFor:"name",children:"Contact Name *"}),r.jsx(Ve,{id:"name",value:R.name,onChange:L=>P({...R,name:L.target.value}),placeholder:"John Smith"})]}),r.jsxs("div",{className:"grid gap-2",children:[r.jsx(Re,{htmlFor:"company",children:"Company Name *"}),r.jsx(Ve,{id:"company",value:R.company_name,onChange:L=>P({...R,company_name:L.target.value}),placeholder:"Global Supplies Inc"})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"grid gap-2",children:[r.jsx(Re,{htmlFor:"email",children:"Email *"}),r.jsx(Ve,{id:"email",type:"email",value:R.email,onChange:L=>P({...R,email:L.target.value}),placeholder:"contact@example.com"})]}),r.jsxs("div",{className:"grid gap-2",children:[r.jsx(Re,{htmlFor:"phone",children:"Phone"}),r.jsx(Ve,{id:"phone",value:R.phone,onChange:L=>P({...R,phone:L.target.value}),placeholder:"+234 801 234 5678"})]})]}),r.jsxs("div",{className:"grid gap-2",children:[r.jsx(Re,{htmlFor:"address",children:"Address"}),r.jsx(Ve,{id:"address",value:R.address,onChange:L=>P({...R,address:L.target.value}),placeholder:"45 Warehouse District"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"grid gap-2",children:[r.jsx(Re,{htmlFor:"city",children:"City"}),r.jsx(Ve,{id:"city",value:R.city,onChange:L=>P({...R,city:L.target.value}),placeholder:"Lagos"})]}),r.jsxs("div",{className:"grid gap-2",children:[r.jsx(Re,{htmlFor:"country",children:"Country"}),r.jsxs(wr,{value:R.country,onValueChange:L=>P({...R,country:L}),children:[r.jsx(jr,{id:"country",children:r.jsx(br,{placeholder:"Select country"})}),r.jsxs(Nr,{children:[r.jsx(Te,{value:"Nigeria",children:"Nigeria"}),r.jsx(Te,{value:"Ghana",children:"Ghana"}),r.jsx(Te,{value:"South Africa",children:"South Africa"}),r.jsx(Te,{value:"Kenya",children:"Kenya"}),r.jsx(Te,{value:"USA",children:"United States"})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"grid gap-2",children:[r.jsx(Re,{htmlFor:"taxId",children:"Tax ID / GST Number"}),r.jsx(Ve,{id:"taxId",value:R.tax_id,onChange:L=>P({...R,tax_id:L.target.value}),placeholder:"TIN-98765432"})]}),r.jsxs("div",{className:"grid gap-2",children:[r.jsx(Re,{htmlFor:"paymentTerms",children:"Payment Terms"}),r.jsxs(wr,{value:R.payment_terms,onValueChange:L=>P({...R,payment_terms:L}),children:[r.jsx(jr,{id:"paymentTerms",children:r.jsx(br,{placeholder:"Select terms"})}),r.jsxs(Nr,{children:[r.jsx(Te,{value:"Immediate",children:"Immediate"}),r.jsx(Te,{value:"Net 7",children:"Net 7 Days"}),r.jsx(Te,{value:"Net 15",children:"Net 15 Days"}),r.jsx(Te,{value:"Net 30",children:"Net 30 Days"}),r.jsx(Te,{value:"Net 45",children:"Net 45 Days"}),r.jsx(Te,{value:"Net 60",children:"Net 60 Days"})]})]})]})]})]}),r.jsxs(au,{children:[r.jsx(Ae,{variant:"outline",onClick:()=>b(!1),children:"Cancel"}),r.jsx(Ae,{onClick:ee,disabled:o,children:o?r.jsxs(r.Fragment,{children:[r.jsx(an,{className:"w-4 h-4 mr-2 animate-spin"}),"Adding..."]}):"Add Supplier"})]})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[r.jsxs(Fe,{children:[r.jsxs(qe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(He,{className:"text-sm font-medium",children:"Total Suppliers"}),r.jsx(nu,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsxs(Ue,{children:[r.jsx("div",{className:"font-bold",children:e.length}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Active vendors"})]})]}),r.jsxs(Fe,{children:[r.jsxs(qe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(He,{className:"text-sm font-medium",children:"Total Payable"}),r.jsx(da,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsxs(Ue,{children:[r.jsx("div",{className:"font-bold",children:ot(u,n)}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Outstanding payments"})]})]}),r.jsxs(Fe,{children:[r.jsxs(qe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(He,{className:"text-sm font-medium",children:"Total Purchases"}),r.jsx(vs,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsxs(Ue,{children:[r.jsx("div",{className:"font-bold",children:h}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"All time orders"})]})]}),r.jsxs(Fe,{children:[r.jsxs(qe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(He,{className:"text-sm font-medium",children:"Active Status"}),r.jsx(nu,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsxs(Ue,{children:[r.jsx("div",{className:"font-bold",children:e.filter(L=>L.status==="active").length}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Active suppliers"})]})]})]}),r.jsxs(Fe,{children:[r.jsx(qe,{children:r.jsxs(He,{className:"flex items-center gap-2",children:[r.jsx(nu,{className:"w-5 h-5"}),"Supplier List"]})}),r.jsxs(Ue,{children:[r.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[r.jsxs("div",{className:"flex-1 relative",children:[r.jsx(vu,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),r.jsx(Ve,{placeholder:"Search suppliers by name, email, or company...",value:w,onChange:L=>Y(L.target.value),className:"pl-10"})]}),r.jsxs(wr,{value:S,onValueChange:_,children:[r.jsx(jr,{className:"w-full md:w-48",children:r.jsx(br,{placeholder:"Filter by status"})}),r.jsxs(Nr,{children:[r.jsx(Te,{value:"all",children:"All Suppliers"}),r.jsx(Te,{value:"active",children:"Active Only"}),r.jsx(Te,{value:"inactive",children:"Inactive Only"})]})]})]}),r.jsxs(yi,{children:[r.jsx(wi,{children:r.jsxs(vr,{children:[r.jsx(Ze,{children:"Contact Name"}),r.jsx(Ze,{children:"Company"}),r.jsx(Ze,{children:"Contact Info"}),r.jsx(Ze,{children:"Location"}),r.jsx(Ze,{children:"Payment Terms"}),r.jsx(Ze,{className:"text-right",children:"Payable"}),r.jsx(Ze,{children:"Status"}),r.jsx(Ze,{className:"text-right",children:"Actions"})]})}),r.jsx(bi,{children:ne.length===0?r.jsx(vr,{children:r.jsx(Ye,{colSpan:8,className:"text-center py-8",children:r.jsxs("div",{className:"flex flex-col items-center gap-2",children:[r.jsx(nu,{className:"w-12 h-12 text-muted-foreground"}),r.jsx("p",{className:"text-muted-foreground",children:w?"No suppliers found matching your search":"No suppliers yet. Add your first supplier to get started."})]})})}):ne.map(L=>r.jsxs(vr,{children:[r.jsx(Ye,{children:r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:L.name}),r.jsx("p",{className:"text-sm text-muted-foreground",children:L.company_name||"-"})]})}),r.jsx(Ye,{children:L.company_name||"-"}),r.jsx(Ye,{children:r.jsxs("div",{className:"text-sm space-y-1",children:[r.jsxs("p",{className:"flex items-center gap-1",children:[r.jsx(n0,{className:"w-3 h-3"}),L.email||"-"]}),r.jsxs("p",{className:"flex items-center gap-1",children:[r.jsx(_w,{className:"w-3 h-3"}),L.phone||"-"]})]})}),r.jsx(Ye,{children:r.jsx("div",{className:"text-sm",children:r.jsxs("p",{className:"flex items-center gap-1",children:[r.jsx(Nw,{className:"w-3 h-3"}),L.city||"-",", ",L.country||"-"]})})}),r.jsx(Ye,{children:r.jsx(qt,{variant:"outline",children:L.payment_terms||"-"})}),r.jsx(Ye,{className:"text-right font-medium",children:ot(L.balance||0,n)}),r.jsx(Ye,{children:r.jsx(qt,{variant:L.status==="active"?"default":"secondary",children:L.status})}),r.jsx(Ye,{className:"text-right",children:r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(Ae,{variant:"ghost",size:"sm",children:r.jsx(s0,{className:"w-4 h-4"})}),r.jsx(Ae,{variant:"ghost",size:"sm",onClick:()=>K(L.id),children:r.jsx(yu,{className:"w-4 h-4"})})]})})]},L.id))})]})]})]})]})}function TM(){const{currency:n}=fa(),[e,t]=C.useState([]),[s,i]=C.useState(!0),[o,c]=C.useState({total:0,income:0,expenses:0,pending:0}),[u]=C.useState([{id:"1",date:"2025-01-28",type:"income",category:"Sales",description:"Invoice #INV-001 payment from ABC Corp",amount:25e4,paymentMethod:"Bank Transfer",reference:"TRX-2025-001",customer:"ABC Corporation",status:"completed",reconciled:!0},{id:"2",date:"2025-01-27",type:"expense",category:"Purchases",description:"Office supplies from Global Supplies Inc",amount:45e3,paymentMethod:"Cash",reference:"TRX-2025-002",supplier:"Global Supplies Inc",status:"completed",reconciled:!0},{id:"3",date:"2025-01-27",type:"income",category:"Sales",description:"Invoice #INV-005 payment from XYZ Ltd",amount:18e4,paymentMethod:"Credit Card",reference:"TRX-2025-003",customer:"XYZ Limited",status:"completed",reconciled:!1},{id:"4",date:"2025-01-26",type:"expense",category:"Utilities",description:"Monthly electricity bill",amount:25e3,paymentMethod:"Bank Transfer",reference:"TRX-2025-004",status:"completed",reconciled:!0},{id:"5",date:"2025-01-26",type:"expense",category:"Payroll",description:"Salary payment - January 2025",amount:5e5,paymentMethod:"Bank Transfer",reference:"TRX-2025-005",status:"pending",reconciled:!1},{id:"6",date:"2025-01-25",type:"income",category:"Sales",description:"Invoice #INV-010 payment from Tech Solutions",amount:35e4,paymentMethod:"Bank Transfer",reference:"TRX-2025-006",customer:"Tech Solutions Ltd",status:"completed",reconciled:!0},{id:"7",date:"2025-01-24",type:"expense",category:"Marketing",description:"Social media advertising campaign",amount:75e3,paymentMethod:"Credit Card",reference:"TRX-2025-007",status:"completed",reconciled:!1}]),[d,h]=C.useState(""),[p,g]=C.useState("all"),[w,x]=C.useState("all"),[S,_]=C.useState("all"),[k,b]=C.useState({start:"",end:""}),R=["Sales","Purchases","Utilities","Payroll","Marketing","Other"];C.useEffect(()=>{P(),T()},[p,w,k]);const P=async()=>{i(!0);try{let q;k.start&&k.end?q=await qR(k.start,k.end):p&&p!=="all"?q=await VR(p):q=await No(),w&&w!=="all"&&(q=q.filter(L=>L.status===w)),t(q)}catch(q){console.error("Error loading transactions:",q),Le.error("Failed to load transactions")}finally{i(!1)}},T=async()=>{try{const q=await G0();c({total:q.total,income:q.income,expenses:q.expenses,pending:q.pending})}catch(q){console.error("Error loading stats:",q)}},F=async q=>{if(confirm("Are you sure you want to delete this transaction?"))try{await WR(q)?(Le.success("Transaction deleted successfully"),t(e.filter(z=>z.id!==q)),T()):Le.error("Failed to delete transaction")}catch(L){console.error("Error deleting transaction:",L),Le.error("Failed to delete transaction")}},ne=async q=>{if(h(q),!q.trim()){P();return}try{const L=await GR(q);t(L)}catch(L){console.error("Error searching transactions:",L),Le.error("Search failed")}},ee=e.filter(q=>{const L=q.description?.toLowerCase().includes(d.toLowerCase())||q.transaction_number?.toLowerCase().includes(d.toLowerCase()),z=S==="all"||q.category===S;return L&&z}),K=()=>{Le.success("Exporting transactions to CSV...")},Y=q=>{switch(q){case"income":return r.jsx(nS,{className:"w-4 h-4 text-green-500"});case"expense":return r.jsx(aS,{className:"w-4 h-4 text-red-500"});default:return r.jsx(da,{className:"w-4 h-4"})}};return s?r.jsx("div",{className:"p-6 space-y-6",children:r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsxs("div",{className:"text-center",children:[r.jsx(an,{className:"w-8 h-8 animate-spin mx-auto mb-2"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading transactions..."})]})})}):r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx("h1",{children:"Transactions"}),r.jsxs(qt,{variant:"secondary",children:[e.length," Total"]})]}),r.jsx("p",{className:"text-muted-foreground",children:"View and manage all financial transactions"})]}),r.jsx("div",{className:"flex gap-2",children:r.jsxs(Ae,{variant:"outline",onClick:K,className:"gap-2",children:[r.jsx(Un,{className:"w-4 h-4"}),"Export"]})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[r.jsxs(Fe,{children:[r.jsxs(qe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(He,{className:"text-sm font-medium",children:"Total Income"}),r.jsx(Td,{className:"h-4 w-4 text-green-500"})]}),r.jsxs(Ue,{children:[r.jsx("div",{className:"font-bold text-green-600",children:ot(o.income,n)}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:[e.filter(q=>q.type==="income").length," transactions"]})]})]}),r.jsxs(Fe,{children:[r.jsxs(qe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(He,{className:"text-sm font-medium",children:"Total Expenses"}),r.jsx(Cw,{className:"h-4 w-4 text-red-500"})]}),r.jsxs(Ue,{children:[r.jsx("div",{className:"font-bold text-red-600",children:ot(o.expenses,n)}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:[e.filter(q=>q.type==="expense").length," transactions"]})]})]}),r.jsxs(Fe,{children:[r.jsxs(qe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(He,{className:"text-sm font-medium",children:"Net Cash Flow"}),r.jsx(da,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsxs(Ue,{children:[r.jsx("div",{className:`font-bold ${o.income-o.expenses>=0?"text-green-600":"text-red-600"}`,children:ot(Math.abs(o.income-o.expenses),n)}),r.jsx("p",{className:"text-xs text-muted-foreground",children:o.income-o.expenses>=0?"Surplus":"Deficit"})]})]}),r.jsxs(Fe,{children:[r.jsxs(qe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(He,{className:"text-sm font-medium",children:"Pending"}),r.jsx(Xp,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsxs(Ue,{children:[r.jsx("div",{className:"font-bold",children:o.pending}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Awaiting completion"})]})]})]}),r.jsxs(Fe,{children:[r.jsx(qe,{children:r.jsxs(He,{className:"flex items-center gap-2",children:[r.jsx(Ap,{className:"w-5 h-5"}),"Transaction History"]})}),r.jsxs(Ue,{children:[r.jsxs("div",{className:"space-y-4 mb-6",children:[r.jsx("div",{className:"flex flex-col md:flex-row gap-4",children:r.jsxs("div",{className:"flex-1 relative",children:[r.jsx(vu,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),r.jsx(Ve,{placeholder:"Search by description, reference, customer, or supplier...",value:d,onChange:q=>ne(q.target.value),className:"pl-10"})]})}),r.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[r.jsxs(wr,{value:p,onValueChange:g,children:[r.jsx(jr,{className:"w-full md:w-48",children:r.jsx(br,{placeholder:"Filter by type"})}),r.jsxs(Nr,{children:[r.jsx(Te,{value:"all",children:"All Types"}),r.jsx(Te,{value:"income",children:"Income Only"}),r.jsx(Te,{value:"expense",children:"Expense Only"}),r.jsx(Te,{value:"transfer",children:"Transfer Only"})]})]}),r.jsxs(wr,{value:w,onValueChange:x,children:[r.jsx(jr,{className:"w-full md:w-48",children:r.jsx(br,{placeholder:"Filter by status"})}),r.jsxs(Nr,{children:[r.jsx(Te,{value:"all",children:"All Status"}),r.jsx(Te,{value:"completed",children:"Completed"}),r.jsx(Te,{value:"pending",children:"Pending"}),r.jsx(Te,{value:"failed",children:"Failed"})]})]}),r.jsxs(wr,{value:S,onValueChange:_,children:[r.jsx(jr,{className:"w-full md:w-48",children:r.jsx(br,{placeholder:"Filter by category"})}),r.jsxs(Nr,{children:[r.jsx(Te,{value:"all",children:"All Categories"}),R.map(q=>r.jsx(Te,{value:q,children:q},q))]})]})]})]}),r.jsxs(yi,{children:[r.jsx(wi,{children:r.jsxs(vr,{children:[r.jsx(Ze,{children:"Date"}),r.jsx(Ze,{children:"Type"}),r.jsx(Ze,{children:"Description"}),r.jsx(Ze,{children:"Category"}),r.jsx(Ze,{children:"Reference"}),r.jsx(Ze,{children:"Payment Method"}),r.jsx(Ze,{className:"text-right",children:"Amount"}),r.jsx(Ze,{children:"Status"}),r.jsx(Ze,{className:"text-center",children:"Reconciled"}),r.jsx(Ze,{className:"text-right",children:"Actions"})]})}),r.jsx(bi,{children:ee.length===0?r.jsx(vr,{children:r.jsx(Ye,{colSpan:10,className:"text-center py-8",children:r.jsxs("div",{className:"flex flex-col items-center gap-2",children:[r.jsx(Ap,{className:"w-12 h-12 text-muted-foreground"}),r.jsx("p",{className:"text-muted-foreground",children:d||p!=="all"||w!=="all"||S!=="all"?"No transactions found matching your filters":"No transactions yet."})]})})}):ee.map(q=>r.jsxs(vr,{children:[r.jsx(Ye,{className:"font-medium",children:new Date(q.transaction_date||q.created_at||new Date).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}),r.jsx(Ye,{children:r.jsxs("div",{className:"flex items-center gap-2",children:[Y(q.type),r.jsx("span",{className:"capitalize",children:q.type})]})}),r.jsx(Ye,{children:r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:q.description||"-"}),q.customer_name&&r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Customer: ",q.customer_name]}),q.supplier_name&&r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Supplier: ",q.supplier_name]})]})}),r.jsx(Ye,{children:r.jsx(qt,{variant:"outline",children:q.category||"Other"})}),r.jsx(Ye,{className:"font-mono text-sm",children:q.transaction_number||"-"}),r.jsx(Ye,{className:"text-sm",children:q.payment_method||"-"}),r.jsx(Ye,{className:"text-right font-medium",children:r.jsxs("span",{className:q.type==="income"?"text-green-600":q.type==="expense"?"text-red-600":"",children:[q.type==="income"?"+":q.type==="expense"?"-":"",ot(q.amount,n)]})}),r.jsx(Ye,{children:r.jsx(qt,{variant:q.status==="completed"?"default":q.status==="pending"?"secondary":"destructive",children:q.status})}),r.jsx(Ye,{className:"text-center",children:q.is_reconciled?r.jsx(qt,{variant:"outline",className:"bg-green-50",children:""}):r.jsx(qt,{variant:"outline",className:"bg-yellow-50",children:"-"})}),r.jsx(Ye,{className:"text-right",children:r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(Ae,{variant:"ghost",size:"sm",children:r.jsx(nc,{className:"w-4 h-4"})}),r.jsx(Ae,{variant:"ghost",size:"sm",onClick:()=>F(q.id),children:r.jsx(yu,{className:"w-4 h-4 text-destructive"})})]})})]},q.id))})]})]})]})]})}function LM(){const{currency:n}=fa(),[e,t]=C.useState("this-month"),[s,i]=C.useState("pdf"),[o,c]=C.useState(!0),[u,d]=C.useState(null),[h,p]=C.useState(null),[g,w]=C.useState(null),x=T=>{const F=new Date;let ne,ee=F;switch(T){case"today":ne=F;break;case"this-week":ne=new Date(F.setDate(F.getDate()-7));break;case"this-month":ne=new Date(F.getFullYear(),F.getMonth(),1);break;case"this-quarter":const K=Math.floor(F.getMonth()/3);ne=new Date(F.getFullYear(),K*3,1);break;case"this-year":ne=new Date(F.getFullYear(),0,1);break;case"last-month":ne=new Date(F.getFullYear(),F.getMonth()-1,1),ee=new Date(F.getFullYear(),F.getMonth(),0);break;case"last-quarter":const Y=Math.floor(F.getMonth()/3)-1;ne=new Date(F.getFullYear(),Y*3,1),ee=new Date(F.getFullYear(),Y*3+3,0);break;case"last-year":ne=new Date(F.getFullYear()-1,0,1),ee=new Date(F.getFullYear()-1,11,31);break;default:ne=new Date(F.getFullYear(),F.getMonth(),1)}return{startDate:ne.toISOString().split("T")[0],endDate:ee.toISOString().split("T")[0]}},S=async()=>{c(!0);try{const{startDate:T,endDate:F}=x(e),[ne,ee,K]=await Promise.all([ZR(T,F),eO(),tO(T,F)]);d(ne),p(ee),w(K)}catch(T){console.error("Error loading financial data:",T),Le.error("Failed to load financial reports")}finally{c(!1)}};C.useEffect(()=>{S()},[e]);const _=[{id:"1",name:"Sales by Customer",description:"Breakdown of sales revenue by customer",icon:mp,type:"sales-by-customer"},{id:"2",name:"Sales by Product",description:"Breakdown of sales revenue by product/service",icon:Ny,type:"sales-by-product"},{id:"3",name:"Sales by Period",description:"Sales trends over time (daily, weekly, monthly)",icon:Td,type:"sales-by-period"},{id:"4",name:"Invoice Aging Report",description:"Outstanding invoices grouped by age",icon:Xp,type:"invoice-aging"}],k=[{id:"5",name:"Expenses by Category",description:"Breakdown of expenses by category",icon:Ny,type:"expenses-by-category"},{id:"6",name:"Expenses by Supplier",description:"Breakdown of expenses by supplier",icon:mp,type:"expenses-by-supplier"},{id:"7",name:"Monthly Expense Trends",description:"Track expense patterns over time",icon:Td,type:"monthly-expenses"}],b=[{id:"8",name:"Stock Valuation",description:"Current inventory value and quantities",icon:da,type:"stock-valuation"},{id:"9",name:"Low Stock Alert",description:"Products below minimum stock levels",icon:vs,type:"low-stock"},{id:"10",name:"Inventory Movement",description:"Stock in and out movements",icon:mp,type:"inventory-movement"}],R=async(T,F)=>{Le.promise(new Promise(async(ne,ee)=>{try{const{startDate:K,endDate:Y}=x(e);let q;switch(F){case"sales-by-customer":q=await pM(K,Y);break;case"sales-by-product":q=await mM(K,Y);break;case"sales-by-period":q=await gM(K,Y);break;case"invoice-aging":q=await xM();break;case"expenses-by-category":q=await vM(K,Y);break;case"expenses-by-supplier":q=await yM(K,Y);break;case"monthly-expenses":q=await wM();break;case"stock-valuation":q=await bM();break;case"low-stock":q=await jM();break;case"inventory-movement":q=await NM(K,Y);break;default:q=null}console.log(`${T} Report Data:`,q),setTimeout(()=>{ne(q)},1e3)}catch(K){ee(K)}}),{loading:`Generating ${T}...`,success:`${T} generated successfully!`,error:`Failed to generate ${T}`})},P=T=>{Le.success(`Exporting ${T} as ${s.toUpperCase()}...`)};return o?r.jsx("div",{className:"p-6 flex items-center justify-center min-h-[400px]",children:r.jsxs("div",{className:"text-center",children:[r.jsx(an,{className:"w-8 h-8 animate-spin mx-auto mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"Loading financial reports..."})]})}):r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx("h1",{children:"Reports & Analytics"}),r.jsx(qt,{variant:"secondary",children:"Business Intelligence"})]}),r.jsx("p",{className:"text-muted-foreground",children:"Generate comprehensive financial and business reports"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(wr,{value:e,onValueChange:t,children:[r.jsx(jr,{className:"w-48",children:r.jsx(br,{placeholder:"Select date range"})}),r.jsxs(Nr,{children:[r.jsx(Te,{value:"today",children:"Today"}),r.jsx(Te,{value:"this-week",children:"This Week"}),r.jsx(Te,{value:"this-month",children:"This Month"}),r.jsx(Te,{value:"this-quarter",children:"This Quarter"}),r.jsx(Te,{value:"this-year",children:"This Year"}),r.jsx(Te,{value:"last-month",children:"Last Month"}),r.jsx(Te,{value:"last-quarter",children:"Last Quarter"}),r.jsx(Te,{value:"last-year",children:"Last Year"}),r.jsx(Te,{value:"custom",children:"Custom Range"})]})]}),r.jsxs(wr,{value:s,onValueChange:i,children:[r.jsx(jr,{className:"w-32",children:r.jsx(br,{placeholder:"Format"})}),r.jsxs(Nr,{children:[r.jsx(Te,{value:"pdf",children:"PDF"}),r.jsx(Te,{value:"excel",children:"Excel"}),r.jsx(Te,{value:"csv",children:"CSV"})]})]})]})]}),r.jsxs(pc,{defaultValue:"financial",className:"w-full",children:[r.jsxs(mc,{className:"mb-6",children:[r.jsx(Ar,{value:"financial",children:"Financial Reports"}),r.jsx(Ar,{value:"sales",children:"Sales Reports"}),r.jsx(Ar,{value:"expenses",children:"Expense Reports"}),r.jsx(Ar,{value:"inventory",children:"Inventory Reports"}),r.jsx(Ar,{value:"tax",children:"Tax Reports"})]}),r.jsxs(Er,{value:"financial",className:"space-y-6",children:[r.jsxs(Fe,{children:[r.jsx(qe,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs(He,{className:"flex items-center gap-2",children:[r.jsx(vs,{className:"w-5 h-5"}),"Profit & Loss Statement"]}),r.jsx(ur,{children:"Income statement showing revenue, costs, and profitability"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(Ae,{variant:"outline",size:"sm",onClick:()=>R("Profit & Loss Statement"),children:[r.jsx(nc,{className:"w-4 h-4 mr-2"}),"Preview"]}),r.jsxs(Ae,{size:"sm",onClick:()=>P("Profit & Loss"),children:[r.jsx(Un,{className:"w-4 h-4 mr-2"}),"Export"]})]})]})}),r.jsx(Ue,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex justify-between items-center p-4 bg-muted rounded-lg",children:[r.jsx("span",{className:"font-medium",children:"Total Revenue"}),r.jsx("span",{className:"font-bold text-green-600",children:ot(u?.revenue||0,n)})]}),r.jsxs("div",{className:"flex justify-between items-center p-4 bg-muted rounded-lg",children:[r.jsx("span",{children:"Cost of Sales"}),r.jsxs("span",{className:"text-red-600",children:["-",ot(u?.costOfSales||0,n)]})]}),r.jsxs("div",{className:"flex justify-between items-center p-4 bg-primary/10 rounded-lg border-2",children:[r.jsx("span",{className:"font-medium",children:"Gross Profit"}),r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"font-bold",children:ot(u?.grossProfit||0,n)}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:[u?.grossProfitMargin||0,"% margin"]})]})]}),r.jsxs("div",{className:"flex justify-between items-center p-4 bg-muted rounded-lg",children:[r.jsx("span",{children:"Operating Expenses"}),r.jsxs("span",{className:"text-red-600",children:["-",ot(u?.operatingExpenses||0,n)]})]}),r.jsxs("div",{className:"flex justify-between items-center p-4 bg-green-50 dark:bg-green-900/20 rounded-lg border-2 border-green-200",children:[r.jsx("span",{className:"font-medium",children:"Net Profit"}),r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"font-bold text-green-600",children:ot(u?.netProfit||0,n)}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:[u?.netProfitMargin||0,"% margin"]})]})]})]})})]}),r.jsxs(Fe,{children:[r.jsx(qe,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs(He,{className:"flex items-center gap-2",children:[r.jsx($S,{className:"w-5 h-5"}),"Balance Sheet"]}),r.jsx(ur,{children:"Statement of financial position showing assets, liabilities, and equity"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(Ae,{variant:"outline",size:"sm",onClick:()=>R("Balance Sheet"),children:[r.jsx(nc,{className:"w-4 h-4 mr-2"}),"Preview"]}),r.jsxs(Ae,{size:"sm",onClick:()=>P("Balance Sheet"),children:[r.jsx(Un,{className:"w-4 h-4 mr-2"}),"Export"]})]})]})}),r.jsx(Ue,{children:r.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"space-y-3",children:[r.jsx("h4",{className:"font-medium",children:"Assets"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between p-3 bg-muted rounded",children:[r.jsx("span",{className:"text-sm",children:"Current Assets"}),r.jsx("span",{className:"text-sm font-medium",children:ot(h?.assets.currentAssets||0,n)})]}),r.jsxs("div",{className:"flex justify-between p-3 bg-muted rounded",children:[r.jsx("span",{className:"text-sm",children:"Fixed Assets"}),r.jsx("span",{className:"text-sm font-medium",children:ot(h?.assets.fixedAssets||0,n)})]}),r.jsxs("div",{className:"flex justify-between p-3 bg-primary/10 rounded border-2",children:[r.jsx("span",{className:"font-medium",children:"Total Assets"}),r.jsx("span",{className:"font-bold",children:ot(h?.assets.total||0,n)})]})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("h4",{className:"font-medium",children:"Liabilities"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between p-3 bg-muted rounded",children:[r.jsx("span",{className:"text-sm",children:"Current Liabilities"}),r.jsx("span",{className:"text-sm font-medium",children:ot(h?.liabilities.currentLiabilities||0,n)})]}),r.jsxs("div",{className:"flex justify-between p-3 bg-muted rounded",children:[r.jsx("span",{className:"text-sm",children:"Long-term Liabilities"}),r.jsx("span",{className:"text-sm font-medium",children:ot(h?.liabilities.longTermLiabilities||0,n)})]}),r.jsxs("div",{className:"flex justify-between p-3 bg-primary/10 rounded border-2",children:[r.jsx("span",{className:"font-medium",children:"Total Liabilities"}),r.jsx("span",{className:"font-bold",children:ot(h?.liabilities.total||0,n)})]})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("h4",{className:"font-medium",children:"Equity"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between p-3 bg-muted rounded",children:[r.jsx("span",{className:"text-sm",children:"Capital"}),r.jsx("span",{className:"text-sm font-medium",children:ot(h?.equity.capital||0,n)})]}),r.jsxs("div",{className:"flex justify-between p-3 bg-muted rounded",children:[r.jsx("span",{className:"text-sm",children:"Retained Earnings"}),r.jsx("span",{className:"text-sm font-medium",children:ot(h?.equity.retainedEarnings||0,n)})]}),r.jsxs("div",{className:"flex justify-between p-3 bg-primary/10 rounded border-2",children:[r.jsx("span",{className:"font-medium",children:"Total Equity"}),r.jsx("span",{className:"font-bold",children:ot(h?.equity.total||0,n)})]})]})]})]})})]}),r.jsxs(Fe,{children:[r.jsx(qe,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs(He,{className:"flex items-center gap-2",children:[r.jsx(da,{className:"w-5 h-5"}),"Cash Flow Statement"]}),r.jsx(ur,{children:"Statement of cash inflows and outflows"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(Ae,{variant:"outline",size:"sm",onClick:()=>R("Cash Flow Statement"),children:[r.jsx(nc,{className:"w-4 h-4 mr-2"}),"Preview"]}),r.jsxs(Ae,{size:"sm",onClick:()=>P("Cash Flow"),children:[r.jsx(Un,{className:"w-4 h-4 mr-2"}),"Export"]})]})]})}),r.jsx(Ue,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex justify-between items-center p-4 bg-muted rounded-lg",children:[r.jsx("span",{children:"Operating Activities"}),r.jsxs("span",{className:"font-medium text-green-600",children:["+",ot(Math.abs(g?.operating||0),n)]})]}),r.jsxs("div",{className:"flex justify-between items-center p-4 bg-muted rounded-lg",children:[r.jsx("span",{children:"Investing Activities"}),r.jsx("span",{className:"font-medium text-red-600",children:ot(g?.investing||0,n)})]}),r.jsxs("div",{className:"flex justify-between items-center p-4 bg-muted rounded-lg",children:[r.jsx("span",{children:"Financing Activities"}),r.jsxs("span",{className:"font-medium text-green-600",children:["+",ot(Math.abs(g?.financing||0),n)]})]}),r.jsxs("div",{className:"flex justify-between items-center p-4 bg-primary/10 rounded-lg border-2",children:[r.jsx("span",{className:"font-medium",children:"Net Cash Flow"}),r.jsx("span",{className:"font-bold text-green-600",children:ot(g?.netCashFlow||0,n)})]}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mt-6",children:[r.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Opening Balance"}),r.jsx("p",{className:"font-bold",children:ot(g?.openingBalance||0,n)})]}),r.jsxs("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 rounded-lg border-2 border-green-200",children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Closing Balance"}),r.jsx("p",{className:"font-bold text-green-600",children:ot(g?.closingBalance||0,n)})]})]})]})})]})]}),r.jsx(Er,{value:"sales",className:"space-y-6",children:r.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:_.map(T=>r.jsxs(Fe,{children:[r.jsxs(qe,{children:[r.jsxs(He,{className:"flex items-center gap-2",children:[r.jsx(T.icon,{className:"w-5 h-5"}),T.name]}),r.jsx(ur,{children:T.description})]}),r.jsx(Ue,{children:r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(Ae,{variant:"outline",className:"flex-1",onClick:()=>R(T.name,T.type),children:[r.jsx(nc,{className:"w-4 h-4 mr-2"}),"Preview"]}),r.jsxs(Ae,{className:"flex-1",onClick:()=>P(T.name),children:[r.jsx(Un,{className:"w-4 h-4 mr-2"}),"Export"]})]})})]},T.id))})}),r.jsx(Er,{value:"expenses",className:"space-y-6",children:r.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:k.map(T=>r.jsxs(Fe,{children:[r.jsxs(qe,{children:[r.jsxs(He,{className:"flex items-center gap-2",children:[r.jsx(T.icon,{className:"w-5 h-5"}),T.name]}),r.jsx(ur,{children:T.description})]}),r.jsx(Ue,{children:r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(Ae,{variant:"outline",className:"flex-1",onClick:()=>R(T.name,T.type),children:[r.jsx(nc,{className:"w-4 h-4 mr-2"}),"Preview"]}),r.jsxs(Ae,{className:"flex-1",onClick:()=>P(T.name),children:[r.jsx(Un,{className:"w-4 h-4 mr-2"}),"Export"]})]})})]},T.id))})}),r.jsx(Er,{value:"inventory",className:"space-y-6",children:r.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:b.map(T=>r.jsxs(Fe,{children:[r.jsxs(qe,{children:[r.jsxs(He,{className:"flex items-center gap-2",children:[r.jsx(T.icon,{className:"w-5 h-5"}),T.name]}),r.jsx(ur,{children:T.description})]}),r.jsx(Ue,{children:r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(Ae,{variant:"outline",className:"flex-1",onClick:()=>R(T.name,T.type),children:[r.jsx(nc,{className:"w-4 h-4 mr-2"}),"Preview"]}),r.jsxs(Ae,{className:"flex-1",onClick:()=>P(T.name),children:[r.jsx(Un,{className:"w-4 h-4 mr-2"}),"Export"]})]})})]},T.id))})}),r.jsx(Er,{value:"tax",className:"space-y-6",children:r.jsxs(Fe,{children:[r.jsxs(qe,{children:[r.jsx(He,{children:"Tax Reports"}),r.jsx(ur,{children:"GST/VAT returns and tax compliance reports"})]}),r.jsx(Ue,{children:r.jsxs("div",{className:"p-8 text-center border-2 border-dashed rounded-lg",children:[r.jsx(vs,{className:"w-12 h-12 mx-auto text-muted-foreground mb-3"}),r.jsx("p",{className:"text-muted-foreground mb-4",children:"Tax reports will be available after configuring tax settings"}),r.jsx(Ae,{variant:"outline",children:"Configure Tax Settings"})]})})]})})]})]})}function IM(){const[n,e]=C.useState("dashboard"),t=()=>{e("quick-invoice")},s=()=>{e("quick-billing")},i=()=>{e("ocr-scanner")},o=()=>{const{isPremium:c,isStarter:u,isProfessional:d,features:h}=wu(),p=()=>{e("settings")};switch(n){case"dashboard":return r.jsx(D1,{onQuickInvoice:t,onQuickBilling:s,onOCRScanner:i});case"quick-invoice":return r.jsx(_M,{});case"quick-billing":return r.jsx(SM,{});case"ocr-scanner":return h.hasAIScanner?r.jsx(CM,{}):r.jsx(Nh,{feature:"AI OCR Scanner",requiredPlan:"premium",onUpgrade:p});case"accounting":return h.hasAccounting?r.jsx(rO,{}):r.jsx(Nh,{feature:"Accounting",requiredPlan:"starter",onUpgrade:p});case"inventory":return h.hasInventory?r.jsx(pO,{}):r.jsx(Nh,{feature:"Inventory Management",requiredPlan:"professional",onUpgrade:p});case"tax":return h.hasTaxCompliance?r.jsx(mO,{}):r.jsx(Nh,{feature:"Tax Compliance",requiredPlan:"professional",onUpgrade:p});case"payroll":return h.hasPayroll?r.jsx(yO,{}):r.jsx(Nh,{feature:"Payroll Processing",requiredPlan:"premium",onUpgrade:p});case"customers":return r.jsx(AM,{});case"products":return r.jsx(EM,{});case"suppliers":return r.jsx(PM,{});case"transactions":return r.jsx(TM,{});case"reports":return r.jsx(LM,{});case"settings":return r.jsx(LR,{});default:return r.jsx(D1,{onQuickInvoice:t,onQuickBilling:s,onOCRScanner:i})}};return r.jsx(KL,{children:r.jsx(OL,{children:r.jsxs(bT,{activeModule:n,onModuleChange:e,children:[r.jsx(o,{}),r.jsx(jT,{onQuickInvoice:t,onQuickBilling:s}),r.jsx(RM,{})]})})})}function RM(){const{features:n}=wu();return n.hasAIChatbot?r.jsx(kM,{}):null}var OM=(n,e,t,s,i,o,c,u)=>{let d=document.documentElement,h=["light","dark"];function p(x){(Array.isArray(n)?n:[n]).forEach(S=>{let _=S==="class",k=_&&o?i.map(b=>o[b]||b):i;_?(d.classList.remove(...k),d.classList.add(o&&o[x]?o[x]:x)):d.setAttribute(S,x)}),g(x)}function g(x){u&&h.includes(x)&&(d.style.colorScheme=x)}function w(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(s)p(s);else try{let x=localStorage.getItem(e)||t,S=c&&x==="system"?w():x;p(S)}catch{}},DM=C.createContext(void 0),MM={setTheme:n=>{},themes:[]},FM=()=>{var n;return(n=C.useContext(DM))!=null?n:MM};C.memo(({forcedTheme:n,storageKey:e,attribute:t,enableSystem:s,enableColorScheme:i,defaultTheme:o,value:c,themes:u,nonce:d,scriptProps:h})=>{let p=JSON.stringify([t,e,o,n,u,c,s,i]).slice(1,-1);return C.createElement("script",{...h,suppressHydrationWarning:!0,nonce:typeof window>"u"?d:"",dangerouslySetInnerHTML:{__html:`(${OM.toString()})(${p})`}})});const BM=({...n})=>{const{theme:e="system"}=FM();return r.jsx(vE,{theme:e,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...n})};function UM(){const[n,e]=C.useState(null),{user:t,isLoading:s}=Kh();return C.useEffect(()=>{document.title="EaziBook - Smart Business Management"},[]),s?r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:r.jsx("div",{className:"text-center max-w-md px-4",children:r.jsxs("div",{className:"mb-6",children:[r.jsx("div",{className:"w-16 h-16 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),r.jsx("h1",{className:"text-4xl mb-2",children:"EaziBook"}),r.jsx("p",{className:"text-muted-foreground",children:"Initializing your workspace..."})]})})}):t?r.jsx(IM,{}):n==="signup"?r.jsx(wE,{onSwitchToLogin:()=>e("login")}):n==="login"?r.jsx(yE,{onSwitchToSignup:()=>e("signup")}):r.jsx(ok,{onGetStarted:()=>e("signup")})}function $M(){return r.jsxs(HA,{children:[r.jsx(UM,{}),r.jsx(BM,{})]})}e4.createRoot(document.getElementById("root")).render(r.jsx($M,{}));export{Xr as _,zM as c,Qx as g};
